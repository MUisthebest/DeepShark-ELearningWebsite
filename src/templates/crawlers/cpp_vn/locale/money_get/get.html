 <h1 class="firstHeading" id="firstHeading">std :: money_get &lt;biểu đồ, inputit&gt; :: get, do_get</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/locale" title="cpp/header/locale">&lt;locale&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">công cộng:</pre>
</td> <td>(1)</td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">ITER_TYPE GET (ITER_TYPE BEG, ITER_TYPE END, BOOL INTL, STD :: IOS_BASE &amp; STR,</pre>
</td> <td>(2)</td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">               std :: iOS_Base :: iostate &amp; err, dài đôi &amp; đơn vị) const;</pre>
</td> <td>(3)</td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">ITER_TYPE GET (ITER_TYPE BEG, ITER_TYPE END, BOOL INTL, STD :: IOS_BASE &amp; STR,</pre>
</td> <td>(4)</td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>               std :: iOS_Base :: iostate &amp; err, String_type &amp; Digits) const;<code>long double</code>được bảo vệ:</p>
<div class="t-li1">
<span class="t-li">Đầu vào</span>Virtual ITER_TYPE DO_GET (ITER_TYPE BEG, ITER_TYPE END, BOOL INTL, STD :: IOS_BASE &amp; STR,<code>do_get</code>Virtual POS_Type Seekoff (Off_Type TẮT, STD :: IOS_BASE :: SeekDir Dir,</div> <div class="t-li1">
<span class="t-li">, hành vi là không xác định.</span>                          std :: iOS_Base :: iostate &amp; err, dài đôi &amp; đơn vị) const;<code>beg</code>Virtual ITER_TYPE DO_GET (ITER_TYPE BEG, ITER_TYPE END, BOOL INTL, STD :: IOS_BASE &amp; STR,<code><a href="http://en.cppreference.com/w/cpp/locale/ctype"><span class="kw1942">Điều đó cho tất cả<span class="me2">Ctype</span></span></a></code>hoặc chuỗi.<code>str.getloc()</code>.<code>ct</code>Phân tích giá trị tiền tệ từ một trình lặp đầu vào và ghi kết quả thành một<code><a href="http://en.cppreference.com/w/cpp/locale/moneypunct"><span class="kw1976">Điều đó cho tất cả<span class="me2">tiền</span></span></a><span class="sy1">is_trivently_destructible_v</span>CharT, intl<span class="sy1">&lt;</span></code>hoặc chuỗi.<code>str.getloc()</code>.<code>mp</code>Các chức năng thành viên công cộng, hãy gọi chức năng thành viên<code>str.flags()</code>.</div> <p>Đọc các ký tự từ trình lặp đầu vào<code>beg</code>, mong đợi tìm thấy một giá trị tiền tệ được định dạng theo các quy tắc được chỉ định bởi<code>end</code>Facet thấm nhuần vào<code>failbit</code>Và<code>eofbit</code>TRONG<code>err</code>cho phần còn lại của trang này),<code>failbit</code>TRONG<code>err</code>Facet thấm nhuần vào<code>units</code>hoặc<code>digits</code>cho phần còn lại của trang này) và các cờ định dạng luồng thu được từ</p>
<p>Nếu bộ lặp đầu vào<code>err</code>trở nên bằng<code>units</code>hoặc<code>digits</code>.</p>
<p>Trước khi phân tích cú pháp hoàn thành, đặt cả hai<code><a href="../money_base" title="cpp/locale/money base">pattern</a></code>. Nếu phân tích cú pháp thất bại vì một lý do khác, hãy đặt<code>mp.neg_format()</code>.</p>
<p>Nếu như<code>mp.grouping()</code>. Dù bằng cách nào, không sửa đổi tham số đầu ra (</p>
<p>Nếu như<code>money_base::space</code>hoặc<code>money_base::none</code>) về lỗi.<code><a href="../money_base" title="cpp/locale/money base">pattern</a></code>Nếu phân tích cú pháp thành công, không thay đổi<code>money_base::space</code>và lưu trữ kết quả trong</p>
<p>Nếu như<code>showbase</code>Các định dạng<code>str.flags()</code>Được sử dụng bởi chức năng này luôn luôn là</p>
<p>Không cho phép hàng ngàn phân tách, bộ phân cách đầu tiên gặp phải được coi là lỗi phân tích cú pháp, nếu không chúng được coi là tùy chọn.<code>mp.positive_sign()</code>hoặc<code>mp.negative_sign()</code>là yếu tố cuối cùng trong<code>money_base::sign</code>, trình phân tích cú pháp không cố gắng tiêu thụ bất kỳ khoảng trắng nào sau các thành phần khác của giá trị tiền tệ đã được phân tích cú pháp. Nếu không, một hoặc nhiều ký tự khoảng trắng được tiêu thụ ở đâu<code>mp.positive_sign()</code>Và<code>mp.negative_sign()</code>xuất hiện.<code>digits</code>Cờ được đặt trong<code>ct.widen('-')</code>, ký hiệu tiền tệ hoặc chuỗi tiền tệ là bắt buộc, nếu nó không được đặt, ký hiệu tiền tệ là tùy chọn.</p>
<p>Nếu ký tự đầu tiên của chuỗi được trả về bởi<code>digits</code>được tìm thấy trong<code>ct.widen()</code>Vị trí của mẫu định dạng, nó được tiêu thụ và phần còn lại của các ký tự trong chuỗi đó được mong đợi và tiêu thụ sau tất cả các thành phần khác của giá trị tiền tệ. Nếu cả hai<code>buf1</code>là không trống, dấu hiệu được yêu cầu và phải khớp với ký tự đầu tiên của một trong các chuỗi này. Nếu một trong các chuỗi Luận pháp trống, dấu hiệu là tùy chọn (và nếu không có, dấu hiệu của kết quả tương ứng với chuỗi trống). Nếu cả hai chuỗi đều trống hoặc có cùng một ký tự đầu tiên, kết quả sẽ được đưa ra dấu hiệu tích cực. Nếu tham số đầu ra là một chuỗi (<code>units</code>) và kết quả là âm, giá trị</p>
<div class="cpp source-cpp"><pre data-language="cpp">được lưu trữ là nhân vật đầu tiên của kết quả.</pre></div> <p>(Ở đâu<code>n</code>Các chữ số từ đầu vào được trích xuất theo thứ tự chúng xuất hiện và được đặt vào<code>buf1</code>Và<code>buf2</code>(Sau khi mở rộng bằng</p>
<h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>khi cần thiết) hoặc vào bộ đệm tạm thời</p>
<h3 id="Notes">Ghi chú</h3> <p>, từ đó giá trị của<code>"$1,056.23"</code>được xây dựng như thể bằng cách<code>105623.0</code>TRONG<code>units</code>static const char src [] = "0123456789-";<code>"105623"</code>TRONG<code>digits</code>.</p>
<p>Các nguyên tử biểu đồ [sizeof (SRC)];<code>showbase</code>CT.Widen (SRC, SRC + sizeof (SRC) - 1, nguyên tử);<code>negative_sign()</code>for (int i = 0; i &lt;n; ++ i)<code>{sign, value, space, symbol}</code>với<code>showbase</code>buf2 [i] = src [tìm (nguyên tử, nguyên tử+sizeof (src), buf1 [i]) - nguyên tử];<code>"-"</code>là số lượng ký tự được trích xuất từ ​​đầu vào và được lưu trữ trong<code>"-1.23 €"</code>phân tích cú pháp như<code>-123</code>sscanf (buf2, "%lf", &amp; đơn vị);<code>"()"</code>là số lượng ký tự được trích xuất từ ​​đầu vào và được lưu trữ trong<code>"(1.23 €)"</code>là một bộ đệm ký tự đủ lớn khác).</p>
<p>), Sentry đọc và loại bỏ các ký tự khoảng trắng hàng đầu. Nếu kết thúc của luồng đầu vào đạt được trong hoạt động này, cả hai<code><a href="../../io/manip/get_money" title="cpp/io/manip/get money">std::get_money</a></code>Một trình lặp chỉ ngay sau khi ký tự cuối cùng được công nhận là một phần hợp lệ của đầu vào chuỗi tiền tệ.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">Các đơn vị tiền tệ được coi là đơn vị không phân đoạn nhỏ nhất của tiền tệ: xu ở Hoa Kỳ, Yen ở Nhật Bản. Do đó, trình tự đầu vào</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">Trong một địa điểm của Hoa Kỳ tạo ra số lượng</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../moneypunct" title="cpp/locale/moneypunct"> <span class="t-lines"><span>tiền</span></span></a></div> </td> <td>Xác định các tham số định dạng tiền tệ được sử dụng bởi<code><a href="../money_get" title="cpp/locale/money get">std::money_get</a></code>Và<code><a href="../money_put" title="cpp/locale/money put">std::money_put</a></code> <br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../money_get" title="cpp/locale/money get"> <span class="t-lines"><span>Money_Get</span></span></a></div> </td> <td>phân tích cú pháp và xây dựng một giá trị tiền tệ từ chuỗi ký tự đầu vào<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../../io/manip/get_money" title="cpp/io/manip/get money"> <span class="t-lines"><span>get_money</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>phân tích giá trị tiền tệ<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/locale/money_get/get">https://en.cppreference.com/w/cpp/locale/money_get/get</a>
</p>
</div>
