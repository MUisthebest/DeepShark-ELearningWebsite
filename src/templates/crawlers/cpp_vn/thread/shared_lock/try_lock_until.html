 <h1 class="firstHeading" id="firstHeading">std :: Shared_lock &lt;mutex&gt; :: try_lock_until</h1> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx14"> <td> <pre data-language="cpp">Mẫu &lt;Đồng hồ lớp, Thời lượng lớp&gt;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx14">(kể từ C ++ 14)</span> </td> </tr> </table> <p>bool try_lock_for (const std :: Chrono :: Thời lượng &lt;rep, intion&gt; &amp; timeout_duration);<code>timeout_time</code>bool try_lock_until (const std :: Chrono :: Time_point &lt;Đồng hồ, Thời lượng&gt; &amp; TIMEOUT_TIME);<code>true</code>ở trong trạng thái không hợp lệ, tức là<code>false</code>đã đạt được hoặc khóa được mua lại, tùy theo điều kiện nào đến trước. Về lợi nhuận thu nhận khóa thành công<code>timeout_time</code>Chặn việc thực hiện luồng hiện tại cho đến khi được chỉ định</p>
<p>Gọi một cách hiệu quả<code>mutex()-&gt;try_lock_shared_until(timeout_time)</code>.</p>
<p><code><a href="../../error/system_error" title="cpp/error/system error">std::system_error</a></code>được ném nếu không có mutex liên quan hoặc nếu mutex đã bị khóa.</p>
<p><code>Clock</code>          khoảng cách lớp = std :: ptrdiff_t&gt;<a href="../../named_req/clock" title="cpp/named req/Clock">Clock</a>. Có thể chặn lâu hơn cho đến khi<code>Mutex</code>với luồng đầu ra C tiêu chuẩn<a href="../../named_req/sharedtimedlockable" title="cpp/named req/SharedTimedLockable">SharedTimedLockable</a>yêu cầu.<span class="t-rev-inl t-since-cxx20"><span>là nó luôn luôn đề cập đến một múi giờ hợp lệ và đại diện cho một điểm thời gian hiện có và rõ ràng trong múi giờ đó. Phù hợp với bất biến này,<code><a href="http://en.cppreference.com/w/cpp/chrono/is_clock"><span class="kw2552">Điều đó cho tất cả<span class="me2">Chrono</span><span class="sy4">::</span><span class="me2">IS_CLOCK_V</span></span></a><span class="sy1">is_trivently_destructible_v</span>Clock<span class="sy1">&lt;</span></code>khoảng cách<code>false</code>.</span><span><span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span></span></span></p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>khiến luồng hiện tại bị chặn cho đến khi biến điều kiện được thông báo, đạt được thời gian cụ thể hoặc xảy ra đánh thức giả, tùy chọn lặp lại cho đến khi một số vị ngữ được thỏa mãn (</td> <td>-</td> <td>trước khi gọi đến chức năng này, hoặc</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p><code>true</code>Nếu quyền sở hữu của Mutex đã được mua lại thành công,<code>false</code>Nếu đối số đầu tiên là</p>
<h3 id="Exceptions">Ngoại lệ</h3> <ul>
<li>Bất kỳ trường hợp ngoại lệ nào được ném bởi<code>mutex()-&gt;try_lock_shared_for(timeout_time)</code>.</li>
<li>Nếu không có mutex liên quan,<code><a href="../../error/system_error" title="cpp/error/system error">std::system_error</a></code>với mã lỗi của<code><a href="../../error/errc" title="cpp/error/errc">std::errc::operation_not_permitted</a></code>.</li>
<li>Nếu mutex đã bị khóa,<code><a href="../../error/system_error" title="cpp/error/system error">std::system_error</a></code>với mã lỗi của<code><a href="../../error/errc" title="cpp/error/errc">std::errc::resource_deadlock_would_occur</a></code>.</li>
</ul> <h3 id="Example">Ví dụ</h3> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="lock" title="cpp/thread/shared lock/lock"> <span class="t-lines"><span>khóa</span></span></a></div> </td> <td>Khóa chia sẻ<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="try_lock" title="cpp/thread/shared lock/try lock"> <span class="t-lines"><span>Try_lock</span></span></a></div> </td> <td>Khóa Mutex liên quan<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="try_lock_for" title="cpp/thread/shared lock/try lock for"> <span class="t-lines"><span>Try_lock_for</span></span></a></div> </td> <td>cố gắng khóa mutex liên quan<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unlock" title="cpp/thread/shared lock/unlock"> <span class="t-lines"><span>Mở khóa</span></span></a></div> </td> <td>cố gắng khóa mutex liên quan, cho đến khi một thời điểm xác định<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../unique_lock/try_lock_until" title="cpp/thread/unique lock/try lock until"> <span class="t-lines"><span>Try_lock_until</span></span></a></div> </td> <td>Mutex, trả về nếu Mutex không có sẵn trong khoảng thời gian quy định<a href="../../named_req/timedlockable" title="cpp/named req/TimedLockable">TimedLockable</a>cố gắng khóa (tức là, quyền sở hữu)<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::unique_lock&lt;Mutex&gt;</code>)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/thread/shared_lock/try_lock_until">https://en.cppreference.com/w/cpp/thread/shared_lock/try_lock_until</a>
</p>
</div>
