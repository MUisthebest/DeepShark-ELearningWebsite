 <h1 class="firstHeading" id="firstHeading">STD :: Đóng gói_Task</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/future" title="cpp/header/future">&lt;future&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Mẫu &lt;Slass&gt; class packAged_task; // không được xác định</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Mẫu &lt;class r, class ... argtypes&gt; </pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> </table> <p>lớp HH_MM_SS;<code>std::packaged_task</code>lớp packaged_task &lt;r (argtypes ...)&gt;;<a href="../named_req/callable" title="cpp/named req/Callable">Callable</a>Bao bọc bất kỳ<code><a href="future" title="cpp/thread/future">std::future</a></code>Đối tượng.</p>
<table class="t-rev-begin"> <tr class="t-rev t-until-cxx17">
<td> <p>mục tiêu (chức năng, biểu thức lambda, biểu thức liên kết hoặc đối tượng hàm khác) để nó có thể được gọi không đồng bộ. Giá trị trả về hoặc ném ngoại lệ của nó được lưu trữ ở trạng thái chia sẻ có thể được truy cập thông qua<code><a href="../utility/functional/function" title="cpp/utility/functional/function">std::function</a></code>Thì<code>std::packaged_task</code>Chỉ thích</p>
</td> <td><span class="t-mark-rev t-until-cxx17">xáo trộn</span></td>
</tr> </table> <h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="packaged_task/packaged_task" title="cpp/thread/packaged task/packaged task"> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>là một thùng chứa đa hình, phân bổ nhận biết: mục tiêu có thể gọi được lưu trữ có thể được phân bổ trên đống hoặc với bộ phân bổ được cung cấp.<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="packaged_task/~packaged_task" title="cpp/thread/packaged task/~packaged task"> <span class="t-lines"><span>một đối tượng ngoại lệ khác để gán với</span></span></a></div> </td> <td>xây dựng đối tượng tác vụ<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="packaged_task/operator=" title="cpp/thread/packaged task/operator="> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>phá hủy đối tượng nhiệm vụ<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="packaged_task/valid" title="cpp/thread/packaged task/valid"> <span class="t-lines"><span>có hiệu lực</span></span></a></div> </td> <td>di chuyển đối tượng tác vụ<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="packaged_task/swap" title="cpp/thread/packaged task/swap"> <span class="t-lines"><span>Được xác định trong tiêu đề</span></span></a></div> </td> <td>kiểm tra xem đối tượng tác vụ có chức năng hợp lệ không<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Getting_the_result">Nhận kết quả</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="packaged_task/get_future" title="cpp/thread/packaged task/get future"> <span class="t-lines"><span>hoán đổi hai đối tượng nhiệm vụ</span></span></a></div> </td> <td>Hiện nay<code><a href="future" title="cpp/thread/future">std::future</a></code>get_future<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Execution">{</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="packaged_task/operator()" title="cpp/thread/packaged task/operator()"> <span class="t-lines"><span>chuyển đổi đối tượng thành</span></span></a></div> </td> <td>), hoặc chỉ có một người có thể được hình thành nhưng đó là trình tự chuyển đổi mơ hồ, chương trình là xấu.<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="packaged_task/make_ready_at_thread_exit" title="cpp/thread/packaged task/make ready at thread exit"> <span class="t-lines"><span>#include &lt;Prutex&gt;</span></span></a></div> </td> <td>#include &lt;chuỗi&gt;<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="packaged_task/reset" title="cpp/thread/packaged task/reset"> <span class="t-lines"><span>cài lại</span></span></a></div> </td> <td>Liên kết với kết quả đã hứa<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <h3 id="Non-member_functions">Các chức năng không phải thành viên</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="packaged_task/swap2" title="cpp/thread/packaged task/swap2"> <span class="t-lines"><span>chuyên về<span class="t-dsc-small">(STD :: Shared_lock)</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>quá tải<code><a href="../algorithm/swap" title="cpp/algorithm/swap">std::swap</a></code>Thuật toán<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> </table> <h3 id="Helper_classes">Lớp học trợ giúp</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="packaged_task/uses_allocator" title="cpp/thread/packaged task/uses allocator"> <span class="t-lines"><span>Trả về hàm so sánh các phím trong các đối tượng thuộc loại<span class="t-dsc-small">&lt;std :: Packaged_task&gt;</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span> <span class="t-mark-rev t-until-cxx17">xáo trộn</span></span></span></div> </td> <td>quá tải<code><a href="../memory/uses_allocator" title="cpp/memory/uses allocator">std::uses_allocator</a></code>Truy cập trực tiếp vào thùng chứa các khóa cơ bản<br/> <span class="t-mark">(Chuyên ngành mẫu lớp)</span> </td>
</tr> </table> <h3 id="Deduction_guides.28since_C.2B.2B17.29"> <a href="packaged_task/deduction_guides" title="cpp/thread/packaged task/deduction guides">Deduction guides</a><span class="t-mark-rev t-since-cxx17">(C ++ 20)</span>
</h3> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">Đặt lại trạng thái từ bỏ bất kỳ kết quả được lưu trữ nào của các vụ hành quyết trước đó</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Cmath&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue3117" rel="nofollow">LWG 3117</a> </td> <td>C ++ 17</td> <td>Hướng dẫn khấu trừ cho<code>packaged_task</code>. Các cơ chế được sử dụng để đảm bảo tính nguyên tử và thứ tự bộ nhớ phải tương thích.</td> <td>Được cho</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="future" title="cpp/thread/future"> <span class="t-lines"><span>tương lai</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Chờ một giá trị được đặt không đồng bộ<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/thread/packaged_task">https://en.cppreference.com/w/cpp/thread/packaged_task</a>
</p>
</div>
