 <h1 class="firstHeading" id="firstHeading">STD :: Shared_Timed_Mutex</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/shared_mutex" title="cpp/header/shared mutex">&lt;shared_mutex&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx14"> <td> <pre data-language="cpp">lớp chia sẻ_timed_mutex;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx14">(kể từ C ++ 14)</span> </td> </tr> </table> <p>Các<code>shared_timed_mutex</code>Lớp là một nguyên thủy đồng bộ hóa có thể được sử dụng để bảo vệ dữ liệu được chia sẻ khỏi được truy cập đồng thời bởi nhiều luồng. Trái ngược với các loại mutex khác tạo điều kiện cho quyền truy cập độc quyền,<code>shared_timed_mutex</code>có hai cấp độ truy cập:</p>
<ul>
<li> <i>loại trừ</i>- Chỉ một chủ đề có thể sở hữu mutex.</li>
<li> <i>chia sẻ</i>- Một số chủ đề có thể chia sẻ quyền sở hữu của cùng một mutex.</li>
</ul> <p>Các mutex được chia sẻ thường được sử dụng trong các tình huống khi nhiều độc giả có thể truy cập cùng một tài nguyên cùng một lúc mà không gây ra các cuộc đua dữ liệu, nhưng chỉ có một người viết có thể làm như vậy.</p>
<p>Theo cách tương tự như<a href="timed_mutex" title="cpp/thread/timed mutex"><code>timed_mutex</code></a>Thì<code>shared_timed_mutex</code>cung cấp khả năng cố gắng yêu cầu quyền sở hữu của một<code>shared_timed_mutex</code>với thời gian chờ thông qua<a href="shared_timed_mutex/try_lock_for" title="cpp/thread/shared timed mutex/try lock for"><code>try_lock_for()</code></a>Thì<a href="shared_timed_mutex/try_lock_until" title="cpp/thread/shared timed mutex/try lock until"><code>try_lock_until()</code></a>Thì<a href="shared_timed_mutex/try_lock_shared_for" title="cpp/thread/shared timed mutex/try lock shared for"><code>try_lock_shared_for()</code></a>Thì<a href="shared_timed_mutex/try_lock_shared_until" title="cpp/thread/shared timed mutex/try lock shared until"><code>try_lock_shared_until()</code></a>Chức năng thành viên.</p>
<p>Các<code>shared_timed_mutex</code>lớp đáp ứng tất cả các yêu cầu của<a href="../named_req/sharedtimedmutex" title="cpp/named req/SharedTimedMutex">SharedTimedMutex</a>Và<a href="../named_req/standardlayouttype" title="cpp/named req/StandardLayoutType">StandardLayoutType</a>.</p>
<h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/shared_timed_mutex" title="cpp/thread/shared timed mutex/shared timed mutex"> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>xây dựng mutex<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/~shared_timed_mutex" title="cpp/thread/shared timed mutex/~shared timed mutex"> <span class="t-lines"><span>một đối tượng ngoại lệ khác để gán với</span></span></a></div> </td> <td>Phá hủy Mutex<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span>chuyên môn)</span></span></div>
<div><span class="t-lines"><span><span class="t-cmark">[Đã xóa]</span></span></span></div> </td> <td>Không được xác nhận sao chép<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Exclusive_locking">Khóa độc quyền</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/lock" title="cpp/thread/shared timed mutex/lock"> <span class="t-lines"><span>khóa</span></span></a></div> </td> <td>Khóa mutex, khối nếu không có sẵn Mutex<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/try_lock" title="cpp/thread/shared timed mutex/try lock"> <span class="t-lines"><span>Try_lock</span></span></a></div> </td> <td>cố gắng khóa mutex, trả về nếu không có sẵn mutex<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/try_lock_for" title="cpp/thread/shared timed mutex/try lock for"> <span class="t-lines"><span>Try_lock_for</span></span></a></div> </td> <td>cố gắng khóa mutex, trả về nếu catex đã được<br/>Không có sẵn trong thời gian chờ quy định<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/try_lock_until" title="cpp/thread/shared timed mutex/try lock until"> <span class="t-lines"><span>Try_lock_until</span></span></a></div> </td> <td>cố gắng khóa mutex, trả về nếu catex đã được<br/>Không có sẵn cho đến khi đạt được điểm thời gian được chỉ định<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/unlock" title="cpp/thread/shared timed mutex/unlock"> <span class="t-lines"><span>Mở khóa</span></span></a></div> </td> <td>Mở khóa mutex<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Shared_locking">Mở khóa Mutex, nếu được sở hữu và có được quyền sở hữu của người khác</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/lock_shared" title="cpp/thread/shared timed mutex/lock shared"> <span class="t-lines"><span>lock_shared</span></span></a></div> </td> <td>Khóa Mutex cho quyền sở hữu được chia sẻ, các khối nếu không có sẵn Mutex<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/try_lock_shared" title="cpp/thread/shared timed mutex/try lock shared"> <span class="t-lines"><span>Try_lock_shared</span></span></a></div> </td> <td>Cố gắng khóa Mutex cho quyền sở hữu được chia sẻ, trả lại nếu Mutex không có sẵn<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/try_lock_shared_for" title="cpp/thread/shared timed mutex/try lock shared for"> <span class="t-lines"><span>Try_Lock_Shared_for</span></span></a></div> </td> <td>cố gắng khóa Mutex cho quyền sở hữu chung, trả lại nếu Mutex đã được<br/>Không có sẵn trong thời gian chờ quy định<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/try_lock_shared_until" title="cpp/thread/shared timed mutex/try lock shared until"> <span class="t-lines"><span>Try_lock_shared_until</span></span></a></div> </td> <td>cố gắng khóa Mutex cho quyền sở hữu chung, trả lại nếu Mutex đã được<br/>Không có sẵn cho đến khi đạt được điểm thời gian được chỉ định<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="shared_timed_mutex/unlock_shared" title="cpp/thread/shared timed mutex/unlock shared"> <span class="t-lines"><span>Unlock_shared</span></span></a></div> </td> <td>Mở khóa Mutex (quyền sở hữu chung)<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <h3 id="Notes">Ghi chú</h3> <table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="../utility/feature_test" title="cpp/utility/feature test">Feature-test</a>(Mẫu lớp)</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td><a href="../feature_test#cpp_lib_shared_timed_mutex" title="cpp/feature test"><code>__cpp_lib_shared_timed_mutex</code></a></td> <td><span class="nu0">Trình rút được chuyển đổi thành Trình lặp đảo ngược</span></td> <td><span class="t-mark">(C ++ 14)</span></td> <td>
<code>std::shared_timed_mutex</code> </td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <div class="t-example">
<p>Một toán tử gán bản sao cho một lớp giữ tài nguyên có thể xử lý nhiều độc giả, nhưng chỉ có một người viết.</p>
<div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Prutex&gt;</pre></div> </div> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/thread/shared_timed_mutex">https://en.cppreference.com/w/cpp/thread/shared_timed_mutex</a>
</p>
</div>
