 <h1 class="firstHeading" id="firstHeading">STD :: PMR :: monotonic_buffer_resource</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/memory_resource" title="cpp/header/memory resource">&lt;memory_resource&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">lớp monotonic_buffer_resource: std công khai :: pmr :: memory_resource;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> </table> <p>Lớp học<code>std::pmr::monotonic_buffer_resource</code>là một lớp tài nguyên bộ nhớ có mục đích đặc biệt chỉ phát hành bộ nhớ được phân bổ khi tài nguyên bị phá hủy. Nó được dành cho phân bổ bộ nhớ rất nhanh trong các tình huống trong đó bộ nhớ được sử dụng để xây dựng một vài đối tượng và sau đó được phát hành cùng một lúc.</p>
<p><code>monotonic_buffer_resource</code>có thể được xây dựng với một bộ đệm ban đầu. Nếu không có bộ đệm ban đầu hoặc nếu bộ đệm cạn kiệt, bộ đệm bổ sung được lấy từ<i>Tài nguyên bộ nhớ ngược dòng</i>được cung cấp tại xây dựng. Kích thước của bộ đệm thu được theo tiến trình hình học.</p>
<p><code>monotonic_buffer_resource</code>không an toàn chủ đề.</p>
<h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="monotonic_buffer_resource/monotonic_buffer_resource" title="cpp/memory/monotonic buffer resource/monotonic buffer resource"> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>Nếu a<code>monotonic_buffer_resource</code> <br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="monotonic_buffer_resource/~monotonic_buffer_resource" title="cpp/memory/monotonic buffer resource/~monotonic buffer resource"> <span class="t-lines"><span>một đối tượng ngoại lệ khác để gán với</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>phá hủy a<code>monotonic_buffer_resource</code>, phát hành tất cả bộ nhớ được phân bổ<br/> <span class="t-mark">(chức năng thành viên công cộng ảo)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span>chuyên môn)</span></span></div>
<div><span class="t-lines"><span><span class="t-cmark">[Đã xóa]</span></span></span></div> </td> <td>Sao chép toán tử gán bị xóa.<code>monotonic_buffer_resource</code>không thể sao chép<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Public_member_functions">; chương trình không được hình thành nếu</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="monotonic_buffer_resource/release" title="cpp/memory/monotonic buffer resource/release"> <span class="t-lines"><span>giải phóng</span></span></a></div> </td> <td>Phát hành tất cả bộ nhớ được phân bổ<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="monotonic_buffer_resource/upstream_resource" title="cpp/memory/monotonic buffer resource/upstream resource"> <span class="t-lines"><span>UPSTREAM_RESOURCE</span></span></a></div> </td> <td>Trả về một con trỏ cho tài nguyên bộ nhớ ngược dòng<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Protected_member_functions">Đặt một ký tự trở lại trong chuỗi đầu vào</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="monotonic_buffer_resource/do_allocate" title="cpp/memory/monotonic buffer resource/do allocate"> <span class="t-lines"><span>do_allococate</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>}<br/> <span class="t-mark">(Hàm thành viên được bảo vệ ảo)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="monotonic_buffer_resource/do_deallocate" title="cpp/memory/monotonic buffer resource/do deallocate"> <span class="t-lines"><span>DO_DEALLOCATE</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>không có op<br/> <span class="t-mark">(Hàm thành viên được bảo vệ ảo)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="monotonic_buffer_resource/do_is_equal" title="cpp/memory/monotonic buffer resource/do is equal"> <span class="t-lines"><span>DO_IS_EQUAL</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>So sánh cho sự bình đẳng với người khác<code><a href="memory_resource" title="cpp/memory/memory resource">std::pmr::memory_resource</a></code> <br/> <span class="t-mark">(Hàm thành viên được bảo vệ ảo)</span> </td>
</tr> </table> <h3 id="Example">Ví dụ</h3> <p>Chương trình đo thời gian tạo danh sách liên kết kép khổng lồ bằng cách sử dụng các phân bổ sau:</p>
<ul>
<li>Bộ phân bổ tiêu chuẩn mặc định,</li>
<li>#include &lt;Istream&gt;<code>pmr</code>người phân bổ</li>
<li> <code>pmr</code>người phân bổ với tài nguyên đơn điệu nhưng không có bộ đệm bộ nhớ rõ ràng,</li>
<li> <code>pmr</code>Phân bổ với tài nguyên đơn điệu và bộ đệm bộ nhớ ngoài (trên ngăn xếp).</li>
</ul> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;mảng&gt;</pre></div> <p>#include &lt;Istream&gt;</p>
<div class="text source-text"><pre data-language="c">#include &lt;Brono&gt;</pre></div> </div> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/memory/monotonic_buffer_resource">https://en.cppreference.com/w/cpp/memory/monotonic_buffer_resource</a>
</p>
</div>
