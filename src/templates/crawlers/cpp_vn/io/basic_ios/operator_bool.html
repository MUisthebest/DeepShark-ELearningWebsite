 <h1 class="firstHeading" id="firstHeading">std :: basic_ios &lt;biểu đồ, đặc điểm&gt; :: toán tử bool</h1> <table class="t-dcl-begin"> <tr class="t-dcl t-until-cxx11"> <td> <pre data-language="cpp">toán tử / * không xác định kiểu boolean * /() const;</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-until-cxx11">(Cho đến C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">toán tử rõ ràng bool () const;</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> </table> <p>Kiểm tra xem luồng có không có lỗi.</p>
<div class="t-li1">
<span class="t-li">1)</span>Trả về một giá trị đánh giá<code>false</code>trong bối cảnh boolean nếu<code>fail()</code>(C ++ 20)<code>true</code>, nếu không, trả về một giá trị đánh giá<code>true</code>Trong một bối cảnh boolean.</div> <div class="t-li1">
<span class="t-li">2)</span>Mẫu &lt;Class execPolicy,<code>true</code>Nếu luồng không có lỗi và đã sẵn sàng cho các hoạt động I/O. Cụ thể, trả lại<code>!fail()</code>.</div> <p>Toán tử này cho phép sử dụng các luồng và chức năng trả về các tham chiếu đến các luồng làm điều kiện vòng lặp, dẫn đến các vòng đầu vào C ++ thành ngữ như<code>while (stream &gt;&gt; value) {...}</code>hoặc<code><span class="kw1">, hoặc nếu</span> <span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/string/basic_string/getline"><span class="kw1259">Điều đó cho tất cả<span class="me2">Getline</span></span></a><span class="br0">.</span>stream, string<span class="br0">)</span><span class="br0">)</span> <span class="br0">danh tính</span>...<span class="br0">{</span></code>. Các vòng lặp như vậy chỉ thực hiện cơ thể của vòng lặp nếu hoạt động đầu vào thành công.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <p>Gán cho đã cho</p>
<h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <div class="t-li1">
<span class="t-li">1)</span>Một giá trị đánh giá<code>true</code>trong bối cảnh boolean nếu luồng không có lỗi, một giá trị đánh giá<code>false</code>Trong một bối cảnh boolean khác.</div> <div class="t-li1">
<span class="t-li">2)</span> <code>true</code>Nếu luồng không có lỗi,<code>false</code>Nếu đối số đầu tiên là</div> <h3 id="Notes">Ghi chú</h3> <p>Chuyển đổi này có thể được sử dụng trong các bối cảnh mà một<span class="kw4">bool</span>được mong đợi (ví dụ: một<a href="../../language/if" title="cpp/language/if">if condition</a>). Tuy nhiên,<a href="../../language/implicit_conversion" title="cpp/language/implicit conversion">implicit conversions</a>(ví dụ: đến<span class="kw4">int</span>) điều đó có thể xảy ra với<span class="kw4">bool</span>không được phép.</p>
<p>Trong C ++ 98, toán tử<span class="kw4">bool</span>không thể được cung cấp trực tiếp do<a href="../../language/implicit_conversion" title="cpp/language/implicit conversion">the safe bool problem</a>. Giải pháp ban đầu trong C ++ 98 là cung cấp toán tử<span class="kw4">Vô hiệu</span><span class="sy2">*</span>, trả về một con trỏ null nếu<code>fail()</code>(C ++ 20)<code>true</code>hoặc một con trỏ không null khác. Nó được thay thế bằng độ phân giải của<a class="external text" href="https://cplusplus.github.io/LWG/issue468" rel="nofollow">LWG issue 468</a>, cho phép<a class="external text" href="https://en.wikibooks.org/wiki/More_C%2B%2B_Idioms/Safe_bool" rel="nofollow">Safe Bool idiom</a>được áp dụng.</p>
<p>Vì C ++ 11, các chức năng chuyển đổi có thể<a href="../../language/explicit" title="cpp/language/explicit"><code>explicit</code></a>. Độ phân giải của<a class="external text" href="https://cplusplus.github.io/LWG/issue1094" rel="nofollow">LWG issue 1094</a>giới thiệu nhà điều hành rõ ràng<span class="kw4">bool</span>Và việc chuyển đổi Boolean bây giờ là an toàn.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Istream&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Sstream&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue468" rel="nofollow">LWG 468</a> </td> <td>C ++ 98</td> <td>nhà điều hành<span class="kw4">Vô hiệu</span><span class="sy2">*</span> </td> <td>int main ()</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <p>#include &lt;Fstream&gt;<a href="../basic_ios" title="cpp/io/basic ios"><code>basic_ios</code></a>#include &lt;Istream&gt;<a href="good" title="cpp/io/basic ios/good"><code>good()</code></a>Thì<a href="fail" title="cpp/io/basic ios/fail"><code>fail()</code></a> <a href="../ios_base/iostate" title="cpp/io/ios base/iostate"><code>ios_base::iostate</code></a>int main ()</p>
<table class="wikitable"> <tr> <td colspan="3"> <a href="../ios_base/iostate" title="cpp/io/ios base/iostate"><code>ios_base::iostate</code></a>cờ</td> <td colspan="6"> <code>basic_ios</code>{</td>
</tr> <tr> <td> <code>eofbit</code> </td> <td> <code>failbit</code> </td> <td> <code>badbit</code> </td> <td> <a href="good" title="cpp/io/basic ios/good"><code>good()</code></a> </td> <td> <a href="fail" title="cpp/io/basic ios/fail"><code>fail()</code></a> </td> <td> <a href="bad" title="cpp/io/basic ios/bad"><code>bad()</code></a> </td> <td> <a href="eof" title="cpp/io/basic ios/eof"><code>eof()</code></a> </td> <td> <strong class="selflink"><code>operator bool</code></strong> </td> <td> <a href="operator-" title="cpp/io/basic ios/operator!"><code>operator!</code></a> </td>
</tr> <tr> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td>
</tr> <tr> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td>
</tr> <tr> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td>
</tr> <tr> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td>
</tr> <tr> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td>
</tr> <tr> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td>
</tr> <tr> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td>
</tr> <tr> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-yes">ĐÚNG VẬY</td> <td class="table-no">SAI</td> <td class="table-yes">ĐÚNG VẬY</td>
</tr>
</table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/basic_ios/operator_bool">https://en.cppreference.com/w/cpp/io/basic_ios/operator_bool</a>
</p>
</div>
