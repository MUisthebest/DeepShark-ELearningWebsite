 <h1 class="firstHeading" id="firstHeading">STD :: FSEEK</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/cstdio" title="cpp/header/cstdio">&lt;cstdio&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">int fseek (std :: file* stream, long offset, int origin);</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Đặt chỉ báo vị trí tệp cho luồng tệp<code>stream</code>.</p>
<p>Consexpr ForwardIT Remove_if (ForwardIt First, ForwardIt Last,<code>stream</code>được mở ở chế độ nhị phân, vị trí mới là chính xác<code>offset</code>byte được đo từ đầu tệp nếu<code>origin</code>khoảng cách<code><a href="../c" title="cpp/io/c">SEEK_SET</a></code>, từ vị trí tệp hiện tại nếu<code>origin</code>khoảng cách<code><a href="../c" title="cpp/io/c">SEEK_CUR</a></code>và từ cuối tệp nếu<code>origin</code>khoảng cách<code><a href="../c" title="cpp/io/c">SEEK_END</a></code>. Các luồng nhị phân không bắt buộc phải hỗ trợ<code><a href="../c" title="cpp/io/c">SEEK_END</a></code>, đặc biệt nếu các byte null bổ sung là đầu ra.</p>
<p>Consexpr ForwardIT Remove_if (ForwardIt First, ForwardIt Last,<code>stream</code>được mở ở chế độ văn bản, các giá trị được hỗ trợ duy nhất cho<code>offset</code>bằng không (hoạt động với bất kỳ<code>origin</code>) và một giá trị được trả lại bởi một cuộc gọi trước đó đến<code><a href="ftell" title="cpp/io/c/ftell">std::ftell</a></code>trên một luồng được liên kết với cùng một tệp (chỉ hoạt động với<code>origin</code>của<code><a href="../c" title="cpp/io/c">SEEK_SET</a></code>).</p>
<p>Consexpr ForwardIT Remove_if (ForwardIt First, ForwardIt Last,<code>stream</code>được định hướng rộng, các hạn chế của cả luồng văn bản và nhị phân được áp dụng (kết quả của<code><a href="ftell" title="cpp/io/c/ftell">std::ftell</a></code>được phép với<code><a href="../c" title="cpp/io/c">SEEK_SET</a></code>và số không được cho phép từ<code><a href="../c" title="cpp/io/c">SEEK_SET</a></code>Và<code><a href="../c" title="cpp/io/c">SEEK_CUR</a></code>, nhưng không<code><a href="../c" title="cpp/io/c">SEEK_END</a></code>).</p>
<p>Ngoài việc thay đổi chỉ báo vị trí tệp,<code>fseek</code>hoàn tác những ảnh hưởng của<code><a href="ungetc" title="cpp/io/c/ungetc">std::ungetc</a></code>và xóa trạng thái cuối tập tin, nếu có.</p>
<p>Nếu xảy ra lỗi đọc hoặc ghi, chỉ báo lỗi cho luồng (<code><a href="ferror" title="cpp/io/c/ferror">std::ferror</a></code>) được đặt và vị trí tệp không bị ảnh hưởng.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>không đáp ứng</td> <td>-</td> <td>luồng tệp để sửa đổi</td>
</tr> <tr class="t-par"> <td>loại không xác định sao cho một</td> <td>-</td> <td>Số lượng ký tự để chuyển vị trí liên quan đến nguồn gốc</td>
</tr> <tr class="t-par"> <td>nguồn gốc</td> <td>-</td> <td>vị trí mà<code>offset</code>được thêm vào. Nó có thể có một trong các giá trị sau:<code><a href="../c" title="cpp/io/c">SEEK_SET</a></code>Thì<code><a href="../c" title="cpp/io/c">SEEK_CUR</a></code>Thì<code><a href="../c" title="cpp/io/c">SEEK_END</a></code> </td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p><code>​0​</code>Khi thành công, giá trị khác không.</p>
<h3 id="Notes">Ghi chú</h3> <p>Sau khi tìm kiếm một vị trí không kết thúc trong một luồng rộng, cuộc gọi tiếp theo đến bất kỳ chức năng đầu ra nào có thể hiển thị phần còn lại của tệp không xác định, ví dụ: Bằng cách xuất ra một chuỗi đa tế bào có độ dài khác nhau.</p>
<p>POSIX cho phép tìm kiếm ngoài phần cuối hiện có của tệp. Nếu một đầu ra được thực hiện sau khi tìm kiếm này, bất kỳ lần đọc nào từ GAP sẽ trả về 0 byte. Nơi được hỗ trợ bởi hệ thống tập tin, điều này tạo ra một<i>Tệp thưa thớt</i>.</p>
<p>Posix cũng yêu cầu điều đó<code>fseek</code>thực hiện đầu tiên<code><a href="fflush" title="cpp/io/c/fflush">fflush</a></code>Nếu có bất kỳ dữ liệu bất thành văn nào (nhưng liệu trạng thái dịch chuyển có được khôi phục hay không có được xác định không). Các luồng tệp C ++ tiêu chuẩn đảm bảo cả Flushing và Uncroding:<code><a href="../basic_streambuf/pubseekoff" title="cpp/io/basic streambuf/pubseekoff">std::basic_filebuf::seekoff</a></code>.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Cassert&gt;</pre></div> <p>#include &lt;Istream&gt;</p>
<div class="text source-text"><pre data-language="c">#include &lt;Cstdio&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="fsetpos" title="cpp/io/c/fsetpos"> <span class="t-lines"><span>fsetpos</span></span></a></div> </td> <td>di chuyển chỉ báo vị trí tệp đến một vị trí cụ thể trong một tệp<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="fgetpos" title="cpp/io/c/fgetpos"> <span class="t-lines"><span>FGETPOS</span></span></a></div> </td> <td>Nhận chỉ báo vị trí tệp<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="ftell" title="cpp/io/c/ftell"> <span class="t-lines"><span>ftell</span></span></a></div> </td> <td>Trả về chỉ báo vị trí tệp hiện tại<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="rewind" title="cpp/io/c/rewind"> <span class="t-lines"><span>tua lại</span></span></a></div> </td> <td>di chuyển chỉ báo vị trí tệp sang đầu trong một tệp<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/io/fseek" title="c/io/fseek">C documentation</a></span>vì<code>fseek</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/c/fseek">https://en.cppreference.com/w/cpp/io/c/fseek</a>
</p>
</div>
