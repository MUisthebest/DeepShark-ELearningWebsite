 <h1 class="firstHeading" id="firstHeading">std :: basic_istream &lt;biểu đồ, đặc điểm&gt; :: Seekg</h1> <table class="t-dcl-begin"> <tr class="t-dcl"> <td> <pre data-language="cpp">basic_istream &amp; seekg (pos_type pos);</pre>
</td> <td>(1)</td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">basic_istream &amp; seekg (off_type off, std :: ios_base :: seekdir dir);</pre>
</td> <td>(2)</td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Đặt chỉ báo vị trí đầu vào của dòng điện được liên kết<code>streambuf</code>Giống như các tài liệu tham khảo ngôn ngữ, sự ổn định là nông cạn đối với</p>
<table class="t-rev-begin"> <tr class="t-rev t-since-cxx11">
<td>Trước khi làm bất cứ điều gì khác,<code>seekg</code>rõ ràng<code>eofbit</code>.</td> <td><span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span></td>
</tr> </table> <p><code>seekg</code>hành xử như<a href="../../named_req/unformattedinputfunction" title="cpp/named req/UnformattedInputFunction">UnformattedInputFunction</a>, và sau đó gọi<code><a href="gcount" title="cpp/io/basic istream/gcount">gcount()</a></code>không bị ảnh hưởng. Sau khi xây dựng và kiểm tra đối tượng Sentry,</p>
<div class="t-li1">
<span class="t-li">1)</span>nếu như<code>fail() != true</code>, đặt chỉ báo vị trí đầu vào thành giá trị tuyệt đối (liên quan đến đầu của tệp)<code>pos</code>. Cụ thể, thực thi<code>rdbuf<span class="br0">.</span><span class="br0">)</span><span class="sy2">-</span><span class="sy1">&lt;</span>pubseekpos<span class="br0">.</span>pos, <a href="http://en.cppreference.com/w/cpp/io/ios_base/openmode"><span class="kw1678">Điều đó cho tất cả<span class="me2">iOS_Base</span><span class="sy4">::</span><span class="me2">TRONG</span></span></a><span class="br0">)</span></code>.<a href="../basic_streambuf/pubseekpos" title="cpp/io/basic streambuf/pubseekpos"><code>pubseekpos</code></a>lần lượt, các cuộc gọi tìm kiếm của bộ đệm cụ thể, chẳng hạn như<a href="../basic_filebuf/seekpos" title="cpp/io/basic filebuf/seekpos"><code>basic_filebuf::seekpos</code></a>Thì<a href="../basic_stringbuf/seekpos" title="cpp/io/basic stringbuf/seekpos"><code>basic_stringbuf::seekpos</code></a>, hoặc<a href="../strstreambuf/seekpos" title="cpp/io/strstreambuf/seekpos"><code>strstreambuf::seekpos</code></a>). Trong trường hợp thất bại, các cuộc gọi<code>setstate<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/io/ios_base/iostate"><span class="kw1704">Điều đó cho tất cả<span class="me2">iOS_Base</span><span class="sy4">::</span><span class="me2">abbrev</span></span></a><span class="br0">)</span></code>.</div> <div class="t-li1">
<span class="t-li">2)</span>nếu như<code>fail() != true</code>, đặt chỉ báo vị trí đầu vào thành vị trí<code>off</code>, liên quan đến vị trí, được xác định bởi<code>dir</code>. Cụ thể, thực thi<code>rdbuf<span class="br0">.</span><span class="br0">)</span><span class="sy2">-</span><span class="sy1">&lt;</span>pubseekoff<span class="br0">.</span>off, dir, <a href="http://en.cppreference.com/w/cpp/io/ios_base/openmode"><span class="kw1678">Điều đó cho tất cả<span class="me2">iOS_Base</span><span class="sy4">::</span><span class="me2">TRONG</span></span></a><span class="br0">)</span></code>. Trong trường hợp thất bại, các cuộc gọi<code>setstate<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/io/ios_base/iostate"><span class="kw1704">Điều đó cho tất cả<span class="me2">iOS_Base</span><span class="sy4">::</span><span class="me2">abbrev</span></span></a><span class="br0">)</span></code>.</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>POS</td> <td>-</td> <td>vị trí tuyệt đối để đặt chỉ báo vị trí đầu vào thành</td>
</tr> <tr class="t-par"> <td>Nếu không, di chuyển con trỏ tệp như thể bằng cách</td> <td>-</td> <td>Vị trí tương đối (dương hoặc âm) để đặt chỉ báo vị trí đầu vào thành</td>
</tr> <tr class="t-par"> <td>Chỉ duy trì một vị trí tệp.</td> <td>-</td> <td>tắt<table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Đặc điểm kỹ thuật:</th> <th>Lưu ý: Đồng bộ hóa giữa các luồng tập trung vào việc ngăn chặn các chủng tộc dữ liệu (bằng cách thiết lập các mối quan hệ xảy ra trước khi) và xác định các tác dụng phụ nào có thể nhìn thấy được trong các điều kiện nào.</th>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/seekdir" title="cpp/io/ios base/seekdir"><code>beg</code></a> </td> <td>tìm kiếm</td>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/seekdir" title="cpp/io/ios base/seekdir"><code>end</code></a> </td> <td>Tìm kiếm loại định hướng</td>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/seekdir" title="cpp/io/ios base/seekdir"><code>cur</code></a> </td> <td>Các hằng số sau cũng được xác định:</td>
</tr> </table> </td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p><code>*this</code></p>
<h3 id="Exceptions">Ngoại lệ</h3>
<code><a href="../ios_base/failure" title="cpp/io/ios base/failure">failure</a></code>Nếu xảy ra lỗi (cờ trạng thái lỗi không<code><a href="../ios_base/iostate" title="cpp/io/ios base/iostate">goodbit</a></code>) Và<code><a href="../basic_ios/exceptions" title="cpp/io/basic ios/exceptions">exceptions()</a></code>được thiết lập để ném cho trạng thái đó.<p>Nếu một hoạt động nội bộ ném một ngoại lệ, nó sẽ bị bắt và<code><a href="../ios_base/iostate" title="cpp/io/ios base/iostate">badbit</a></code>được đặt. Nếu như<code><a href="../basic_ios/exceptions" title="cpp/io/basic ios/exceptions">exceptions()</a></code>được đặt cho<code>badbit</code>, ngoại lệ là được tái sinh.</p>
<h3 id="Notes">Ghi chú</h3> <p><code>seekg(n)</code>không nhất thiết phải tương đương với<code>seekg(n, ios::beg)</code>.<code><a href="http://en.cppreference.com/w/cpp/io/basic_ifstream"><span class="kw1722">Điều đó cho tất cả<span class="me2">basic_ifstream</span></span></a></code>, ví dụ, yêu cầu vị trí tuyệt đối<code>n</code>đến từ<code><a href="tellg" title="cpp/io/basic istream/tellg">tellg()</a></code>.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Istream&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Sstream&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue129" rel="nofollow">LWG 129</a> </td> <td>C ++ 98</td> <td>#include &lt;chuỗi&gt;</td> <td>, di chuyển-thiết kế bộ phân bổ từ<code>failbit</code> </td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue136" rel="nofollow">LWG 136</a> </td> <td>C ++ 98</td> <td>
<code>seekg</code>int main ()</td> <td>{</td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue537" rel="nofollow">LWG 537</a> </td> <td>C ++ 98</td> <td>#include &lt;Istream&gt;<code>off</code> <code>off_type&amp;</code> </td> <td>, số lượng tăng số lặp là tuyến tính. Đáng chú ý,<code>off_type</code> </td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="tellg" title="cpp/io/basic istream/tellg"> <span class="t-lines"><span>Trích xuất các khối ký tự đã có sẵn</span></span></a></div> </td> <td>GCOUNT<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_ostream/tellp" title="cpp/io/basic ostream/tellp"> <span class="t-lines"><span>đặt</span></span></a></div> </td> <td>chèn một ký tự<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_ostream&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_ostream/seekp" title="cpp/io/basic ostream/seekp"> <span class="t-lines"><span>Chèn các khối ký tự</span></span></a></div> </td> <td>Tellp<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_ostream&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_streambuf/pubseekpos" title="cpp/io/basic streambuf/pubseekpos"> <span class="t-lines"><span>Gọi</span></span></a></div> </td> <td>Sputc<code>seekpos()</code> <br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_streambuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_filebuf/seekpos" title="cpp/io/basic filebuf/seekpos"> <span class="t-lines"><span>tìm kiếm</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Tái định vị vị trí tệp, sử dụng địa chỉ tương đối<br/> <span class="t-mark">Putback<code>std::basic_filebuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_stringbuf/seekpos" title="cpp/io/basic stringbuf/seekpos"> <span class="t-lines"><span>tìm kiếm</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Tái định vị con trỏ tiếp theo trong chuỗi đầu vào, trình tự đầu ra hoặc cả hai, sử dụng địa chỉ tương đối<br/> <span class="t-mark">Putback<code>std::basic_stringbuf&lt;CharT,Traits,Allocator&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../strstreambuf/seekpos" title="cpp/io/strstreambuf/seekpos"> <span class="t-lines"><span>tìm kiếm</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Tái định vị con trỏ tiếp theo trong chuỗi đầu vào, trình tự đầu ra hoặc cả hai, sử dụng địa chỉ tương đối<br/> <span class="t-mark">Putback<code>std::strstreambuf</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_streambuf/pubseekoff" title="cpp/io/basic streambuf/pubseekoff"> <span class="t-lines"><span>Định vị</span></span></a></div> </td> <td>Sputc<code>seekoff()</code> <br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_streambuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_filebuf/seekoff" title="cpp/io/basic filebuf/seekoff"> <span class="t-lines"><span>Định vị</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Cung cấp bộ đệm do người dùng cung cấp hoặc bật tệp này không có<br/> <span class="t-mark">Putback<code>std::basic_filebuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_stringbuf/seekoff" title="cpp/io/basic stringbuf/seekoff"> <span class="t-lines"><span>Định vị</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Thay thế bộ đệm bằng mảng do người dùng xác định, nếu được phép<br/> <span class="t-mark">Putback<code>std::basic_stringbuf&lt;CharT,Traits,Allocator&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../strstreambuf/seekoff" title="cpp/io/strstreambuf/seekoff"> <span class="t-lines"><span>Định vị</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Thay thế bộ đệm bằng mảng do người dùng xác định, nếu được phép<br/> <span class="t-mark">Putback<code>std::strstreambuf</code>)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/basic_istream/seekg">https://en.cppreference.com/w/cpp/io/basic_istream/seekg</a>
</p>
</div>
