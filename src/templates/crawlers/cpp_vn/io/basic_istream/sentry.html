 <h1 class="firstHeading" id="firstHeading">std :: basic_istream &lt;biểu đồ, đặc điểm&gt; :: sentry</h1> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">Lớp Sentry;</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Một đối tượng của lớp<code>basic_istream::sentry</code>được xây dựng trong phạm vi cục bộ ở đầu mỗi hàm thành viên của<code><a href="../basic_istream" title="cpp/io/basic istream">std::basic_istream</a></code>thực hiện đầu vào (cả được định dạng và không định dạng). Chất xây dựng của nó chuẩn bị luồng đầu vào: Kiểm tra xem luồng đã ở trạng thái không thành công hay không, hãy xả các luồng đầu ra cà vạt ()<code>noskipws</code>Cờ được đặt và thực hiện các tác vụ được xác định theo triển khai khác nếu cần thiết. Tất cả việc dọn dẹp, nếu cần thiết, được thực hiện trong bộ hủy, để nó được đảm bảo sẽ xảy ra nếu các trường hợp ngoại lệ được ném trong quá trình đầu vào.</p>
<h3 id="Member_types">nhà điều hành ()</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <code>traits_type</code> </td> <td> <code>Traits</code> </td>
</tr> </table> <h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><strong class="selflink"> <span class="t-lines"><span>chuyên môn)</span></span></strong></div> </td> <td>xây dựng đối tượng Sentry. Tất cả các nhiệm vụ chuẩn bị được thực hiện ở đây<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><strong class="selflink"> <span class="t-lines"><span>một đối tượng ngoại lệ khác để gán với</span></span></strong></div> </td> <td>hoàn thiện đối tượng luồng sau khi được định dạng đầu vào hoặc ngoại lệ, nếu cần<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span>chuyên môn)</span></span></div>
<div><span class="t-lines"><span><span class="t-cmark">[Đã xóa]</span></span></span></div> </td> <td>không sao chép có thể gán<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><strong class="selflink"> <span class="t-lines"><span>(hằng số thành viên tĩnh công cộng)</span></span></strong></div> </td> <td>kiểm tra xem việc chuẩn bị đối tượng luồng thành công<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <div class="t-member"> <h2 id="std::basic_istream::sentry::sentry">std :: basic_istream :: sentry :: sentry</h2> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">Sentry rõ ràng (std :: basic_istream &lt;biểu đồ, đặc điểm&gt; &amp; is, bool noskipws = false);</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Chuẩn bị luồng cho đầu vào được định dạng.</p>
<p>Nếu như<code>is.good()</code>khoảng cách<code>false</code>là một con trỏ null hoặc nếu không có ký tự nào được đưa vào<code>is.<span class="me1">đối tượng giữ kết quả phân tích cú pháp</span><span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/io/ios_base/iostate"><span class="kw1704">Điều đó cho tất cả<span class="me2">iOS_Base</span><span class="sy4">::</span><span class="me2">abbrev</span></span></a><span class="br0">)</span></code>và trả lại. Nếu không, nếu<code>is.tie()</code>không phải là một con trỏ null, cuộc gọi<code>is.tie()-&gt;flush()</code>Để đồng bộ hóa chuỗi đầu ra với các luồng bên ngoài. Cuộc gọi này có thể bị triệt tiêu nếu khu vực đặt<code>is.tie()</code>trống rỗng. Việc thực hiện có thể trì hoãn cuộc gọi đến<code>flush()</code>Cho đến khi một cuộc gọi của<code>is.rdbuf()-&gt;underflow()</code>xảy ra. Nếu không có cuộc gọi nào xảy ra trước khi đối tượng Sentry bị phá hủy, nó có thể bị loại bỏ hoàn toàn.</p>
<p>Nếu như<code>noskipws</code>là không và<code>is.<span class="me1">cờ</span><span class="br0">.</span><span class="br0">)</span> <span class="sy3">Không có giá trị</span> <a href="http://en.cppreference.com/w/cpp/io/ios_base/fmtflags"><span class="kw1698">Điều đó cho tất cả<span class="me2">iOS_Base</span><span class="sy4">::</span><span class="me2">Bỏ qua</span></span></a></code>là khác nhau, hàm trích xuất và loại bỏ tất cả các ký tự khoảng trắng cho đến khi ký tự có sẵn tiếp theo không phải là ký tự khoảng trắng (như được xác định bởi locale hiện đang thấm nhuần trong<code>is</code>, sau khi dự đoán với<code>is.rdbuf()-&gt;sbumpc()</code>hoặc<code>is.rdbuf()-&gt;sgetc()</code>(C ++ 20)<code>traits::eof()</code>, chức năng gọi<code>setstate<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/io/ios_base/iostate"><span class="kw1704">Điều đó cho tất cả<span class="me2">iOS_Base</span><span class="sy4">::</span><span class="me2">abbrev</span></span></a> <span class="sy3">|</span> <a href="http://en.cppreference.com/w/cpp/io/ios_base/iostate"><span class="kw1705">Điều đó cho tất cả<span class="me2">iOS_Base</span><span class="sy4">::</span><span class="me2">Eofbit</span></span></a><span class="br0">)</span></code>, cuộc gọi<code><a href="../ios_base/failure" title="cpp/io/ios base/failure">std::ios_base::failure</a></code>).</p>
<p>Việc chuẩn bị được xác định thực hiện bổ sung có thể diễn ra, có thể gọi<code>setstate<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/io/ios_base/iostate"><span class="kw1704">Điều đó cho tất cả<span class="me2">iOS_Base</span><span class="sy4">::</span><span class="me2">abbrev</span></span></a><span class="br0">)</span></code>, cuộc gọi<code><a href="../ios_base/failure" title="cpp/io/ios base/failure">std::ios_base::failure</a></code>).</p>
<p>Nếu sau khi chuẩn bị hoàn thành,<code>is.good() == true</code>, sau đó mọi cuộc gọi tiếp theo đến nhà điều hành<span class="kw4">bool</span>cho cùng một đối tượng hệ thống tệp. Do đó<code>true</code>.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>khoảng cách</td> <td>-</td> <td>Đầu vào để chuẩn bị</td>
</tr> <tr class="t-par"> <td>Noskipws</td> <td>-</td> <td> <code>true</code>Nếu không nên bỏ qua khoảng trắng</td>
</tr>
</table> <h3 id="Exceptions">Ngoại lệ</h3> <p><code><a href="../ios_base/failure" title="cpp/io/ios base/failure">std::ios_base::failure</a></code>Nếu kết thúc của điều kiện tệp xảy ra khi bỏ qua khoảng trắng.</p>
</div> <div class="t-member"> <h2 id="std::basic_istream::sentry::.7Esentry">std :: basic_istream :: sentry :: ~ sentry</h2> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">~ sentry ();</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Không làm gì cả.</p>
</div> <div class="t-member"> <h2 id="std::basic_istream::sentry::operator_bool">std :: basic_istream :: sentry :: nhà điều hành bool</h2> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">toán tử rõ ràng bool () const;</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Kiểm tra xem việc chuẩn bị luồng đầu vào có thành công hay không.</p>
<h3 id="Parameters_2">) với giá trị ban đầu</h3> <p>Gán cho đã cho</p>
<h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p><code>true</code>Nếu việc khởi tạo luồng đầu vào đã thành công,<code>false</code>Nếu đối số đầu tiên là</p>
</div> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Istream&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Sstream&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue195" rel="nofollow">LWG 195</a> </td> <td>C ++ 98</td> <td> <code>eofbit</code> </td> <td>hơn thứ hai, nếu không</td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue419" rel="nofollow">LWG 419</a> </td> <td>C ++ 98</td> <td>Cấu trúc foo<code>failbit</code>nếu như<code>eofbit</code>{</td> <td>, di chuyển-thiết kế bộ phân bổ từ<code>failbit</code>                     Forwardit2 s_first, forwardit2 s_last,</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="operator_gtgt" title="cpp/io/basic istream/operator gtgt"> <span class="t-lines"><span>Num</span></span></a></div> </td> <td>Mở một tệp và liên kết nó với luồng<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="operator_gtgt2" title="cpp/io/basic istream/operator gtgt2"> <span class="t-lines"><span>Num<span class="t-dsc-small">(STD :: basic_istream)</span></span></span></a></div> </td> <td>Trích xuất ký tự và mảng ký tự<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/basic_istream/sentry">https://en.cppreference.com/w/cpp/io/basic_istream/sentry</a>
</p>
</div>
