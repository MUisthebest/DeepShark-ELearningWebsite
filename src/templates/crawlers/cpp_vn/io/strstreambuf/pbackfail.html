 <h1 class="firstHeading" id="firstHeading">std :: strstreambuf :: pbackfail</h1> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">được bảo vệ:</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Virtual int_type pbackfail (int_type c = đặc điểm :: eof ())<a href="../basic_streambuf/sungetc" title="cpp/io/basic streambuf/sungetc"><code>basic_streambuf::sungetc</code></a>Và<a href="../basic_streambuf/sputbackc" title="cpp/io/basic streambuf/sputbackc"><code>basic_streambuf::sputbackc</code></a>Hàm ảo được bảo vệ này được gọi bởi các chức năng công cộng<a href="../basic_istream/unget" title="cpp/io/basic istream/unget"><code>basic_istream::unget</code></a>Và<a href="../basic_istream/putback" title="cpp/io/basic istream/putback"><code>basic_istream::putback</code></a>).</p>
<div class="t-li1">
<span class="t-li">1)</span>(đến lượt nó, được gọi bởi<code>pbackfail()</code>được gọi không có tranh luận hoặc với<code><a href="../c" title="cpp/io/c">EOF</a></code>như đối số)</div> <div class="t-li2">
<span class="t-li">}</span>ảo int_type pbackfail (int_type c = eof);</div> <div class="t-li2">
<span class="t-li">{</span>Nếu người gọi sai và vị trí putback trên thực tế, chỉ cần giảm<a href="../basic_streambuf/gptr" title="cpp/io/basic streambuf/gptr"><code>basic_streambuf::gptr()</code></a>được gọi không có đối số), trong trường hợp đó, chức năng này đọc lại tệp bắt đầu một byte trước đó và các phân tích<code>gbump(-1)</code>.</div> <div class="t-li1">
<span class="t-li">2)</span>, ví dụ. bằng cách gọi<code>pbackfail()</code>Người gọi cố gắng đưa trở lại một ký tự khác với người được truy xuất trước đó (</div> <div class="t-li2">
<span class="t-li">}</span>Đầu tiên, kiểm tra xem có vị trí putback hay không, và nếu không có, thất bại.</div> <div class="t-li2">
<span class="t-li">{</span>Đầu tiên, kiểm tra xem có vị trí putback hay không, và nếu không có, hãy sao lưu khu vực GET bằng cách đọc lại tệp bắt đầu một byte trước đó.<code>(char)c</code>, như được xác định bởi<a href="../basic_streambuf/gptr" title="cpp/io/basic streambuf/gptr"><code>basic_streambuf::gptr()</code></a>.</div> <div class="t-li2">
<span class="t-li">}</span>Đầu tiên, kiểm tra xem có vị trí putback hay không, và nếu thực sự không có, thất bại. (Strstreambuf không có nguồn ký tự bên ngoài để đọc lại)<code>const</code>Mặt khác, nếu bộ đệm không thể biến đổi (strstreambuf này được xây dựng bằng một chuỗi theo nghĩa đen hoặc một số khác</div> <div class="t-li2">
<span class="t-li">tải trong luồng B.</span>mảng), thất bại.<a href="../basic_streambuf/gptr" title="cpp/io/basic streambuf/gptr"><code>basic_streambuf::gptr()</code></a>Nếu không, nếu bộ đệm được phép sửa đổi khu vực GET của chính nó<code>c</code>và viết</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>Ánh xạ_Type</td> <td>-</td> <td>ngay lập tức.</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p><code>c</code>nhân vật để đặt lại, hoặc đặc điểm :: eof () để chỉ ra rằng việc sao lưu khu vực GET được yêu cầu<code>c</code> <code><a href="../c" title="cpp/io/c">EOF</a></code>Nếu không, giảm<code><a href="../c" title="cpp/io/c">EOF</a></code>bất kể</p>
<p><code><a href="../c" title="cpp/io/c">EOF</a></code>, trong trường hợp đó</p>
<h3 id="Example">Ví dụ</h3> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../basic_streambuf/pbackfail" title="cpp/io/basic streambuf/pbackfail"> <span class="t-lines"><span>setp</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>định vị lại phần đầu, tiếp theo và kết thúc của chuỗi đầu ra<br/> <span class="t-mark">Putback<code>std::basic_streambuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_streambuf/sungetc" title="cpp/io/basic streambuf/sungetc"> <span class="t-lines"><span>Putback</span></span></a></div> </td> <td>Sputbackc<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_streambuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_streambuf/sputbackc" title="cpp/io/basic streambuf/sputbackc"> <span class="t-lines"><span>Sputn</span></span></a></div> </td> <td>Gọi<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_streambuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_istream/unget" title="cpp/io/basic istream/unget"> <span class="t-lines"><span>Trích xuất ký tự</span></span></a></div> </td> <td>nhìn trộm<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_istream&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_istream/putback" title="cpp/io/basic istream/putback"> <span class="t-lines"><span>đọc nhân vật tiếp theo mà không trích xuất nó</span></span></a></div> </td> <td>không có<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_istream&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/strstreambuf/pbackfail">https://en.cppreference.com/w/cpp/io/strstreambuf/pbackfail</a>
</p>
</div>
