 <h1 class="firstHeading" id="firstHeading">STD :: Strstreambuf :: Seekoff</h1> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">được bảo vệ:</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Tái định vị<code><a href="../basic_streambuf/gptr" title="cpp/io/basic streambuf/gptr">std::basic_streambuf::gptr</a></code>và/hoặc<code><a href="../basic_streambuf/pptr" title="cpp/io/basic streambuf/pptr">std::basic_streambuf::pptr</a></code>, nếu có thể, với vị trí tương ứng với chính xác<code>off</code>                  STD :: iOS_Base :: OpenMode trong đó = </p>
<ul>
<li>Nếu như<code>which</code>Được xác định trong tiêu đề<code>ios_base::in</code>Seekoff POS_Type ảo (tắt_type,<code><a href="../basic_streambuf/gptr" title="cpp/io/basic streambuf/gptr">std::basic_streambuf::gptr</a></code>                          iOS_Base :: SeekDir Way,</li>
<li>Nếu như<code>which</code>Được xác định trong tiêu đề<code>ios_base::out</code>                          iOS_Base :: OpenMode trong đó = iOS_Base :: in | iOS_Base :: out);<code><a href="../basic_streambuf/pptr" title="cpp/io/basic streambuf/pptr">std::basic_streambuf::pptr</a></code>Và bộ đệm này mở để đọc, sau đó định vị lại con trỏ đọc</li>
<li>Nếu như<code>which</code>Bao gồm cả hai<code>ios_base::in</code>Và<code>ios_base::out</code>Bên trong khu vực Get như mô tả dưới đây.<code>way</code>là một trong hai<code>ios_base::beg</code>hoặc<code>ios_base::end</code>, sau đó định vị lại cả hai con trỏ đọc và viết như mô tả dưới đây.</li>
<li>Nếu không, chức năng này thất bại.</li>
</ul> <p>Và bộ đệm này được mở để viết, sau đó định vị lại con trỏ ghi<code>gptr</code>hoặc<code>pptr</code>Bên trong khu vực đặt như mô tả dưới đây.</p>
<div class="t-li1">
<span class="t-li">1)</span>và bộ đệm mở cho cả đọc và viết, và<code>newoff</code>Sẽ là không phải, chức năng này không thành công.</div> <div class="t-li1">
<span class="t-li">2)</span>Phần bù con trỏ mới<code>newoff</code>nó đến một đối tượng<code>off_type</code>được xác định</div> <div class="t-li2">
<span class="t-li">}</span>nếu như<code>way == ios_base::beg</code>, sau đó<code>newoff</code>bằng không</div> <div class="t-li2">
<span class="t-li">{</span>nếu như<code>way == ios_base::cur</code>, sau đó<code>newoff</code>là vị trí hiện tại của con trỏ (<code>gptr() - eback()</code>hoặc<code>pptr() - pbase()</code>)</div> <div class="t-li2">
<span class="t-li">}</span>nếu như<code>way == ios_base::end</code>, sau đó<code>newoff</code>Nếu con trỏ (một trong hai</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class f, class tuple&gt;</span>Nếu như<code>newoff + off</code>hoặc cả hai) được định vị lại, nó được thực hiện như sau:</div> <div class="t-li1">
<span class="t-li">là trong</span>Nếu không, con trỏ được gán như thể bằng cách<code>gptr() = eback() + newoff + off</code>hoặc<code>pptr() = pbase() + newoff + off</code>
</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>Nếu không, di chuyển con trỏ tệp như thể bằng cách</td> <td>-</td> <td>được đặt tương ứng trong</td>
</tr> <tr class="t-par"> <td>Nếu con trỏ được định vị lại là một con trỏ null và phần bù mới</td> <td>-</td> <td>tắt<table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Đặc điểm kỹ thuật:</th> <th>Lưu ý: Đồng bộ hóa giữa các luồng tập trung vào việc ngăn chặn các chủng tộc dữ liệu (bằng cách thiết lập các mối quan hệ xảy ra trước khi) và xác định các tác dụng phụ nào có thể nhìn thấy được trong các điều kiện nào.</th>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/seekdir" title="cpp/io/ios base/seekdir"><code>beg</code></a> </td> <td>tìm kiếm</td>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/seekdir" title="cpp/io/ios base/seekdir"><code>end</code></a> </td> <td>Tìm kiếm loại định hướng</td>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/seekdir" title="cpp/io/ios base/seekdir"><code>cur</code></a> </td> <td>Các hằng số sau cũng được xác định:</td>
</tr> </table> </td>
</tr> <tr class="t-par"> <td>              &lt;&lt; (Thành công? "Thành công \ n": "thất bại \ n");</td> <td>-</td> <td>PBUF<table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Đặc điểm kỹ thuật:</th> <th>Lưu ý: Đồng bộ hóa giữa các luồng tập trung vào việc ngăn chặn các chủng tộc dữ liệu (bằng cách thiết lập các mối quan hệ xảy ra trước khi) và xác định các tác dụng phụ nào có thể nhìn thấy được trong các điều kiện nào.</th>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/openmode" title="cpp/io/ios base/openmode"><code>in</code></a> </td> <td>Dir</td>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/openmode" title="cpp/io/ios base/openmode"><code>out</code></a> </td> <td>Xác định vị trí cơ sở để áp dụng bù tương đối. Nó có thể là một trong những hằng số sau:</td>
</tr> </table> </td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p><code>pos_type(newoff)</code>về thành công,<code>pos_type(off_type(-1))</code>là chiều dài của toàn bộ phần khởi tạo của bộ đệm (nếu sử dụng tổng thể được sử dụng, con trỏ Watermark cao trừ đi con trỏ đầu)</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">là âm hoặc ngoài giới hạn của phần khởi tạo của bộ đệm, chức năng không thành công</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">đường</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue55" rel="nofollow">LWG 55</a> </td> <td>C ++ 98</td> <td>
<code>seekoff</code>, được gọi bởi<br/>#include &lt;Fstream&gt;</td> <td>
<code>pos_type(off_type(-1))</code><br/>#include &lt;Istream&gt;</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="seekpos" title="cpp/io/strstreambuf/seekpos"> <span class="t-lines"><span>tìm kiếm</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Tái định vị con trỏ tiếp theo trong chuỗi đầu vào, trình tự đầu ra hoặc cả hai, sử dụng địa chỉ tương đối<br/> <span class="t-mark">(Hàm thành viên được bảo vệ ảo)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_streambuf/pubseekoff" title="cpp/io/basic streambuf/pubseekoff"> <span class="t-lines"><span>Định vị</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Thay thế bộ đệm bằng mảng do người dùng xác định, nếu được phép<br/> <span class="t-mark">Putback<code>std::basic_streambuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_stringbuf/seekoff" title="cpp/io/basic stringbuf/seekoff"> <span class="t-lines"><span>Định vị</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Thay thế bộ đệm bằng mảng do người dùng xác định, nếu được phép<br/> <span class="t-mark">Putback<code>std::basic_stringbuf&lt;CharT,Traits,Allocator&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_filebuf/seekoff" title="cpp/io/basic filebuf/seekoff"> <span class="t-lines"><span>Định vị</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Cung cấp bộ đệm do người dùng cung cấp hoặc bật tệp này không có<br/> <span class="t-mark">Putback<code>std::basic_filebuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/strstreambuf/seekoff">https://en.cppreference.com/w/cpp/io/strstreambuf/seekoff</a>
</p>
</div>
