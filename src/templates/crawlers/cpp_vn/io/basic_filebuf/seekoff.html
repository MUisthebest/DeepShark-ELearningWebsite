 <h1 class="firstHeading" id="firstHeading">std :: basic_filebuf &lt;biểu đồ, đặc điểm&gt; :: Seekoff</h1> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">được bảo vệ:</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Seekoff POS_Type ảo (tắt_type,<code>off</code>                          STD :: iOS_Base :: SeekDir Dir,<code>dir</code>).</p>
<p>mà không cố gắng bất kỳ đầu ra.<code>is_open() == false</code>                          std :: iOS_Base :: OpenMode trong đó = std :: ios_base :: in | std :: iOS_Base :: out);</p>
<p>Định vị lại con trỏ tệp, nếu có thể, đến vị trí tương ứng với chính xác<a href="../../locale/codecvt/encoding" title="cpp/locale/codecvt/encoding"><code>codecvt::encoding()</code></a>đến nửa đầu của một vectơ số nguyên:<code>-1</code>các ký tự từ đầu, kết thúc hoặc vị trí hiện tại của tệp (tùy thuộc vào giá trị của<code>codecvt::encoding()</code>đến nửa đầu của một vectơ số nguyên:<code>​0​</code>), thất bại ngay lập tức.<code>off</code># Elif __has_include (&lt;thử nghiệm/tùy chọn&gt;) // Kiểm tra phiên bản thử nghiệm<code>​0​</code>Nếu mã hóa ký tự multibyte phụ thuộc vào trạng thái (<code>off</code>) hoặc độ dài biến (</p>
<p>Nếu như<code>dir</code># Elif __has_include (&lt;thử nghiệm/tùy chọn&gt;) // Kiểm tra phiên bản thử nghiệm<code><a href="../ios_base/seekdir" title="cpp/io/ios base/seekdir">std::basic_ios::cur</a></code>) và phần bù<code>off</code># Elif __has_include (&lt;thử nghiệm/tùy chọn&gt;) // Kiểm tra phiên bản thử nghiệm<code>​0​</code>, thất bại ngay lập tức: Hàm này không thể xác định số lượng byte tương ứng với<code><a href="../basic_streambuf/overflow" title="cpp/io/basic streambuf/overflow">overflow()</a></code>ký tự.<code>std::codecvt::unshift</code>hoặc phần bù<code><a href="../basic_streambuf/overflow" title="cpp/io/basic streambuf/overflow">overflow()</a></code>.</p>
<p>và hoạt động gần đây nhất được thực hiện trên đối tượng FileBuf này là đầu ra (nghĩa là bộ đệm PUT không trống hoặc chức năng được gọi gần đây nhất là<code>dir</code>), sau đó gọi<code>whence</code>nó đến một đối tượng<code>int</code>                  std :: error_code &amp; ec);</p>
<table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Sau đó chuyển đổi đối số<code>dir</code> </th> <th>Sau đó chuyển đổi đối số<code>whence</code> </th>
</tr> <tr class="t-dsc"> <td> <code>std::basic_ios::beg</code> </td> <td> <code><a href="../c" title="cpp/io/c">SEEK_SET</a></code> </td>
</tr> <tr class="t-dsc"> <td> <code>std::basic_ios::end</code> </td> <td> <code><a href="../c" title="cpp/io/c">SEEK_END</a></code> </td>
</tr> <tr class="t-dsc"> <td> <code>std::basic_ios::cur</code> </td> <td> <code><a href="../c" title="cpp/io/c">SEEK_CUR</a></code> </td>
</tr> </table> <p>đến một giá trị<code>codecvt::encoding()</code>giá trị của<code>width</code>giá trị của<code><a href="http://en.cppreference.com/w/cpp/io/c/fseek"><span class="kw1871">Điều đó cho tất cả<span class="me2">FSEEK</span></span></a><span class="br0">.</span>file, width<span class="sy2">*</span>off, whence<span class="br0">)</span></code>.</p>
<p>Sau đó, nếu mã hóa ký tự có chiều rộng cố định (<code><a href="http://en.cppreference.com/w/cpp/io/c/fseek"><span class="kw1871">Điều đó cho tất cả<span class="me2">FSEEK</span></span></a><span class="br0">.</span>file, <span class="nu0">. Không làm gì khác.</span>, whence<span class="br0">)</span></code>.</p>
<p>Các<code>openmode</code>Trả về một số số dương<code>std::basic_filebuf</code>), di chuyển con trỏ tệp như thể bằng cách</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>Nếu không, di chuyển con trỏ tệp như thể bằng cách</td> <td>-</td> <td>đối số, theo yêu cầu của chữ ký hàm lớp cơ sở, thường bị bỏ qua, bởi vì</td>
</tr> <tr class="t-par"> <td>Chỉ duy trì một vị trí tệp.</td> <td>-</td> <td>tắt<table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Đặc điểm kỹ thuật:</th> <th>Lưu ý: Đồng bộ hóa giữa các luồng tập trung vào việc ngăn chặn các chủng tộc dữ liệu (bằng cách thiết lập các mối quan hệ xảy ra trước khi) và xác định các tác dụng phụ nào có thể nhìn thấy được trong các điều kiện nào.</th>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/seekdir" title="cpp/io/ios base/seekdir"><code>beg</code></a> </td> <td>tìm kiếm</td>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/seekdir" title="cpp/io/ios base/seekdir"><code>end</code></a> </td> <td>Tìm kiếm loại định hướng</td>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/seekdir" title="cpp/io/ios base/seekdir"><code>cur</code></a> </td> <td>Các hằng số sau cũng được xác định:</td>
</tr> </table> </td>
</tr> <tr class="t-par"> <td>              &lt;&lt; (Thành công? "Thành công \ n": "thất bại \ n");</td> <td>-</td> <td>vị trí tương đối để đặt chỉ báo vị trí thành<table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Đặc điểm kỹ thuật:</th> <th>Lưu ý: Đồng bộ hóa giữa các luồng tập trung vào việc ngăn chặn các chủng tộc dữ liệu (bằng cách thiết lập các mối quan hệ xảy ra trước khi) và xác định các tác dụng phụ nào có thể nhìn thấy được trong các điều kiện nào.</th>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/openmode" title="cpp/io/ios base/openmode"><code>in</code></a> </td> <td>Dir</td>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/openmode" title="cpp/io/ios base/openmode"><code>out</code></a> </td> <td>Xác định vị trí cơ sở để áp dụng bù tương đối. Nó có thể là một trong những hằng số sau:</td>
</tr> </table> </td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Xác định trình tự đầu vào và/hoặc đầu ra ảnh hưởng. Nó có thể là một hoặc kết hợp các hằng số sau:<code>pos_type</code>ảnh hưởng đến trình tự đầu vào<code>pos_type(off_type(-1))</code>, trong trường hợp đó</p>
<h3 id="Notes">Ghi chú</h3> <p><code>seekoff()</code>ảnh hưởng đến trình tự đầu ra<code>std::basic_streambuf::pubseekoff</code>Một đối tượng mới được xây dựng của loại<code>std::basic_istream::seekg</code>Thì<code>std::basic_ostream::seekp</code>Thì<code>std::basic_istream::tellg</code>, Và<code>std::basic_ostream::tellp</code>.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">nơi lưu trữ vị trí tệp kết quả hoặc</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">được gọi bởi</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue55" rel="nofollow">LWG 55</a> </td> <td>C ++ 98</td> <td>
<code>seekoff</code>, được gọi bởi<br/>#include &lt;Fstream&gt;</td> <td>
<code>pos_type(off_type(-1))</code><br/>#include &lt;Istream&gt;</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../basic_streambuf/pubseekoff" title="cpp/io/basic streambuf/pubseekoff"> <span class="t-lines"><span>Định vị</span></span></a></div> </td> <td>Sputc<code>seekoff()</code> <br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_streambuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="seekpos" title="cpp/io/basic filebuf/seekpos"> <span class="t-lines"><span>tìm kiếm</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Tái định vị vị trí tệp, sử dụng địa chỉ tương đối<br/> <span class="t-mark">(Hàm thành viên được bảo vệ ảo)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../c/fseek" title="cpp/io/c/fseek"> <span class="t-lines"><span>FSEEK</span></span></a></div> </td> <td>di chuyển chỉ báo vị trí tệp đến một vị trí cụ thể trong một tệp<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/basic_filebuf/seekoff">https://en.cppreference.com/w/cpp/io/basic_filebuf/seekoff</a>
</p>
</div>
