 <h1 class="firstHeading" id="firstHeading">std :: basic_ostream &lt;biểu đồ, đặc điểm&gt; :: sentry</h1> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">Lớp Sentry;</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Một đối tượng của lớp<code>basic_ostream::sentry</code>được xây dựng trong phạm vi cục bộ ở đầu mỗi hàm thành viên của<code><a href="../basic_ostream" title="cpp/io/basic ostream">std::basic_ostream</a></code>thực hiện đầu ra (cả được định dạng và không định dạng). Hàm tạo của nó chuẩn bị luồng đầu ra: Kiểm tra xem luồng đã ở trạng thái không thành công, xóa các luồng đầu ra của TIE () và thực hiện các tác vụ được xác định theo triển khai khác nếu cần thiết. Việc dọn dẹp được xác định bằng triển khai, cũng như xả luồng đầu ra nếu cần thiết, được thực hiện trong bộ hủy, để nó được đảm bảo sẽ xảy ra nếu các trường hợp ngoại lệ được ném trong đầu ra.</p>
<h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><strong class="selflink"> <span class="t-lines"><span>chuyên môn)</span></span></strong></div> </td> <td>xây dựng đối tượng Sentry. Tất cả các nhiệm vụ chuẩn bị được thực hiện ở đây<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><strong class="selflink"> <span class="t-lines"><span>một đối tượng ngoại lệ khác để gán với</span></span></strong></div> </td> <td>hoàn thiện đối tượng luồng sau khi đầu ra được định dạng hoặc ngoại lệ, nếu cần<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span>chuyên môn)</span></span></div> </td> <td>toán tử gán bị xóa<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><strong class="selflink"> <span class="t-lines"><span>(hằng số thành viên tĩnh công cộng)</span></span></strong></div> </td> <td>kiểm tra xem việc chuẩn bị đối tượng luồng thành công<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <div class="t-member"> <h2 id="std::basic_ostream::sentry::sentry">std :: basic_ostream :: sentry :: sentry</h2> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">Sentry rõ ràng (std :: basic_ostream &lt;biểu đồ, đặc điểm&gt; &amp; os);</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Chuẩn bị luồng cho đầu ra được định dạng.</p>
<p>Nếu như<code>os.good()</code>khoảng cách<code>false</code>, trả lại. Nếu không, nếu<code>os.tie()</code>không phải là một con trỏ null, cuộc gọi<code>os.tie()-&gt;flush()</code>Để đồng bộ hóa chuỗi đầu ra với các luồng bên ngoài. Trong quá trình chuẩn bị, hàm tạo có thể gọi<code>setstate(failbit)</code>, cuộc gọi<code><a href="../ios_base/failure" title="cpp/io/ios base/failure">std::ios_base::failure</a></code>).</p>
<p>Nếu sau khi chuẩn bị hoàn thành,<code>os.good() == true</code>, sau đó mọi cuộc gọi tiếp theo đến nhà điều hành<span class="kw4">bool</span>cho cùng một đối tượng hệ thống tệp. Do đó<code>true</code>.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>    toán tử &lt;&lt; (std :: basic_ostream &lt;biểu đồ, đặc điểm&gt; &amp; os,</td> <td>-</td> <td>luồng đầu ra để chuẩn bị</td>
</tr>
</table> <h3 id="Exceptions">Ngoại lệ</h3> <p><code><a href="../ios_base/failure" title="cpp/io/ios base/failure">std::ios_base::failure</a></code>Nếu kết thúc của điều kiện tập tin xảy ra.</p>
</div> <div class="t-member"> <h2 id="std::basic_ostream::sentry::.7Esentry">std :: basic_ostream :: sentry :: ~ sentry</h2> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">~ sentry ();</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Nếu như<code><span class="br0">.</span>os.<span class="me1">cờ</span><span class="br0">.</span><span class="br0">)</span> <span class="sy3">Không có giá trị</span> <a href="http://en.cppreference.com/w/cpp/io/ios_base/fmtflags"><span class="kw1699">Điều đó cho tất cả<span class="me2">iOS_Base</span><span class="sy4">::</span><span class="me2">đơn vị</span></span></a><span class="br0">)</span> <span class="sy3">. Trong các cuộc gọi có hiệu lực</span> <span class="sy3">Nếu tồn tại một</span><a href="http://en.cppreference.com/w/cpp/error/uncaught_exception"><span class="kw777">Điều đó cho tất cả<span class="me2">Uncaught_Exception</span></span></a><span class="br0">.</span><span class="br0">)</span> <span class="sy3">. Trong các cuộc gọi có hiệu lực</span> os.<span class="me1">thực hiện logic cơ bản để chuẩn bị luồng cho các hoạt động đầu ra</span><span class="br0">.</span><span class="br0">)</span><span class="br0">)</span></code>khoảng cách<code>true</code>là một con trỏ null hoặc nếu không có ký tự nào được đưa vào<code>os.rdbuf()-&gt;pubsync()</code>. Nếu chức năng đó trở lại<code>-1</code>/ *-loại-điểm mở rộng *///<code>badbit</code>TRONG<code>os.rdstate()</code>mà không tuyên truyền một ngoại lệ.</p>
</div> <div class="t-member"> <h2 id="std::basic_ostream::sentry::operator_bool">std :: basic_ostream :: sentry :: nhà điều hành bool</h2> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">toán tử rõ ràng bool () const;</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Kiểm tra xem việc chuẩn bị luồng đầu ra có thành công hay không.</p>
<h3 id="Parameters_2">) với giá trị ban đầu</h3> <p>Gán cho đã cho</p>
<h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p><code>true</code>Nếu việc chuẩn bị luồng đầu ra đã thành công,<code>false</code>Nếu đối số đầu tiên là</p>
</div> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Istream&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Sstream&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue397" rel="nofollow">LWG 397</a> </td> <td>C ++ 98</td> <td>#include &lt;Sstream&gt;<code>os.flush()</code> </td> <td>Cấu trúc foo</td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue442" rel="nofollow">LWG 442</a> </td> <td>C ++ 98</td> <td>nhà điều hành<span class="kw4">bool</span> <span class="kw4">hằng số</span>{<span class="kw4">hằng số</span>trong<a href="../../header/ostream" title="cpp/header/ostream">synopsis</a>)</td> <td>Được cho<span class="kw4">hằng số</span> </td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue835" rel="nofollow">LWG 835</a> </td> <td>C ++ 98</td> <td>nếu như<code>os</code>, di chuyển-thiết kế bộ phân bổ từ<code>unitbuf</code>    char n [6];<code>os.flush()</code>};<br/> <a href="../../named_req/unformattedoutputfunction" title="cpp/named req/UnformattedOutputFunction">UnformattedOutputFunction</a> <br/>STD :: Ostream &amp; Toán tử &lt;&lt; (STD :: Ostream &amp; Os, Foo &amp; F)</td> <td>cuộc gọi<br/><code>os.rdbuf()-&gt;pubsync()</code><br/>{</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="operator_ltlt" title="cpp/io/basic ostream/operator ltlt"> <span class="t-lines"><span>toán tử &lt;&lt;</span></span></a></div> </td> <td>Sentry<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/basic_ostream/sentry">https://en.cppreference.com/w/cpp/io/basic_ostream/sentry</a>
</p>
</div>
