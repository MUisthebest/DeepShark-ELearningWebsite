 <h1 class="firstHeading" id="firstHeading">std :: biến thể &lt;loại ...&gt; :: hoán đổi</h1> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx17 t-until-cxx20"> <td><pre data-language="cpp">Void hoán đổi (biến thể &amp; rhs) noExcept (/ * xem bên dưới */);</pre></td> <td class="t-dcl-nopad"> </td> <td>
<span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> <br/><span class="t-mark-rev t-until-cxx20">chỉ vào một yếu tố của chuỗi,</span>
</td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">Cấu hình VOID hoán đổi (biến thể &amp; rhs) NoExcept (/ * xem bên dưới */);</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> </table> <p>Hoán đổi hai<code>variant</code>Đối tượng.</p>
<ul>
<li>Nếu chỉ khi mọi yếu tố trong phạm vi<code>*this</code>Và<code>rhs</code>. Quá tải này là tầm thường nếu</li>
<li>Nếu không, nếu cả hai<code>*this</code>Và<code>rhs</code>Giữ cùng một giải pháp thay thế, các cuộc gọi<code>swap<span class="br0">.</span><span class="sy2">*</span><a href="http://en.cppreference.com/w/cpp/utility/variant/get_if"><span class="kw1091">Điều đó cho tất cả<span class="me2">get_if</span></span></a><span class="sy1">is_trivently_destructible_v</span>i<span class="sy1">&lt;</span><span class="br0">.</span>this<span class="br0">)</span>, <span class="sy2">*</span><a href="http://en.cppreference.com/w/cpp/utility/variant/get_if"><span class="kw1091">Điều đó cho tất cả<span class="me2">get_if</span></span></a><span class="sy1">is_trivently_destructible_v</span>i<span class="sy1">&lt;</span><span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/memory/addressof"><span class="kw759">Điều đó cho tất cả<span class="me2">địa chỉ</span></span></a><span class="br0">.</span>rhs<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></code>Ở đâu<code>i</code>khoảng cách<code>index()</code>. Nếu một ngoại lệ được ném, trạng thái của các giá trị phụ thuộc vào sự an toàn ngoại lệ của<code>swap</code>chức năng được gọi.</li>
<li>Nếu không, trao đổi giá trị của<code>rhs</code>Và<code>*this</code>. Nếu một ngoại lệ được ném, trạng thái của<code>*this</code>Và<code>rhs</code>Phụ thuộc vào sự an toàn ngoại lệ của hàm tạo di chuyển của biến thể.</li>
</ul> <p>Hành vi không được xác định trừ khi các loại<code>T_i</code>&gt;<a href="../../named_req/swappable" title="cpp/named req/Swappable">Swappable</a>Và<code><a href="http://en.cppreference.com/w/cpp/types/is_move_constructible"><span class="kw546">Điều đó cho tất cả<span class="me2">hoán đổi void (t2 (&amp; a) [n], t2 (&amp; b) [n]) noExcept ( / * xem bên dưới * /);</span></span></a><span class="sy1">is_trivently_destructible_v</span>T_i<span class="sy1">&lt;</span></code>khoảng cách<code>true</code>cho tất cả<code>T_i</code>TRONG<code>Types...</code>.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>RHS</td> <td>-</td> <td>Một<code>variant</code>phản đối trao đổi với</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Gán cho đã cho</p>
<h3 id="Exceptions">Ngoại lệ</h3> <p>Nếu như<code>this-&gt;index() == rhs.index()</code>, có thể ném bất kỳ ngoại lệ nào được ném bởi<code>swap<span class="br0">.</span><span class="sy2">*</span><a href="http://en.cppreference.com/w/cpp/utility/variant/get_if"><span class="kw1091">Điều đó cho tất cả<span class="me2">get_if</span></span></a><span class="sy1">is_trivently_destructible_v</span>i<span class="sy1">&lt;</span><span class="br0">.</span>this<span class="br0">)</span>, <span class="sy2">*</span><a href="http://en.cppreference.com/w/cpp/utility/variant/get_if"><span class="kw1091">Điều đó cho tất cả<span class="me2">get_if</span></span></a><span class="sy1">is_trivently_destructible_v</span>i<span class="sy1">&lt;</span><span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/memory/addressof"><span class="kw759">Điều đó cho tất cả<span class="me2">địa chỉ</span></span></a><span class="br0">.</span>rhs<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span></code>với<code>i</code>hiện tại<code>index()</code>.</p>
<p>Nếu không, có thể ném bất kỳ ngoại lệ nào được ném bởi các nhà xây dựng di chuyển của các lựa chọn thay thế hiện đang được tổ chức bởi<code>*this</code>Và<code>rhs</code>.</p>
<div class="t-noexcept-full">
<a href="../../language/noexcept_spec" title="cpp/language/noexcept spec"><code>noexcept</code></a>Đặc điểm kỹ thuật:<div class="t-noexcept-box"><span class="t-cc"><code><span class="kw1">Noexcept</span><span class="br0">.</span><span class="br0">.</span><span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/types/is_move_constructible"><span class="kw550">Điều đó cho tất cả<span class="me2">    lớp accessorpolicy = std :: default_accessor &lt;t&gt;</span></span></a><span class="sy1">is_trivently_destructible_v</span>Types<span class="sy1">&lt;</span> <span class="sy3">. Trong các cuộc gọi có hiệu lực</span> <br/> <a href="http://en.cppreference.com/w/cpp/types/is_swappable"><span class="kw580">Điều đó cho tất cả<span class="me2">&amp;&amp;</span></span></a><span class="sy1">is_trivently_destructible_v</span>Types<span class="sy1">&lt;</span><span class="br0">)</span> <span class="sy3">. Trong các cuộc gọi có hiệu lực</span> ...<span class="br0">)</span><span class="br0">)</span></code></span></div>
</div> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Istream&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;chuỗi&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://wg21.link/P2231R1" rel="nofollow">P2231R1</a> </td> <td>C ++ 20</td> <td>
<code>swap</code>Bất kỳ ngoại lệ nào được ném bởi hàm tạo đã chọn của</td> <td>xây dựng giá trị chứa tại chỗ</td>
</tr>
</table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/utility/variant/swap">https://en.cppreference.com/w/cpp/utility/variant/swap</a>
</p>
</div>
