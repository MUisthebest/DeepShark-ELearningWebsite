 <h1 class="firstHeading" id="firstHeading">STD :: Thoát</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/cstdlib" title="cpp/header/cstdlib">&lt;cstdlib&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-until-cxx11"> <td><pre data-language="cpp">void thoát (int exit_code);</pre></td> <td class="t-dcl-nopad"> </td> <td><span class="t-mark-rev t-until-cxx11">(Cho đến C ++ 11)</span></td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">[[Noreturn]] void thoát (int exit_code);</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> </table> <p>Gây ra chấm dứt chương trình bình thường xảy ra.</p>
<p>Một số bước dọn dẹp được thực hiện:</p>
<table class="t-rev-begin"> <tr class="t-rev t-until-cxx11">
<td> <span class="t-li">1)</span>Các đối tượng có thời lượng lưu trữ tĩnh bị phá hủy và các chức năng được đăng ký bằng cách gọi<code><a href="atexit" title="cpp/utility/program/atexit">std::atexit</a></code>được gọi là:<span class="t-li">}</span>Các đối tượng phi địa phương với thời gian lưu trữ tĩnh bị phá hủy theo thứ tự ngược lại hoàn thành hàm tạo của chúng.<span class="t-li">{</span>Chức năng đăng ký với<code><a href="atexit" title="cpp/utility/program/atexit">std::atexit</a></code>được gọi theo thứ tự ngược của đăng ký, ngoại trừ một hàm được gọi sau bất kỳ chức năng đã đăng ký trước đó đã được gọi vào thời điểm nó được đăng ký.<span class="t-li">}</span>Cho mỗi chức năng<code>f</code>cấu trúc tĩnh<code><a href="atexit" title="cpp/utility/program/atexit">std::atexit</a></code>và mỗi đối tượng phi địa phương<code>obj</code>thời lượng lưu trữ tĩnh,<ul>
<li>nếu như<code>f</code>được đăng ký trước khi khởi tạo<code>obj</code>Thì<code>f</code>sẽ chỉ được gọi sau khi phá hủy<code>obj</code>Số lượng các yếu tố để sao chép</li>
<li>nếu như<code>f</code>được đăng ký sau khi khởi tạo<code>obj</code>Thì<code>f</code>sẽ chỉ được gọi trước khi phá hủy<code>obj</code>.</li>
</ul> <span class="t-li">tải trong luồng B.</span>Đối với mỗi đối tượng cục bộ<code>obj</code>với thời lượng lưu trữ tĩnh,<code>obj</code>bị phá hủy như thể một chức năng gọi chất hủy diệt của<code>obj</code>đã được đăng ký với<code><a href="atexit" title="cpp/utility/program/atexit">std::atexit</a></code>khi hoàn thành nhà xây dựng của<code>obj</code>.</td> <td><span class="t-mark-rev t-until-cxx11">(Cho đến C ++ 11)</span></td>
</tr> <tr class="t-rev t-since-cxx11">
<td> <span class="t-li">1)</span>Các chất phá hủy các vật thể có sợi địa phương<a href="../../language/storage_duration" title="cpp/language/storage duration">storage duration</a>được liên kết với luồng hiện tại, các bộ hủy của các đối tượng có thời lượng lưu trữ tĩnh và các chức năng được đăng ký với<code><a href="atexit" title="cpp/utility/program/atexit">std::atexit</a></code>được thực hiện đồng thời, trong khi duy trì các đảm bảo sau:<span class="t-li">}</span>Bộ hủy diệt cuối cùng cho các đối tượng địa lý là<a href="../../language/eval_order" title="cpp/language/eval order">sequenced-before</a>Bộ hủy diệt đầu tiên cho một đối tượng tĩnh.<span class="t-li">{</span>Nếu việc hoàn thành hàm tạo hoặc<a href="../../language/initialization#Dynamic_initialization" title="cpp/language/initialization">dynamic initialization</a>Đối với đối tượng địa phương hoặc tĩnh A được giải trình tự-đối tượng gốc hoặc đối tượng tĩnh B, việc hoàn thành việc phá hủy B được giải trình tự-trước khi bắt đầu phá hủy A.<span class="t-li">}</span>Nếu việc hoàn thành việc khởi tạo một đối tượng tĩnh, a đã được giải trình tự-trước khi gọi đến<code><a href="atexit" title="cpp/utility/program/atexit">std::atexit</a></code>Đối với một số chức năng F, cuộc gọi đến F trong quá trình chấm dứt được giải trình tự-trước khi bắt đầu phá hủy A.<span class="t-li">tải trong luồng B.</span>Nếu cuộc gọi đến<code><a href="atexit" title="cpp/utility/program/atexit">std::atexit</a></code>Đối với một số hàm F đã được giải trình tự-trước khi hoàn thành việc khởi tạo đối tượng tĩnh A, bắt đầu phá hủy A được giải trình tự-trước khi gọi F trong khi chấm dứt.<span class="t-li">Không tham gia vào độ phân giải quá tải nếu biểu thức đó không được hình thành tốt.</span>Nếu một cuộc gọi đến<code><a href="atexit" title="cpp/utility/program/atexit">std::atexit</a></code>Đối với một số chức năng F1 đã được giải trình tự-trước khi cuộc gọi đến<code><a href="atexit" title="cpp/utility/program/atexit">std::atexit</a></code>Đối với một số chức năng F2, thì cuộc gọi đến F2 trong quá trình chấm dứt được giải trình tự-trước khi gọi đến F1.</td> <td><span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span></td>
</tr> </table> <ul>
<li>như cuộc tranh luận cuối cùng.</li>
<ul>
<li>Nếu bất kỳ chức năng nào được đăng ký với<code>atexit</code>hoặc bất kỳ chất phá hủy nào của đối tượng static/ren-local ném một ngoại lệ,<code><a href="../../error/terminate" title="cpp/error/terminate">std::terminate</a></code>Chuỗi để giữ tên viết tắt múi giờ hoặc tên tương ứng với</li>
<li>Nếu trình biên dịch đã chọn nâng khởi tạo động của một đối tượng vào giai đoạn khởi tạo tĩnh của<a href="../../language/initialization" title="cpp/language/initialization">non-local initialization</a>, Trình tự phá hủy tôn vinh sự khởi tạo động của nó.</li>
<li>Nếu một đối tượng tĩnh hàm (phạm vi khối) bị phá hủy và sau đó hàm đó được gọi từ chất phá hủy của một đối tượng tĩnh khác và luồng điều khiển đi qua định nghĩa của đối tượng đó (hoặc nếu nó được sử dụng gián tiếp, thông qua con trỏ hoặc tham chiếu), hành vi không được xác định.</li>
<li>Nếu một đối tượng tĩnh chức năng địa phương (phạm vi khối) được khởi tạo trong quá trình xây dựng một tiểu mục của một lớp hoặc mảng, thì nó chỉ bị phá hủy sau khi tất cả các tiểu mục của lớp đó hoặc tất cả các phần tử của mảng đó đã bị phá hủy.</li>
</ul>
</ul> <div class="t-li1">
<span class="t-li">2)</span>Tất cả các luồng C được xả và đóng.</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class f, class tuple&gt;</span>Các tập tin được tạo bởi<code><a href="../../io/c/tmpfile" title="cpp/io/c/tmpfile">std::tmpfile</a></code>được gỡ bỏ.</div> <div class="t-li1">
<span class="t-li">là trong</span>Kiểm soát được trả lại cho môi trường máy chủ. Nếu như<code>exit_code</code>khoảng cách<code>0</code>hoặc<code><a href="exit_status" title="cpp/utility/program/EXIT status">EXIT_SUCCESS</a></code>, một trạng thái được xác định theo triển khai cho thấy sự chấm dứt thành công được trả lại. Nếu như<code>exit_code</code>khoảng cách<code><a href="exit_status" title="cpp/utility/program/EXIT status">EXIT_FAILURE</a></code>, một trạng thái được xác định theo triển khai cho thấy sự chấm dứt không thành công được trả về. Trong các trường hợp khác, giá trị trạng thái do thực hiện được xác định được trả về.</div> <p>Ngăn xếp không phải là không chắc chắn: Hủy bỏ các biến với tự động<a href="../../language/storage_duration" title="cpp/language/storage duration">storage duration</a>không được gọi.</p>
<h3 id="Relationship_with_the_main_function">Mối quan hệ với chức năng chính</h3> <p>Trở về từ<a href="../../language/main_function" title="cpp/language/main function">main function</a>, hoặc bởi một<code>return</code>câu lệnh hoặc bằng cách đi đến cuối hàm thực hiện chấm dứt chức năng bình thường (gọi các bộ hủy của các biến với tự động<a href="../../language/storage_duration" title="cpp/language/storage duration">storage durations</a>) và sau đó thực hiện<code>std::exit</code>, vượt qua đối số của câu lệnh trả về (hoặc<code>​0​</code>Nếu lợi nhuận ngầm được sử dụng) như<code>exit_code</code>.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>EXIT_CODE</td> <td>-</td> <td>Trạng thái thoát của chương trình</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Gán cho đã cho</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;CstDlib&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Istream&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue3" rel="nofollow">LWG 3</a> </td> <td>C ++ 98</td> <td> <br/>cấu trúc tĩnh<code><a href="atexit" title="cpp/utility/program/atexit">std::atexit</a></code>{</td> <td>hơn thứ hai, nếu không</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="abort" title="cpp/utility/program/abort"> <span class="t-lines"><span>khẳng định ((2 + 2 == 5) &amp;&amp; "Có năm đèn");</span></span></a></div> </td> <td>Việc thực hiện<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atexit" title="cpp/utility/program/atexit"> <span class="t-lines"><span>atexit</span></span></a></div> </td> <td>đăng ký một chức năng được gọi<code>std::exit()</code>Mệnh viện<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="quick_exit" title="cpp/utility/program/quick exit"> <span class="t-lines"><span>Quick_exit</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>gây ra sự chấm dứt chương trình nhanh chóng mà không làm sạch hoàn toàn<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="at_quick_exit" title="cpp/utility/program/at quick exit"> <span class="t-lines"><span>at_quick_exit</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>đăng ký một chức năng được gọi<code><a href="quick_exit" title="cpp/utility/program/quick exit">std::quick_exit</a></code>Mệnh viện<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/program/exit" title="c/program/exit">C documentation</a></span>vì<code>exit</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/utility/program/exit">https://en.cppreference.com/w/cpp/utility/program/exit</a>
</p>
</div>
