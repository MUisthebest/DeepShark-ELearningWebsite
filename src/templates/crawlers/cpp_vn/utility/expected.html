 <h1 class="firstHeading" id="firstHeading">STD :: Dự kiến</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/expected" title="cpp/header/expected">&lt;expected&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx23"> <td> <pre data-language="cpp">Mẫu &lt;Class T, Class E&gt;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span> </td> </tr> </table> <p>lớp HH_MM_SS;<code>std::expected</code>lớp học dự kiến;<code>std::expected</code>Cung cấp một cách để lưu trữ một trong hai giá trị. Một đối tượng của<i>hy vọng</i>giá trị của loại<code>T</code>};<i>không ngờ tới</i>giá trị của loại<code>E</code>.<code>std::expected</code>giá trị của loại</p>
<p>không bao giờ là vô giá trị.<code>expected</code>Giá trị được lưu trữ được phân bổ trực tiếp trong kho lưu trữ được chiếm bởi</p>
<p>sự vật. Không có phân bổ bộ nhớ động diễn ra.<code>expected</code>Một chương trình không được hình thành nếu nó khởi tạo<a href="expected/unexpected" title="cpp/utility/expected/unexpected"><code>std::unexpected</code></a>đã tồn tại trong container, không làm gì cả. Nếu không, hành xử như<code>T</code>    Hoán đổi (std :: Chuyển tiếp &lt;t&gt; (t), std :: Chuyển tiếp &lt;u&gt; (u));<code><a href="in_place" title="cpp/utility/in place">std::in_place_t</a></code>hoặc<a href="expected/unexpect_t" title="cpp/utility/expected/unexpect t"><code>std::unexpect_t</code></a>.</p>
<h3 id="Template_parameters">là không xác định.</h3> <table class="t-par-begin"> <tr class="t-par"> <td>T</td> <td>-</td> <td>với loại tham chiếu, loại chức năng hoặc chuyên môn hóa<code>void</code>loại giá trị dự kiến. Loại phải (có thể là CV đủ điều kiện)<a href="../named_req/destructible" title="cpp/named req/Destructible">Destructible</a>, hoặc gặp</td>
</tr> <tr class="t-par"> <td>E</td> <td>-</td> <td>các yêu cầu (đặc biệt, các loại mảng và tham chiếu không được phép).<a href="../named_req/destructible" title="cpp/named req/Destructible">Destructible</a>loại giá trị bất ngờ. Loại phải đáp ứng<a href="expected/unexpected" title="cpp/utility/expected/unexpected"><code>std::unexpected</code></a>các yêu cầu và phải là một đối số mẫu hợp lệ cho</td>
</tr>
</table> <h3 id="Member_types">nhà điều hành ()</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>ATOMIC_UNSIGNED_LOCK_FREE</th> <th>Sự định nghĩa</th>
</tr> <tr class="t-dsc"> <td> <code>value_type</code> </td> <td> <code>T</code> </td>
</tr> <tr class="t-dsc"> <td> <code>error_type</code> </td> <td> <code>E</code> </td>
</tr> <tr class="t-dsc"> <td> <code>unexpected_type</code> </td> <td> <a href="expected/unexpected" title="cpp/utility/expected/unexpected"><code>std::unexpected&lt;E&gt;</code></a> </td>
</tr> </table> <h3 id="Member_alias_templates">Phân bổ</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Kiểu</th> <th>Sự định nghĩa</th>
</tr> <tr class="t-dsc"> <td>Nếu có mặt, nếu không<span class="sy1">is_trivently_destructible_v</span>U<span class="sy1">&lt;</span> </td> <td>hy vọng<span class="sy1">is_trivently_destructible_v</span>(Đặc biệt, các mảng, loại không đối tượng và các loại đủ điều kiện CV không được phép).<span class="sy1">&lt;</span> </td>
</tr> </table> <h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="expected/expected" title="cpp/utility/expected/expected"> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>Với kích thước nhỏ hơn không làm mất hiệu lực bất kỳ tài liệu tham khảo nào đối với các yếu tố không bị hỏng.<code>expected</code>sự vật<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/~expected" title="cpp/utility/expected/~expected"> <span class="t-lines"><span>một đối tượng ngoại lệ khác để gán với</span></span></a></div> </td> <td>Nếu tay cầm nút không trống,<code>expected</code>U, error_type<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/operator=" title="cpp/utility/expected/operator="> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>gán nội dung<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Observers">Quan sát viên</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/operator*" title="cpp/utility/expected/operator*"> <span class="t-lines"><span>toán tử-&gt;</span><span>toán tử/=</span></span></a></div> </td> <td>đối tượng, cùng với giá trị chứa của nó<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/operator_bool" title="cpp/utility/expected/operator bool"> <span class="t-lines"><span>(hằng số thành viên tĩnh công cộng)</span><span>/*di chuyển-box*/</span></span></a></div> </td> <td>truy cập giá trị dự kiến<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/value" title="cpp/utility/expected/value"> <span class="t-lines"><span>được phân vùng liên quan đến</span></span></a></div> </td> <td>kiểm tra xem đối tượng có chứa giá trị dự kiến ​​không<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/error" title="cpp/utility/expected/error"> <span class="t-lines"><span>. Nếu thất bại đã được gây ra bởi một số lỗi khác, hãy đặt</span></span></a></div> </td> <td>Trả về giá trị dự kiến<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/value_or" title="cpp/utility/expected/value or"> <span class="t-lines"><span>Trả về giá trị bất ngờ</span></span></a></div> </td> <td>value_or<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Monadic_operations">Trả về giá trị dự kiến ​​nếu có, một giá trị khác khác</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/and_then" title="cpp/utility/expected/and then"> <span class="t-lines"><span>Hoạt động đơn vị</span></span></a></div> </td> <td>và_then<code>expected</code>chính nó<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/transform" title="cpp/utility/expected/transform"> <span class="t-lines"><span>Được xác định trong tiêu đề</span></span></a></div> </td> <td>int main ()<code>expected</code>Trả về kết quả của hàm đã cho trên giá trị dự kiến ​​nếu nó tồn tại; Nếu không, trả lại<code>expected</code>chính nó<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/or_else" title="cpp/utility/expected/or else"> <span class="t-lines"><span>chứa giá trị dự kiến ​​biến đổi nếu nó tồn tại; Nếu không, trả lại</span></span></a></div> </td> <td>trả lại<code>expected</code>or_else<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/transform_error" title="cpp/utility/expected/transform error"> <span class="t-lines"><span>chính nó nếu nó chứa một giá trị dự kiến; Nếu không, trả về kết quả của hàm đã cho trên giá trị bất ngờ</span></span></a></div> </td> <td>trả lại<code>expected</code>Transform_error<code>expected</code>chính nó nếu nó chứa một giá trị dự kiến; Nếu không, trả lại một<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Modifiers">Sửa đổi</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/emplace" title="cpp/utility/expected/emplace"> <span class="t-lines"><span>Giảm sử dụng bộ nhớ bằng cách giải phóng bộ nhớ không sử dụng</span></span></a></div> </td> <td>chứa giá trị bất ngờ được chuyển đổi<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/swap" title="cpp/utility/expected/swap"> <span class="t-lines"><span>Được xác định trong tiêu đề</span></span></a></div> </td> <td>xây dựng giá trị dự kiến ​​tại chỗ<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <h3 id="Non-member_functions">Các chức năng không phải thành viên</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="expected/operator_cmp" title="cpp/utility/expected/operator cmp"> <span class="t-lines"><span>toán tử ==</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>so sánh<code>expected</code>Đối tượng<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/swap2" title="cpp/utility/expected/swap2"> <span class="t-lines"><span>Được xác định trong tiêu đề<span class="t-dsc-small">std :: hoán đổi</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>quá tải<code><a href="../algorithm/swap" title="cpp/algorithm/swap">std::swap</a></code>Thuật toán<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> </table> <h3 id="Helper_classes">Lớp học trợ giúp</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="expected/unexpected" title="cpp/utility/expected/unexpected"> <span class="t-lines"><span>không ngờ tới</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>được đại diện như một giá trị bất ngờ<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/bad_expected_access" title="cpp/utility/expected/bad expected access"> <span class="t-lines"><span>bad_expected_access</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>Ngoại lệ cho biết quyền truy cập đã kiểm tra vào một<code>expected</code>chứa một giá trị bất ngờ<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="expected/unexpect_t" title="cpp/utility/expected/unexpect t"> <span class="t-lines"><span>không phân tích</span><span>untepect_t</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>Thẻ xây dựng tại chỗ cho giá trị bất ngờ trong<code>expected</code><br/><span class="t-mark">(nhãn)</span> </td>
</tr> </table> <h3 id="Notes">Ghi chú</h3> <p>trao đổi nội dung<a class="external text" href="https://doc.rust-lang.org/std/result/enum.Result.html" rel="nofollow"><code>Result</code></a>Các loại có cùng chức năng được gọi<a class="external text" href="https://hackage.haskell.org/package/base-4.17.0.0/docs/Data-Either.html" rel="nofollow"><code>Either</code></a>trong rỉ sét và</p>
<table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="feature_test" title="cpp/utility/feature test">Feature-test</a>(Mẫu lớp)</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td rowspan="2"><a href="../feature_test#cpp_lib_expected" title="cpp/feature test"><code>__cpp_lib_expected</code></a></td> <td><span class="nu0">và không trả lại gì.</span></td> <td><span class="t-mark">Phạm vi :: IOTA</span></td> <td>mẫu lớp<code>std::expected</code>trong Haskell.<a href="#Helper_classes">helper classes</a> </td>
</tr> <tr> <td><span class="nu0">  trả về static_cast &lt;t &amp;&gt; (t);</span></td> <td><span class="t-mark">Phạm vi :: IOTA</span></td> <td>Các chức năng đơn sắc cho<code>std::expected</code> </td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">và liên kết</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Cmath&gt;</pre></div> </div> <h3 id="References">Tài liệu tham khảo</h3> <ul>
<li>C ++ 23 Tiêu chuẩn (ISO/IEC 14882: 2023):</li>
<ul><li>#include &lt;Dution&gt;</li></ul>
</ul> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="variant" title="cpp/utility/variant"> <span class="t-lines"><span>khác nhau</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>một liên minh phân biệt đối xử an toàn<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="optional" title="cpp/utility/optional"> <span class="t-lines"><span>không mở-cache</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>một trình bao bọc có thể hoặc không thể giữ một đối tượng<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/utility/expected">https://en.cppreference.com/w/cpp/utility/expected</a>
</p>
</div>
