 <h1 class="firstHeading" id="firstHeading">std :: from_chars</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/charconv" title="cpp/header/charconv">&lt;charconv&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">std :: from_chars_result</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> <br/><span class="t-mark-rev t-since-cxx23">(Constexpr kể từ C ++ 23)</span> </td> </tr> <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(2)</td> <td></td> </tr> <tr class="t-dcl t-since-cxx17 t-until-cxx23"> <td><pre data-language="cpp">    from_chars (const char* đầu tiên, const char* cuối cùng,</pre></td> <td>
<span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> <br/><span class="t-mark-rev t-until-cxx23">(Cho đến C ++ 23)</span>
</td> </tr> <tr class="t-dcl t-since-cxx23"> <td> <pre data-language="cpp">                / * số nguyên loại */&amp; giá trị, int cơ sở = 10);</pre>
</td> <td> <span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span> </td> </tr> </table> <p>std :: from_chars_result<code>[</code><code>first</code><code>, </code><code>last</code><code>)</code>    From_chars (const char* Đầu tiên, const char* cuối cùng, float &amp; value,<code>value</code>Thì<code>value</code>                std :: chars_format fmt = std :: chars_format :: chung);<code>value</code>.</p>
<span class="t-li">1)</span>std :: from_chars_result<code><a href="../string/byte/strtol" title="cpp/string/byte/strtol">std::strtol</a></code>    From_chars (const char* Đầu tiên, const char* cuối cùng, gấp đôi &amp; giá trị,<ul>
<li> <code>"0x"</code>hoặc<code>"0X"</code>                std :: chars_format fmt = std :: chars_format :: chung);<code>base</code>std :: from_chars_result</li>
<li>    from_chars (const char* đầu tiên, const char* cuối cùng, gấp đôi và giá trị dài,<code>value</code> </li>
<li>Thư viện cung cấp quá tải cho tất cả</li>
</ul>std :: from_chars_result<span class="t-rev-inl t-since-cxx23"><span>CV-UNTQUEND</span><span><span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span></span></span>    from_chars (const char* đầu tiên, const char* cuối cùng,<span class="kw4">char</span>. Thư viện cung cấp quá tải cho tất cả các CV-Unquilified<code>value</code>.<span class="t-li">2)</span>                / *-điểm nổi-loại */&amp; giá trị,<code><a href="../string/byte/strtof" title="cpp/string/byte/strtof">std::strtod</a></code>                std :: chars_format fmt = std :: chars_format :: chung);<ul>
<li>Phân tích trình tự ký tự</li>
<li>nếu như<code>fmt</code>mức độ, trong trường hợp đó, số lượng các phần tử trong chuỗi được biết đến theo thời gian biên dịch và được mã hóa trong loại hoặc a<a href="chars_format" title="cpp/utility/chars format"><code>std::chars_format::scientific</code></a>Máy phân tích cú pháp số nguyên: mong đợi mô hình giống hệt với mô hình được sử dụng bởi<a href="chars_format" title="cpp/utility/chars format"><code>std::chars_format::fixed</code></a>không được sửa đổi, nếu không các ký tự phù hợp với mẫu được hiểu là biểu diễn văn bản của một giá trị số học, được lưu trữ trong</li>
<li>nếu như<code>fmt</code>mức độ, trong trường hợp đó, số lượng các phần tử trong chuỗi được biết đến theo thời gian biên dịch và được mã hóa trong loại hoặc a<a href="chars_format" title="cpp/utility/chars format"><code>std::chars_format::fixed</code></a>Máy phân tích cú pháp số nguyên: mong đợi mô hình giống hệt với mô hình được sử dụng bởi<a href="chars_format" title="cpp/utility/chars format"><code>std::chars_format::scientific</code></a>trong địa phương mặc định ("c") và cơ sở số khác không, ngoại trừ điều đó</li>
<li>nếu như<code>fmt</code>khoảng cách<a href="chars_format" title="cpp/utility/chars format"><code>std::chars_format::hex</code></a>tiền tố không được nhận ra nếu<code>"0x"</code>hoặc<code>"0X"</code>là 16<code>"0x123"</code>Chỉ có dấu hiệu trừ được nhận dạng (không phải dấu cộng) và chỉ cho các loại số nguyên đã ký<code>"0"</code>Khoảng cách hàng đầu không bị bỏ qua.<code>"x123"</code>)</li>
<li>Thư viện cung cấp quá tải cho tất cả</li>
</ul> <div class="t-li1">các loại số nguyên đã ký và không dấu và<code><a href="../types/numeric_limits/float_round_style" title="cpp/types/numeric limits/float round style">std::round_to_nearest</a></code>.</div> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx23">
<td>Phân tích cú pháp dấu phẩy động: mong đợi mô hình giống hệt với mô hình được sử dụng bởi<code>value</code>.</td> <td><span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span></td>
</tr> </table> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>và sau đó sửa đổi nó với</td> <td>-</td> <td>trong locale mặc định ("c"), ngoại trừ điều đó</td>
</tr> <tr class="t-par"> <td>được phân vùng liên quan đến</td> <td>-</td> <td>Dấu cộng không được nhận ra bên ngoài số mũ (chỉ được phép dấu hiệu trừ khi bắt đầu)</td>
</tr> <tr class="t-par"> <td>căn cứ</td> <td>-</td> <td>Đặt nhưng không</td>
</tr> <tr class="t-par"> <td>Mẫu &lt;Biểu đồ lớp, Đặc điểm lớp, Alloc Class, Class Parsable&gt;</td> <td>-</td> <td>, phần số mũ là bắt buộc (nếu không thì nó là tùy chọn)<a href="chars_format" title="cpp/utility/chars format"><code>std::chars_format</code></a> </td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Đặt nhưng không<a href="from_chars_result" title="cpp/utility/from chars result"><code>std::from_chars_result</code></a>chỉ vào trình tự và mọi số nguyên không âm<code>ptr</code>, số mũ tùy chọn không được phép<code>last</code>, tiền tố<code>ec</code>Xây dựng container cơ bản mới của bộ điều hợp container từ nhiều nguồn dữ liệu khác nhau.</p>
<p>không được phép (chuỗi<a href="from_chars_result" title="cpp/utility/from chars result"><code>std::from_chars_result</code></a>chỉ vào trình tự và mọi số nguyên không âm<code>ptr</code>Mẫu &lt;class inputit1, class inputit2&gt;<code>first</code>Và<code>ec</code>Mẫu &lt;class inputit1, class inputit2&gt;<code><a href="../error/errc" title="cpp/error/errc">std::errc::invalid_argument</a></code>.<code>value</code>Thư viện cung cấp quá tải cho tất cả các loại dấu phẩy động CV-UNTQUEDED là loại tham chiếu của tham số</p>
<p>với phần còn lại không được phân chia<code>value</code>Khoảng cách hàng đầu không bị bỏ qua.<a href="from_chars_result" title="cpp/utility/from chars result"><code>std::from_chars_result</code></a>chỉ vào trình tự và mọi số nguyên không âm<code>ec</code>Mẫu &lt;class inputit1, class inputit2&gt;<code><a href="../error/errc" title="cpp/error/errc">std::errc::result_out_of_range</a></code>Và<code>ptr</code>Trong mọi trường hợp, giá trị kết quả là một trong nhiều giá trị dấu phẩy động gần với giá trị của chuỗi khớp với mẫu, sau khi làm tròn theo<code>value</code>Thư viện cung cấp quá tải cho tất cả các loại dấu phẩy động CV-UNTQUEDED là loại tham chiếu của tham số</p>
<h3 id="Exceptions">Ngoại lệ</h3> <p>Không ném gì.</p>
<h3 id="Notes">Ghi chú</h3> <p>Phạm vi ký tự hợp lệ để phân tích cú pháp<code>std::from_chars</code>Các tham số bên ngoài nơi giá trị phân tích cú pháp được lưu trữ nếu thành công<code><a href="../io/c/fscanf" title="cpp/io/c/fscanf">std::sscanf</a></code>Cơ sở số nguyên để sử dụng: Giá trị từ 2 đến 36 (bao gồm).<a class="extiw" href="https://en.wikipedia.org/wiki/JSON" title="enwiki:JSON">JSON</a>hoặc<a class="extiw" href="https://en.wikipedia.org/wiki/XML" title="enwiki:XML">XML</a>).</p>
<p>Định dạng điểm nổi để sử dụng, một loại bitmask<code>std::from_chars</code>Khi thành công, trả về giá trị của loại<a href="to_chars" title="cpp/utility/to chars"><code>std::to_chars</code></a>các điểm ở ký tự đầu tiên không khớp với mẫu hoặc có giá trị bằng</p>
<p>Nếu tất cả các ký tự phù hợp và</p>
<table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="feature_test" title="cpp/utility/feature test">Feature-test</a>(Mẫu lớp)</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td rowspan="2"><a href="../feature_test#cpp_lib_to_chars" title="cpp/feature test"><code>__cpp_lib_to_chars</code></a></td> <td><span class="nu0">201611l</span></td> <td><span class="t-mark">Dest_at</span></td> <td>Chuyển đổi chuỗi cơ bản (<code>std::from_chars</code>Thì<a href="to_chars" title="cpp/utility/to chars"><code>std::to_chars</code></a>)</td>
</tr> <tr> <td><span class="nu0">202306L</span></td> <td><span class="t-mark">(C ++ 26)</span></td> <td>Kiểm tra thành công hoặc thất bại của<a href="../header/charconv" title="cpp/header/charconv"><code>&lt;charconv&gt;</code></a>chức năng</td>
</tr> <tr> <td><a href="../feature_test#cpp_lib_constexpr_charconv" title="cpp/feature test"><code>__cpp_lib_constexpr_charconv</code></a></td> <td><span class="nu0">202207L</span></td> <td><span class="t-mark">Phạm vi :: IOTA</span></td> <td>Thêm vào<span class="kw4">constexpr</span>Nếu không có mẫu khớp, hãy trả về giá trị của loại<code>std::from_chars</code>Và<a href="to_chars" title="cpp/utility/to chars"><code>std::to_chars</code></a>là không sửa đổi.</td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">Nếu mẫu được khớp, nhưng giá trị phân tích đã nằm trong phạm vi được thể hiện bởi loại</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">, Trả về giá trị của loại</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue2955" rel="nofollow">LWG 2955</a> </td> <td>C ++ 17</td> <td>Điểm ở nhân vật đầu tiên không khớp với mẫu.<a href="../header/utility" title="cpp/header/utility"><code>&lt;utility&gt;</code></a>là không sửa đổi.<code><a href="../error/error_code" title="cpp/error/error code">std::error_code</a></code> </td> <td>Không giống như các chức năng phân tích cú pháp khác trong các thư viện C ++ và C,<a href="../header/charconv" title="cpp/header/charconv"><code>&lt;charconv&gt;</code></a>là độc lập địa phương, không phân bổ và không ném. Chỉ một tập hợp nhỏ các chính sách phân tích cú pháp được sử dụng bởi các thư viện khác (chẳng hạn như<code><a href="../error/errc" title="cpp/error/errc">std::errc</a></code> </td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue3373" rel="nofollow">LWG 3373</a> </td> <td>C ++ 17</td> <td>
<code>std::from_chars_result</code>) được cung cấp. Điều này nhằm mục đích cho phép triển khai nhanh nhất có thể hữu ích trong các bối cảnh thông lượng cao phổ biến như trao đổi dựa trên văn bản (</td> <td>Đảm bảo rằng</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="from_chars_result" title="cpp/utility/from chars result"> <span class="t-lines"><span>từ_chars_result</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>loại trả lại của<strong class="selflink"><code>std::from_chars</code></strong> <br/> <span class="t-mark">Các loại chính sách thực thi</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="to_chars" title="cpp/utility/to chars"> <span class="t-lines"><span>to_chars</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>Chuyển đổi giá trị số nguyên hoặc dấu phẩy động thành trình tự ký tự<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../string/basic_string/stol" title="cpp/string/basic string/stol"> <span class="t-lines"><span>Stoi</span><span>đánh cắp</span><span>Stoll</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Chuyển đổi một chuỗi thành một số nguyên đã ký<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../string/basic_string/stof" title="cpp/string/basic string/stof"> <span class="t-lines"><span>Stof</span><span>Stod</span><span>đã bị cuốn</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Chuyển đổi một chuỗi thành giá trị điểm nổi<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../string/byte/strtol" title="cpp/string/byte/strtol"> <span class="t-lines"><span>strtol</span><span>Strtoll</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Chuyển đổi chuỗi byte thành giá trị số nguyên<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../string/byte/strtof" title="cpp/string/byte/strtof"> <span class="t-lines"><span>Strtof</span><span>Strtod</span><span>Strtold</span></span></a></div> </td> <td>Chuyển đổi chuỗi byte thành giá trị điểm nổi<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../io/c/fscanf" title="cpp/io/c/fscanf"> <span class="t-lines"><span>quét</span><span>fscanf</span><span>sscanf</span></span></a></div> </td> <td>đọc đầu vào được định dạng từ<code><a href="../io/c/std_streams" title="cpp/io/c/std streams">stdin</a></code>, một luồng tệp hoặc bộ đệm<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../io/basic_istream/operator_gtgt" title="cpp/io/basic istream/operator gtgt"> <span class="t-lines"><span>Num</span></span></a></div> </td> <td>Mở một tệp và liên kết nó với luồng<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_istream&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/utility/from_chars">https://en.cppreference.com/w/cpp/utility/from_chars</a>
</p>
</div>
