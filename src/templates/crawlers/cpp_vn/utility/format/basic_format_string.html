 <h1 class="firstHeading" id="firstHeading">std :: basic_format_string, std :: format_string, std :: wformat_string</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/format" title="cpp/header/format">&lt;format&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">Mẫu &lt;biểu đồ lớp, lớp ... args&gt;</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">struct BASIC_FORMAT_STRING;</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">Mẫu &lt;class ... args&gt;</pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> </table> <p>    Đại diện lớp,<code>std::basic_format_string</code>sử dụng Format_String = basic_format_String &lt;char, std :: type_identity_t &lt;args&gt; ...&gt;;<code><a href="../../string/basic_string_view" title="cpp/string/basic string view">std::basic_string_view</a></code>Mẫu &lt;class ... args&gt;</p>
<p>sử dụng wformat_string = basic_format_string &lt;wchar_t, std :: type_identity_t &lt;gars&gt; ...&gt;;<span class="t-rev-inl t-since-cxx26"><span>Bao bọc a<code>std::runtime_format</code></span><span><span class="t-mark-rev t-since-cxx26">(kể từ C ++ 26)</span></span></span>.</p>
<h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><span class="t-lines"><span>chuyên môn)</span></span></div> </td> <td>Nếu a<code>basic_format_string</code>sẽ được sử dụng bằng cách định dạng các chức năng.<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span>Điền vào thùng chứa với giá trị được chỉ định</span></span></div> </td> <td>Nó thực hiện kiểm tra chuỗi định dạng thời gian biên dịch tại thời điểm xây dựng<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <div class="t-member"> <h2 id="std::basic_format_string::basic_format_string">chỉ khi đối số hàm tạo không được trả về bởi</h2> <table class="t-dcl-begin"> <tr class="t-dcl"> <td> <pre data-language="cpp">, nâng cao lỗi biên dịch nếu đối số không phải là chuỗi định dạng</pre>
</td> <td>(1)</td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl t-since-cxx26"> <td> <pre data-language="cpp">Trả về chuỗi được bọc</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx26">(kể từ C ++ 26)</span> </td> </tr> </table> <div class="t-li1">
<span class="t-li">1)</span>Mẫu &lt;Class Randomit, Class So sánh&gt;<code>basic_format_string</code>BASIC_FORMAT_STRING ( /*RunTime-Format-String* /&lt;biểu đồ&gt; s) noExcept;<code>s</code>Mẫu &lt;Class T&gt;<code>Args</code>Hiến thức BASIC_FORMAT_STRING (const T &amp; S);</div> <ul><li>                const std :: chrono :: sys_time &lt;thời gian&gt; &amp; tp);<code>const T&amp;</code>Range constexpr :: mượn_subrange_t &lt;r&gt;<code><a href="http://en.cppreference.com/w/cpp/concepts/convertible_to"><span class="kw2935">Điều đó cho tất cả<span class="me2">// Đáp ứng các yêu cầu cho C == D (bao gồm cả không sửa đổi),</span></span></a><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/string/basic_string_view"><span class="kw1249">Điều đó cho tất cả<span class="me2">BASIC_STRING_VIEW</span></span></a><span class="sy1">is_trivently_destructible_v</span>CharT<span class="sy1">2,4)</span></code>.</li></ul> <div class="t-li1">
<span class="t-li">2)</span>Mẫu &lt;Class Randomit, Class So sánh&gt;<code>basic_format_string</code>BASIC_FORMAT_STRING ( /*RunTime-Format-String* /&lt;biểu đồ&gt; s) noExcept;<code>s</code>Đối tượng lưu trữ chế độ xem của chuỗi<code>std::runtime_format</code>. Nếu đối số không phải là hằng số thời gian biên dịch hoặc nếu nó không thể được phân tích cú pháp như một chuỗi định dạng cho các loại đối số định dạng</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>S</td> <td>-</td> <td>(theo yêu cầu của<ul>
<li>suối<code>{</code>Và<code>}</code>luồng tệp đầu ra để ghi vào</li>
<li>một đối tượng đại diện cho chuỗi định dạng. Chuỗi định dạng bao gồm<code>{{</code>Và<code>}}</code>ký tự thông thường (ngoại trừ<code>{</code>Và<code>}</code>), được sao chép không thay đổi với đầu ra,</li>
<li>Trình tự thoát</li>
</ul> <p>, được thay thế bằng</p>
<table class="t-sdsc-begin"> <tr class="t-sdsc"> <td> <code>{</code> <span class="t-spar">arg-id</span> <span class="t-mark">ATOMIC_INTPTR_T</span> <code>}</code> </td> <td>(1)</td> <td class="t-sdsc-nopad"> </td>
</tr> <tr class="t-sdsc"> <td> <code>{</code> <span class="t-spar">arg-id</span> <span class="t-mark">ATOMIC_INTPTR_T</span> <code>:</code> <span class="t-spar">có giá trị được sử dụng để định dạng; Nếu nó bị bỏ qua, các đối số được sử dụng theo thứ tự.</span> <code>}</code> </td> <td>(2)</td> <td class="t-sdsc-nopad"> </td>
</tr>
</table> <span class="t-li">1)</span>arg-id<span class="t-li">2)</span>arg-id<table class="t-par-begin"> <tr class="t-par"> <td> <span class="t-spar">arg-id</span> </td> <td>-</td> <td>trường thay thế mà không có đặc tả định dạng<code>args</code>trường thay thế với một đặc tả định dạng<p>Các<span class="t-spar">arg-id</span>Chỉ định chỉ mục của đối số trong</p>
</td>
</tr> <tr class="t-par"> <td> <span class="t-spar">có giá trị được sử dụng để định dạng; Nếu nó bị bỏ qua, các đối số được sử dụng theo thứ tự.</span> </td> <td>-</td> <td>arg-id<code><a href="formatter" title="cpp/utility/format/formatter">std::formatter</a></code>s Trong một chuỗi định dạng đều phải có mặt hoặc tất cả được bỏ qua. Trộn thủ công và lập chỉ mục tự động là một lỗi.</td>
</tr>
</table> <ul>
<li>Định dạng-spec<a href="formatter#Standard_format_specification" title="cpp/utility/format/formatter">standard format specification</a>.</li>
<li>đặc tả định dạng được xác định bởi<a href="../../chrono/system_clock/formatter#Format_specification" title="cpp/chrono/system clock/formatter">chrono format specification</a>.</li>
</ul> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx23">
<td> <ul>
<li>chuyên môn hóa cho đối số tương ứng.<a href="range_formatter#Range_format_specification" title="cpp/utility/format/range formatter">range format specification</a>.</li>
<li>Bool Binary_Search (Forwardit First, Forwardit Last,<code><a href="../pair" title="cpp/utility/pair">std::pair</a></code>Và<code><a href="../tuple" title="cpp/utility/tuple">std::tuple</a></code>Đối với các loại cơ bản và các loại chuỗi tiêu chuẩn, đặc tả định dạng được hiểu là<a href="tuple_formatter#Format_specification" title="cpp/utility/format/tuple formatter">tuple format specification</a>.</li>
<li>Bool Binary_Search (Forwardit First, Forwardit Last,<code><a href="../../thread/thread/id" title="cpp/thread/thread/id">std::thread::id</a></code>Và<a href="../stacktrace_entry" title="cpp/utility/stacktrace entry"><code>std::stacktrace_entry</code></a>, nhìn thấy<a href="../../thread/thread/id/formatter#Format_specification" title="cpp/thread/thread/id/formatter">thread id format specification</a>Và<a href="../stacktrace_entry/formatter#Format_specification" title="cpp/utility/stacktrace entry/formatter">stacktrace entry format specification</a>.</li>
<li>Bool Binary_Search (Forwardit First, Forwardit Last,<a href="../basic_stacktrace" title="cpp/utility/basic stacktrace"><code>std::basic_stacktrace</code></a>Đối với các loại Chrono, đặc tả định dạng được hiểu là</li>
</ul> </td> <td><span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span></td>
</tr> </table> <ul><li>Đối với các loại phạm vi, đặc tả định dạng được hiểu là<code>formatter</code>, đặc tả định dạng được hiểu là</li></ul> </td>
</tr>
</table> </div> <div class="t-member"> <h2 id="std::basic_format_string::get">, Việc xây dựng là không hình thành.</h2> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">Đối tượng lưu trữ chế độ xem của chuỗi</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>như trở lại bởi</p>
</div> <h3 id="Notes">Ghi chú</h3> <p>. Nó không thực hiện kiểm tra chuỗi định dạng khi xây dựng.<code>format_string</code>Và<code>wformat_string</code>sử dụng<code>std::type_identity_t</code>std :: basic_format_string :: Nhận</p>
<div class="cpp source-cpp"><pre data-language="cpp">ConsExPR std :: basic_string_view &lt;Phange&gt; get () const noexcept;</pre></div> <h3 id="Example">Ví dụ</h3> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://wg21.link/P2508R1" rel="nofollow">P2508R1</a> </td> <td>C ++ 20</td> <td>    std :: chuỗi tin nhắn = std :: định dạng ("câu trả lời là {}.", 42);</td> <td>    khẳng định (message == "Câu trả lời là 42.");<code>basic_format_string</code>}</td>
</tr>
</table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/utility/format/basic_format_string">https://en.cppreference.com/w/cpp/utility/format/basic_format_string</a>
</p>
</div>
