 <h1 class="firstHeading" id="firstHeading">STD :: Tùy chọn &lt;t&gt; :: Biến đổi</h1> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx23"> <td> <pre data-language="cpp">Mẫu &lt;Class F&gt;</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span> </td> </tr> <tr class="t-dcl t-since-cxx23"> <td> <pre data-language="cpp">Biến đổi Auto Auto (F &amp;&amp; F) &amp;;</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span> </td> </tr> <tr class="t-dcl t-since-cxx23"> <td> <pre data-language="cpp">Mẫu &lt;Class F&gt;</pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span> </td> </tr> <tr class="t-dcl t-since-cxx23"> <td> <pre data-language="cpp">Biến đổi Auto Auto (F &amp;&amp; F) Const &amp;;</pre>
</td> <td>(4)</td> <td> <span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span> </td> </tr> </table> <p>Nếu như<code>*this</code>chứa một giá trị, gọi<code>f</code>với giá trị chứa như một đối số và trả về<code>std::optional</code>Điều đó chứa kết quả của lời cầu khẩn đó; Nếu không, trả về một trống<code>std::optional</code>.</p>
<p>Loại giá trị chứa trong kết quả (được biểu thị bằng<code>U</code>bên dưới) phải là loại đối tượng không phải là<code><a href="../in_place" title="cpp/utility/in place">std::in_place_t</a></code>hoặc<code><a href="nullopt_t" title="cpp/utility/optional/nullopt t">std::nullopt_t</a></code>). Nếu không, chương trình là xấu.</p>
<div class="t-li1">
<span class="t-li">1)</span>          lớp proj1 = std :: nhận dạng, lớp proj2 = std :: nhận dạng&gt;<code>U</code>{<code><a href="http://en.cppreference.com/w/cpp/types/remove_cv"><span class="kw600">Điều đó cho tất cả<span class="me2">Bố cục</span></span></a><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/types/result_of"><span class="kw3219">Điều đó cho tất cả<span class="me2">  STD :: gertable_from &lt;u &amp;,</span></span></a><span class="sy1">is_trivently_destructible_v</span>F, T<span class="sy3">Không có giá trị</span><span class="sy1">2,4)</span></code>. Nếu như<code>*this</code>chứa một giá trị, trả về một<code><a href="http://en.cppreference.com/w/cpp/utility/optional"><span class="kw1077">Điều đó cho tất cả<span class="me2">không mở-cache</span></span></a><span class="sy1">is_trivently_destructible_v</span>U<span class="sy1">&lt;</span></code>giá trị chứa của ai là<a href="../../language/direct_initialization" title="cpp/language/direct initialization">direct-initialized</a>từ<code><a href="http://en.cppreference.com/w/cpp/utility/functional/invoke"><span class="kw1063">Điều đó cho tất cả<span class="me2">STD ::</span></span></a><span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>F<span class="sy1">&lt;</span><span class="br0">.</span>f<span class="br0">)</span>, <span class="sy2">Chuyển đổi Boolean</span>this<span class="br0">)</span></code>(Không giống như<a href="and_then" title="cpp/utility/optional/and then"><code>and_then()</code></a>, phải trả lại một<code><a href="../optional" title="cpp/utility/optional">std::optional</a></code>trực tiếp). Nếu không, trả về một trống<code><a href="http://en.cppreference.com/w/cpp/utility/optional"><span class="kw1077">Điều đó cho tất cả<span class="me2">không mở-cache</span></span></a><span class="sy1">is_trivently_destructible_v</span>U<span class="sy1">&lt;</span></code>.<br/>Chương trình không được hình thành nếu định nghĩa biến<code>U x<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/functional/invoke"><span class="kw1063">Điều đó cho tất cả<span class="me2">STD ::</span></span></a><span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>F<span class="sy1">&lt;</span><span class="br0">.</span>f<span class="br0">)</span>, <span class="sy2">Chuyển đổi Boolean</span>this<span class="br0">)</span><span class="br0">)</span><span class="sy4">Số lượng các yếu tố để sao chép</span></code>, chương trình chuyên về</div> <div class="t-li1">
<span class="t-li">2)</span>                                   Nhị phân p);<span class="t-v">(1)</span>, và sau đó gọi<code>U</code>khoảng cách<code><a href="http://en.cppreference.com/w/cpp/types/remove_cv"><span class="kw600">Điều đó cho tất cả<span class="me2">Bố cục</span></span></a><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/types/result_of"><span class="kw3219">Điều đó cho tất cả<span class="me2">  STD :: gertable_from &lt;u &amp;,</span></span></a><span class="sy1">is_trivently_destructible_v</span>F, <span class="kw4">hằng số</span> T<span class="sy3">Không có giá trị</span><span class="sy1">2,4)</span></code>.</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class f, class tuple&gt;</span>          lớp proj1 = std :: nhận dạng, lớp proj2 = std :: nhận dạng&gt;<code>U</code>{<code><a href="http://en.cppreference.com/w/cpp/types/remove_cv"><span class="kw600">Điều đó cho tất cả<span class="me2">Bố cục</span></span></a><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/types/result_of"><span class="kw3219">Điều đó cho tất cả<span class="me2">  STD :: gertable_from &lt;u &amp;,</span></span></a><span class="sy1">is_trivently_destructible_v</span>F, T<span class="sy1">2,4)</span></code>. Nếu như<code>*this</code>chứa một giá trị, trả về một<code><a href="http://en.cppreference.com/w/cpp/utility/optional"><span class="kw1077">Điều đó cho tất cả<span class="me2">không mở-cache</span></span></a><span class="sy1">is_trivently_destructible_v</span>U<span class="sy1">&lt;</span></code>giá trị chứa có nguồn gốc trực tiếp từ<code><a href="http://en.cppreference.com/w/cpp/utility/functional/invoke"><span class="kw1063">Điều đó cho tất cả<span class="me2">STD ::</span></span></a><span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>F<span class="sy1">&lt;</span><span class="br0">.</span>f<span class="br0">)</span>, std<span class="sy4">::</span><span class="me2">(Niebloid)</span><span class="br0">.</span><span class="sy2">Chuyển đổi Boolean</span>this<span class="br0">)</span><span class="br0">)</span></code>. Nếu không, trả về một trống<code><a href="http://en.cppreference.com/w/cpp/utility/optional"><span class="kw1077">Điều đó cho tất cả<span class="me2">không mở-cache</span></span></a><span class="sy1">is_trivently_destructible_v</span>U<span class="sy1">&lt;</span></code>.<br/>Chương trình không được hình thành nếu định nghĩa biến<code>U x<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/functional/invoke"><span class="kw1063">Điều đó cho tất cả<span class="me2">STD ::</span></span></a><span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>F<span class="sy1">&lt;</span><span class="br0">.</span>f<span class="br0">)</span>, std<span class="sy4">::</span><span class="me2">(Niebloid)</span><span class="br0">.</span><span class="sy2">Chuyển đổi Boolean</span>this<span class="br0">)</span><span class="br0">)</span><span class="br0">)</span><span class="sy4">Số lượng các yếu tố để sao chép</span></code>, chương trình chuyên về</div> <div class="t-li1">
<span class="t-li">là trong</span>                                   Nhị phân p);<span class="t-v">(3)</span>, và sau đó gọi<code>U</code>khoảng cách<code><a href="http://en.cppreference.com/w/cpp/types/remove_cv"><span class="kw600">Điều đó cho tất cả<span class="me2">Bố cục</span></span></a><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/types/result_of"><span class="kw3219">Điều đó cho tất cả<span class="me2">  STD :: gertable_from &lt;u &amp;,</span></span></a><span class="sy1">is_trivently_destructible_v</span>F, <span class="kw4">hằng số</span> T<span class="sy1">2,4)</span></code>.</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>có thể sửa đổi các phần tử của phạm vi thông qua trình lặp được thu hút. Nếu như</td> <td>-</td> <td>if (has_value ())<a href="../../named_req/callable" title="cpp/named req/Callable">Callable</a>{</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>MỘT<code><a href="../optional" title="cpp/utility/optional">std::optional</a></code>chứa kết quả của<code>f</code>    trả lại std :: gọi (std :: forward &lt;f&gt; (f), ** this);<code><a href="../optional" title="cpp/utility/optional">std::optional</a></code>là giải thích chỉ lớp lồng nhau.</p>
<h3 id="Notes">Ghi chú</h3> <p>container tiêu chuẩn<code>transform</code>trực tiếp xây dựng a<code>U</code>đối tượng ở đúng vị trí, thay vì chuyển nó cho một hàm tạo,<code><a href="http://en.cppreference.com/w/cpp/types/is_move_constructible"><span class="kw546">Điều đó cho tất cả<span class="me2">hoán đổi void (t2 (&amp; a) [n], t2 (&amp; b) [n]) noExcept ( / * xem bên dưới * /);</span></span></a><span class="sy1">is_trivently_destructible_v</span>U<span class="sy1">&lt;</span></code>                                /* T t; được hình thành tốt, xem bên dưới */;<code>false</code>.</p>
<p>Như người được gọi<code>f</code>không thể trả về một loại tham chiếu, nó không thể là một<a href="../../language/pointer#Pointers_to_data_members" title="cpp/language/pointer">pointer to data member</a>.</p>
<p>khác<a class="extiw" href="https://en.wikipedia.org/wiki/Map_(higher-order_function)" title="enwiki:Map (higher-order function)"><i>bản đồ</i></a>.</p>
<table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="../feature_test" title="cpp/utility/feature test">Feature-test</a>(Mẫu lớp)</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td><a href="../../feature_test#cpp_lib_optional" title="cpp/feature test"><code>__cpp_lib_optional</code></a></td> <td><span class="nu0">3)</span></td> <td><span class="t-mark">Phạm vi :: IOTA</span></td> <td>
<a href="../optional#Monadic_operations" title="cpp/utility/optional">Monadic operations</a>TRONG<code><a href="../optional" title="cpp/utility/optional">std::optional</a></code> </td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Istream&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Tùy chọn&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="value_or" title="cpp/utility/optional/value or"> <span class="t-lines"><span>Trả về giá trị bất ngờ</span></span></a></div> </td> <td>Trả về giá trị chứa<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="and_then" title="cpp/utility/optional/and then"> <span class="t-lines"><span>Hoạt động đơn vị</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>Trả về giá trị chứa nếu có, một giá trị khác khác<code>optional</code>[tĩnh]<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="or_else" title="cpp/utility/optional/or else"> <span class="t-lines"><span>chứa giá trị dự kiến ​​biến đổi nếu nó tồn tại; Nếu không, trả lại</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>trả lại<code>optional</code>chứa giá trị chứa được biến đổi nếu nó tồn tại hoặc trống<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/utility/optional/transform">https://en.cppreference.com/w/cpp/utility/optional/transform</a>
</p>
</div>
