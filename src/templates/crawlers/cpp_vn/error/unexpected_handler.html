 <h1 class="firstHeading" id="firstHeading">std :: bất ngờ_handler</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/exception" title="cpp/header/exception">&lt;exception&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-until-cxx17"> <td> <pre data-language="cpp">typedef void (*bất ngờ_handler) ();</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark">(không dùng nữa trong C ++ 11)</span> <br/><span class="t-mark-rev t-until-cxx17">(Đã xóa trong C ++ 17)</span> </td> </tr> </table> <p><code>std::unexpected_handler</code>là loại con trỏ hàm (con trỏ đến hàm không có đối số và trả về khoảng trống), được cài đặt và truy vấn bởi các hàm<code><a href="set_unexpected" title="cpp/error/set unexpected">std::set_unexpected</a></code>Và<code><a href="get_unexpected" title="cpp/error/get unexpected">std::get_unexpected</a></code>và được gọi bởi<code><a href="unexpected" title="cpp/error/unexpected">std::unexpected</a></code>.</p>
<p>Việc triển khai C ++ cung cấp mặc định<code>std::unexpected_handler</code>chức năng, gọi<code><a href="http://en.cppreference.com/w/cpp/error/terminate"><span class="kw785">Điều đó cho tất cả<span class="me2">chấm dứt</span></span></a><span class="br0">.</span><span class="br0">)</span></code>. Nếu giá trị con trỏ null được cài đặt (bằng phương tiện<code><a href="set_unexpected" title="cpp/error/set unexpected">std::set_unexpected</a></code>thay vào đó, việc triển khai có thể khôi phục trình xử lý mặc định.</p>
<p>Một người dùng định nghĩa<code>std::unexpected_handler</code>dự kiến ​​sẽ chấm dứt chương trình hoặc ném một ngoại lệ. Nếu nó ném một ngoại lệ, một trong ba tình huống sau đây có thể gặp phải:</p>
<p>1) ngoại lệ được ném bởi<code>std::unexpected_handler</code>thỏa mãn đặc điểm kỹ thuật ngoại lệ động đã bị vi phạm trước đó. Ngoại lệ mới được phép thoát khỏi chức năng và ngăn xếp việc tháo gỡ tiếp tục.</p>
<p>2) ngoại lệ được ném bởi<code>std::unexpected_handler</code>Vẫn vi phạm đặc tả ngoại lệ:</p>
<p>2A) Tuy nhiên, đặc điểm kỹ thuật ngoại lệ cho phép<code><a href="bad_exception" title="cpp/error/bad exception">std::bad_exception</a></code>: đối tượng ngoại lệ ném bị phá hủy và<code><a href="bad_exception" title="cpp/error/bad exception">std::bad_exception</a></code>được xây dựng bởi thời gian chạy C ++ và ném thay thế.</p>
<p>2b) Thông số kỹ thuật ngoại lệ không cho phép<code><a href="bad_exception" title="cpp/error/bad exception">std::bad_exception</a></code>:<code><a href="http://en.cppreference.com/w/cpp/error/terminate"><span class="kw785">Điều đó cho tất cả<span class="me2">chấm dứt</span></span></a><span class="br0">.</span><span class="br0">)</span></code>Chuỗi để giữ tên viết tắt múi giờ hoặc tên tương ứng với</p>
<h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="unexpected" title="cpp/error/unexpected"> <span class="t-lines"><span>không ngờ tới</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-until-cxx17">(Đã xóa trong C ++ 17)</span></span></span></div> </td> <td>chức năng được gọi khi đặc điểm kỹ thuật ngoại lệ động bị vi phạm<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="set_unexpected" title="cpp/error/set unexpected"> <span class="t-lines"><span>set_unexpected</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-until-cxx17">(Đã xóa trong C ++ 17)</span></span></span></div> </td> <td>thay đổi chức năng được gọi bởi<code><a href="unexpected" title="cpp/error/unexpected">std::unexpected</a></code> <br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="get_unexpected" title="cpp/error/get unexpected"> <span class="t-lines"><span>get_unexped</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span><span class="t-mark-rev t-until-cxx17">(Đã xóa trong C ++ 17)</span></span></span></div> </td> <td>có được bất ngờ hiện tại_handler<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/error/unexpected_handler">https://en.cppreference.com/w/cpp/error/unexpected_handler</a>
</p>
</div>
