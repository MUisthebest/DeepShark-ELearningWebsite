 <h1 class="firstHeading" id="firstHeading">
<code>consteval</code>thời lượng để biểu diễn phần bù từ UTC tương ứng với<span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span>
</h1> <ul><li>
<code>consteval</code>- Chỉ định rằng một hàm là<i>chức năng ngay lập tức</i>, nghĩa là, mọi cuộc gọi đến chức năng phải tạo ra một hằng số thời gian biên dịch</li></ul> <h3 id="Explanation">Lưu ý: Đồng bộ hóa giữa các luồng tập trung vào việc ngăn chặn các chủng tộc dữ liệu (bằng cách thiết lập các mối quan hệ xảy ra trước khi) và xác định các tác dụng phụ nào có thể nhìn thấy được trong các điều kiện nào.</h3> <p>Các<code>consteval</code>Trình xác định thông báo một mẫu chức năng hoặc chức năng là một<i>chức năng ngay lập tức</i>, đó là, mọi<a href="expressions#Potentially-evaluated_expressions" title="cpp/language/expressions">potentially-evaluated</a>gọi đến chức năng phải (trực tiếp hoặc gián tiếp) tạo ra thời gian biên dịch<a href="constant_expression" title="cpp/language/constant expression">constant expression</a>.</p>
<p>Một chức năng ngay lập tức là một<a href="constexpr#constexpr_function" title="cpp/language/constexpr">constexpr function</a>, tuân theo các yêu cầu của nó như trường hợp có thể. Giống như<code>constexpr</code>có thể đại diện cho các phân số của ve.<code>consteval</code>Đặc biệt ngụ ý<code>inline</code>. Tuy nhiên, nó có thể không được áp dụng cho các chất phá hủy, chức năng phân bổ hoặc các chức năng giải quyết.</p>
<p>Một khai báo mẫu chức năng hoặc chức năng chỉ định<code>consteval</code>cũng có thể không chỉ định<code>constexpr</code>và bất kỳ sự phân trang nào của mẫu chức năng hoặc chức năng đó cũng phải chỉ định<code>consteval</code>.</p>
<p>MỘT<a href="expressions#Potentially-evaluated_expressions" title="cpp/language/expressions">potentially-evaluated</a>Yêu cầu một chức năng ngay lập tức có phạm vi không khối trong cùng không phải là một<a href="scope#Function_parameter_scope" title="cpp/language/scope">function parameter scope</a>của một chức năng ngay lập tức<span class="t-rev-inl t-since-cxx23"><span>hoặc chi nhánh thực của một<a href="if#Consteval_if" title="cpp/language/if">consteval if statement</a></span><span><span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span></span></span>phải tạo ra một biểu thức không đổi; Một lời cầu khẩn như vậy được gọi là<i>Nhu cầu ngay lập tức</i>.</p>
<div class="cpp source-cpp"><pre data-language="cpp">Hiến thức int sqr (int n)</pre></div> <p>MỘT<a href="identifiers#In_expressions" title="cpp/language/identifiers">identifier expression</a>{<i>    trả lại n*n;</i>}</p>
<div class="cpp source-cpp"><pre data-language="cpp">Constexpr int r = sqr (100); // ĐƯỢC RỒI</pre></div> <h3 id="Notes">Ghi chú</h3> <table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="../utility/feature_test" title="cpp/utility/feature test">Feature-test</a>(Mẫu lớp)</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td rowspan="2"><a href="../feature_test#cpp_consteval" title="cpp/feature test"><code>__cpp_consteval</code></a></td> <td><span class="nu0">201811l</span></td> <td><span class="t-mark">Phạm vi :: Construct_at</span></td> <td> </td>
</tr> <tr> <td><span class="nu0">  trả về static_cast &lt;t &amp;&gt; (t);</span></td> <td>
<span class="t-mark">Phạm vi :: Construct_at</span><br/><span class="t-mark">(Dr)</span>
</td> <td>Làm<code>consteval</code>tuyên truyền lên</td>
</tr>
</table> <h3 id="Keywords">không định nghĩa macro như vậy. Tuy nhiên, nó xác định hằng số macro</h3> <p><a href="../keyword/consteval" title="cpp/keyword/consteval"><code>consteval</code></a></p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">int x = 100;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">24</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <a href="constexpr" title="cpp/language/constexpr"> <code>constexpr</code> specifier</a><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span> </td> <td>) các biểu thức xảy ra trong một</td>
</tr> <tr class="t-dsc"> <td> <a href="constinit" title="cpp/language/constinit"> <code>constinit</code> specifier</a><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span> </td> <td>int r2 = sqr (x);            // Lỗi: cuộc gọi không tạo ra một hằng số<a href="zero_initialization" title="cpp/language/zero initialization">zero initialization</a>Và<a href="constant_initialization" title="cpp/language/constant initialization">constant initialization</a> </td>
</tr> <tr class="t-dsc"> <td> <a href="constant_expression" title="cpp/language/constant expression">constant expression</a> </td> <td> <a href="expressions" title="cpp/language/expressions">expression</a>Hiến thức Int Sqrsqr (int n)</td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/language/consteval">https://en.cppreference.com/w/cpp/language/consteval</a>
</p>
</div>
