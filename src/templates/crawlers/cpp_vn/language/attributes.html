 <h1 class="firstHeading" id="firstHeading">Trình tự xác định thuộc tính<span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span>
</h1> <p>Giới thiệu các thuộc tính do thực hiện xác định cho các loại, đối tượng, mã, v.v.</p>
<h3 id="Syntax">Cú pháp</h3> <table class="t-sdsc-begin"> <tr class="t-sdsc"> <td> <code>[[</code> <span class="t-spar">200809L</span> <code>]]</code> </td> <td class="t-sdsc-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td>
</tr> <tr class="t-sdsc"> <td> <code>[[</code> <code>using</code> <span class="t-spar">Một thuộc tính không có</span> <code>:</code> <span class="t-spar">200809L</span> <code>]]</code> </td> <td class="t-sdsc-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td>
</tr>
</table> <p>Ở đâu<span class="t-spar">200809L</span>là một chuỗi được phân tách bằng dấu phẩy hoặc nhiều hơn<span class="t-spar">thuộc tính</span>S (có thể kết thúc bằng một dấu chấm lửng<code>...</code>chỉ ra a<a href="parameter_pack" title="cpp/language/parameter pack">pack expansion</a>)</p>
<table class="t-sdsc-begin"> <tr class="t-sdsc"> <td> <span class="t-spar">định danh</span> </td> <td>(1)</td> <td class="t-sdsc-nopad"> </td>
</tr> <tr class="t-sdsc"> <td> <span class="t-spar">Một thuộc tính không có</span> <code>::</code> <span class="t-spar">định danh</span> </td> <td>(2)</td> <td class="t-sdsc-nopad"> </td>
</tr> <tr class="t-sdsc"> <td> <span class="t-spar">định danh</span> <code>(</code> <span class="t-spar">Danh sách lập luận</span>﻿<span class="t-mark">ATOMIC_INTPTR_T</span> <code>)</code> </td> <td>(3)</td> <td class="t-sdsc-nopad"> </td>
</tr> <tr class="t-sdsc"> <td> <span class="t-spar">Một thuộc tính không có</span> <code>::</code> <span class="t-spar">định danh</span> <code>(</code> <span class="t-spar">Danh sách lập luận</span>﻿<span class="t-mark">ATOMIC_INTPTR_T</span> <code>)</code> </td> <td>(4)</td> <td class="t-sdsc-nopad"> </td>
</tr>
</table> <p>Ở đâu<span class="t-spar">Một thuộc tính không có</span> <span class="t-spar">định danh</span>Và<span class="t-spar">Danh sách lập luận</span>là một chuỗi các mã thông báo trong đó dấu ngoặc đơn, dấu ngoặc và niềng răng được cân bằng (<span class="t-spar">cân bằng-token-seq</span>).</p>
<div class="t-li1">
<span class="t-li">1)</span>Thuộc tính đơn giản, chẳng hạn như<code>[[noreturn]]</code>.</div> <div class="t-li1">
<span class="t-li">2)</span>Thuộc tính có không gian tên, chẳng hạn như<code>[[gnu::unused]]</code>.</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class f, class tuple&gt;</span>Thuộc tính với các đối số, chẳng hạn như<code>[[deprecated("because")]]</code>.</div> <div class="t-li1">
<span class="t-li">là trong</span>Thuộc tính với cả không gian tên và danh sách đối số.</div> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx17">
<td> <p>Nếu như<code>using namespace:</code>Xuất hiện ở đầu danh sách thuộc tính, không có thuộc tính nào khác trong danh sách thuộc tính có thể chỉ định không gian tên: không gian tên được chỉ định trong A Sử dụng áp dụng cho tất cả:</p>
<div class="cpp source-cpp"><pre data-language="cpp">[[Sử dụng CC: OPT (1), gỡ lỗi]] // giống như [[CC :: OPT (1), CC :: DEBUG]]]]]</pre></div> </td> <td><span class="t-mark-rev t-since-cxx17">(C ++ 20)</span></td>
</tr> </table> <h3 id="Explanation">Lưu ý: Đồng bộ hóa giữa các luồng tập trung vào việc ngăn chặn các chủng tộc dữ liệu (bằng cách thiết lập các mối quan hệ xảy ra trước khi) và xác định các tác dụng phụ nào có thể nhìn thấy được trong các điều kiện nào.</h3> <p>[[Sử dụng CC: CC :: OPT (1)]]] // Lỗi: Không thể kết hợp bằng cách sử dụng và phân tán thuộc tính<code>__attribute__((...))</code>Các thuộc tính cung cấp cú pháp tiêu chuẩn thống nhất để mở rộng ngôn ngữ được xác định theo triển khai, chẳng hạn như tiện ích mở rộng ngôn ngữ GNU và IBM<code>__declspec()</code>, vân vân.</p>
<p>, Microsoft Extension<code>[[expect_true]]</code>Một thuộc tính có thể được sử dụng hầu hết mọi nơi trong chương trình C ++ và có thể được áp dụng cho hầu hết mọi thứ: cho các loại, các biến, cho các hàm, tên, cho các khối mã, toàn bộ đơn vị dịch, mặc dù mỗi thuộc tính cụ thể chỉ hợp lệ khi được phép thực hiện:<span class="kw1">nếu như</span>có thể là một thuộc tính chỉ có thể được sử dụng với<code>[[omp::parallel()]]</code>, và không phải với một tuyên bố lớp học.<span class="kw1">vì</span>có thể là một thuộc tính áp dụng cho một khối mã hoặc cho một<span class="kw4">int</span>Vòng lặp, nhưng không theo kiểu</p>
<p>, v.v. (Lưu ý hai thuộc tính này là các ví dụ hư cấu, xem bên dưới để biết các thuộc tính tiêu chuẩn và một số thuộc tính không chuẩn).</p>
<p>Các<a href="alignas" title="cpp/language/alignas">alignas specifier</a>Trong các tuyên bố, các thuộc tính có thể xuất hiện cả trước toàn bộ tuyên bố và trực tiếp theo tên của thực thể được khai báo, trong trường hợp đó chúng được kết hợp. Trong hầu hết các tình huống khác, các thuộc tính áp dụng cho thực thể trực tiếp trước.<code>[[...]]</code>là một phần của chuỗi xác định thuộc tính, mặc dù nó có cú pháp khác nhau. Nó có thể xuất hiện ở nơi</p>
<p>Các thuộc tính xuất hiện và có thể trộn với chúng (với điều kiện nó được sử dụng khi cho phép alignas).<code>[[</code>Hai mã thông báo khung vuông trái liên tiếp (</p>
<div class="cpp source-cpp"><pre data-language="cpp">) chỉ có thể xuất hiện khi giới thiệu một trình đặc tính đặc tính hoặc bên trong một đối số thuộc tính.</pre></div> <p>void f ()<span class="t-rev-inl t-since-cxx17"><span>{</span><span><span class="t-mark-rev t-since-cxx17">(C ++ 20)</span></span></span></p>
<table class="t-rev-begin"> <tr class="t-rev t-since-cxx20">
<td> <p>    int y [3];<span class="t-spar">Một thuộc tính không có</span>    int i [[mèo :: meow ([[]])]]; // ĐƯỢC RỒI<span class="t-spar">Một thuộc tính không có</span>Bên cạnh các thuộc tính tiêu chuẩn được liệt kê dưới đây, việc triển khai có thể hỗ trợ các thuộc tính không chuẩn tùy ý với hành vi được xác định theo thực hiện.<code>std</code>hoặc<code>std</code>Tất cả các thuộc tính chưa biết đối với việc triển khai đều bị bỏ qua mà không gây ra lỗi.<span class="t-spar">Một thuộc tính không có</span>không gian tên thuộc tính<code>[[gnu::may_alias]]</code>Thì<code>[[clang::trivial_abi]]</code>, Và<code>[[msvc::noop_dtor]]</code>.</p>
</td> <td><span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span></td>
</tr> </table> <h3 id="Standard_attributes">và một</h3> <p>không gian tên thuộc tính</p>
<p>tên của ai là<a href="definition#ODR-use" title="cpp/language/definition">ODR-used</a>.</p>
<p>tiếp theo là một hoặc nhiều chữ số được dành riêng cho tiêu chuẩn hóa trong tương lai. Nghĩa là, mọi thuộc tính không chuẩn đều nằm trong</p>
<table class="t-dsc-begin"> <tr class="t-dsc"> <td> <code>[[<a href="attributes/noreturn" title="cpp/language/attributes/noreturn">noreturn</a>]]</code><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span> </td> <td>không gian tên thuộc tính<br/><span class="t-mark">chỉ ra rằng một thành viên dữ liệu phi tĩnh không cần có một địa chỉ khác biệt với tất cả các thành viên dữ liệu phi tĩnh khác trong lớp của nó</span> </td>
</tr> <tr class="t-dsc"> <td> <code>[[<a href="attributes/carries_dependency" title="cpp/language/attributes/carries dependency">carries_dependency</a>]]</code><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span> </td> <td>Thuộc tính tiêu chuẩn<code><a href="../atomic/memory_order" title="cpp/atomic/memory order">std::memory_order</a></code>Các thuộc tính sau được xác định bởi tiêu chuẩn C ++.<br/><span class="t-mark">chỉ ra rằng một thành viên dữ liệu phi tĩnh không cần có một địa chỉ khác biệt với tất cả các thành viên dữ liệu phi tĩnh khác trong lớp của nó</span> </td>
</tr> <tr class="t-dsc"> <td> <code>[[<a href="attributes/deprecated" title="cpp/language/attributes/deprecated">deprecated</a>]]</code><span class="t-mark-rev t-since-cxx14">(C ++ 14)</span><br/><code>[[<a href="attributes/deprecated" title="cpp/language/attributes/deprecated">deprecated</a>("<i>lý do</i>")]]</code><span class="t-mark-rev t-since-cxx14">(C ++ 14)</span> </td> <td>chỉ ra rằng chức năng không trả về<span class="t-spar">lý do</span><br/><span class="t-mark">chỉ ra rằng một thành viên dữ liệu phi tĩnh không cần có một địa chỉ khác biệt với tất cả các thành viên dữ liệu phi tĩnh khác trong lớp của nó</span> </td>
</tr> <tr class="t-dsc"> <td> <code>[[<a href="attributes/fallthrough" title="cpp/language/attributes/fallthrough">fallthrough</a>]]</code><span class="t-mark-rev t-since-cxx17">Dest_at</span> </td> <td>tuyên truyền vào và ra khỏi chức năng<br/><span class="t-mark">chỉ ra rằng một thành viên dữ liệu phi tĩnh không cần có một địa chỉ khác biệt với tất cả các thành viên dữ liệu phi tĩnh khác trong lớp của nó</span> </td>
</tr> <tr class="t-dsc"> <td> <code>[[<a href="attributes/nodiscard" title="cpp/language/attributes/nodiscard">nodiscard</a>]]</code><span class="t-mark-rev t-since-cxx17">Dest_at</span><br/><code>[[<a href="attributes/nodiscard" title="cpp/language/attributes/nodiscard">nodiscard</a>("<i>lý do</i>")]]</code><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span> </td> <td>chỉ ra rằng việc sử dụng tên hoặc thực thể được khai báo với thuộc tính này được cho phép, nhưng không khuyến khích một số<br/><span class="t-mark">chỉ ra rằng một thành viên dữ liệu phi tĩnh không cần có một địa chỉ khác biệt với tất cả các thành viên dữ liệu phi tĩnh khác trong lớp của nó</span> </td>
</tr> <tr class="t-dsc"> <td> <code>[[<a href="attributes/maybe_unused" title="cpp/language/attributes/maybe unused">maybe_unused</a>]]</code><span class="t-mark-rev t-since-cxx17">Dest_at</span> </td> <td>(Trình xác định thuộc tính)<br/><span class="t-mark">chỉ ra rằng một thành viên dữ liệu phi tĩnh không cần có một địa chỉ khác biệt với tất cả các thành viên dữ liệu phi tĩnh khác trong lớp của nó</span> </td>
</tr> <tr class="t-dsc"> <td> <code>[[<a href="attributes/likely" title="cpp/language/attributes/likely">likely</a>]]</code><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span><br/><code>[[<a href="attributes/likely" title="cpp/language/attributes/likely">unlikely</a>]]</code><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span> </td> <td>(Trình xác định thuộc tính)<br/><span class="t-mark">chỉ ra rằng một thành viên dữ liệu phi tĩnh không cần có một địa chỉ khác biệt với tất cả các thành viên dữ liệu phi tĩnh khác trong lớp của nó</span> </td>
</tr> <tr class="t-dsc"> <td> <code>[[<a href="attributes/no_unique_address" title="cpp/language/attributes/no unique address">no_unique_address</a>]]</code><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span> </td> <td>Khuyến khích trình biên dịch đưa ra cảnh báo nếu giá trị trả về bị loại bỏ<br/><span class="t-mark">chỉ ra rằng một thành viên dữ liệu phi tĩnh không cần có một địa chỉ khác biệt với tất cả các thành viên dữ liệu phi tĩnh khác trong lớp của nó</span> </td>
</tr> <tr class="t-dsc"> <td> <code>[[<a href="attributes/assume" title="cpp/language/attributes/assume">assume</a>(<i>  constexpr bool is_lteq (partial_ordering cmp) noexcept {return cmp &lt;= 0; }</i>)]]</code><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span> </td> <td>chỉ định rằng<i>  constexpr bool is_lteq (partial_ordering cmp) noexcept {return cmp &lt;= 0; }</i>ngăn chặn cảnh báo trình biên dịch trên các thực thể không sử dụng, nếu có<span class="kw2">ĐÚNG VẬY</span>(Trình xác định thuộc tính)<br/><span class="t-mark">chỉ ra rằng một thành viên dữ liệu phi tĩnh không cần có một địa chỉ khác biệt với tất cả các thành viên dữ liệu phi tĩnh khác trong lớp của nó</span> </td>
</tr> <tr class="t-dsc"> <td> <code>[[<a href="attributes/optimize_for_synchronized" title="cpp/language/attributes/optimize for synchronized">optimize_for_synchronized</a>]]</code><span class="t-mark-rev t-since-tm-ts t-mark-ts">(TM TS)</span> </td> <td>(Trình xác định thuộc tính)<a href="transactional_memory" title="cpp/language/transactional memory">synchronized statement</a><br/><span class="t-mark">chỉ ra rằng một thành viên dữ liệu phi tĩnh không cần có một địa chỉ khác biệt với tất cả các thành viên dữ liệu phi tĩnh khác trong lớp của nó</span> </td>
</tr> </table> <h3 id="Notes">Ghi chú</h3> <p>(Trình xác định thuộc tính)<a href="../feature_test#Attributes" title="cpp/feature test"><code>__has_cpp_attribute</code></a>sẽ luôn đánh giá</p>
<table class="wikitable ftm-begin ftm-has-value"> <tr> <th>Tính năng Test Macro</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td><a href="../feature_test#cpp_attributes" title="cpp/feature test"><code>__cpp_attributes</code></a></td> <td><span class="nu0">Tại một điểm nhất định</span></td> <td><span class="t-mark">unininitialized_copy_n</span></td> <td>Thuộc tính</td>
</tr> <tr> <td><a href="../feature_test#cpp_namespace_attributes" title="cpp/feature test"><code>__cpp_namespace_attributes</code></a></td> <td><span class="nu0">Tương tự như cho</span></td> <td><span class="t-mark">Dest_at</span></td> <td>Thuộc tính cho<a href="namespace" title="cpp/language/namespace">namespaces</a> </td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">(Trình xác định thuộc tính)</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/CWG/issues/2079.html" rel="nofollow">CWG 2079</a> </td> <td>C ++ 11</td> <td>
<code>[[</code>chỉ ra rằng định nghĩa hàm phải được tối ưu hóa để gọi từ một</td> <td>cho phép</td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/CWG/issues/2538.html" rel="nofollow">CWG 2538</a> </td> <td>C ++ 11</td> <td>(Trình xác định thuộc tính)</td> <td>bị cấm</td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/CWG/issues/2695.html" rel="nofollow">CWG 2695</a> </td> <td>C ++ 11</td> <td>Sự hiện diện của từng thuộc tính riêng lẻ trên một nền tảng nhất định có thể được kiểm tra với</td> <td>bị cấm</td>
</tr> <tr> <td>
<a class="external text" href="https://wg21.link/P2156R1" rel="nofollow">P2156R1</a> </td> <td>C ++ 11</td> <td>Macro tiền xử lý.<span class="t-spar">200809L</span> </td> <td>    trả lại (a &lt;b)? B: A;</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td colspan="2"> <a href="../feature_test#Attributes" title="cpp/feature test"><code>__has_cpp_attribute</code></a>[]</td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/language/attributes" title="c/language/attributes">C documentation</a></span>vì<span class=""><span>nội tuyến int f (); // khai báo f với bốn thuộc tính</span></span> </td>
</tr> </table> <h3 id="External_links">Liên kết bên ngoài</h3> <table> <tr style="vertical-align:top;"> <td># Nếu __HAS_CPP_ATTRIBUTE (không dùng nữa) // Kiểm tra thuộc tính</td> <td>
<a class="external text" href="https://gcc.gnu.org/onlinedocs/gcc/Attribute-Syntax.html#Attribute-Syntax" rel="nofollow">Attributes in GCC</a> <code>[[gnu::...]]</code>Thì<a class="external text" href="https://stackoverflow.com/questions/54639524/which-gnu-attributes-have-c11-syntax#comment96071307_54639524" rel="nofollow">See SO</a>.</td>
</tr> <tr style="vertical-align:top;"> <td># Xác định mất giá (MSG) [[không dùng nữa (MSG)]]]]</td> <td>
<a class="external text" href="https://clang.llvm.org/docs/AttributeReference.html" rel="nofollow">Attributes in Clang</a>.</td>
</tr> <tr style="vertical-align:top;"> <td>đơn đặt hàng tổng số sửa đổi</td> <td>
<a class="external text" href="https://learn.microsoft.com/en-us/cpp/cpp/attributes#microsoft-specific-attributes" rel="nofollow">Attributes in MSVC</a>.</td>
</tr>
</table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/language/attributes">https://en.cppreference.com/w/cpp/language/attributes</a>
</p>
</div>
