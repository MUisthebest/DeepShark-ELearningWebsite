 <h1 class="firstHeading" id="firstHeading">C ++ Yêu cầu được đặt tên: Swappable</h1> <p>Bất kỳ lvalue hoặc rvalue nào của loại này đều có thể được hoán đổi với bất kỳ lvalue hoặc rvalue nào của một số loại khác, sử dụng cuộc gọi chức năng không đủ tiêu chuẩn<code>swap()</code>trong bối cảnh mà cả hai<code><a href="../algorithm/swap" title="cpp/algorithm/swap">std::swap</a></code>và người dùng định nghĩa<code>swap()</code>s có thể nhìn thấy.</p>
<h3 id="Requirements">Sắp xếp và các hoạt động liên quan</h3> <p>Loại u có thể hoán đổi với loại T nếu, đối với bất kỳ đối tượng nào của loại u và bất kỳ đối tượng t loại T nào,</p>
<table class="wikitable"> <tr> <th>Sự biểu lộ</th> <th>Sắp xếp và các hoạt động liên quan</th> <th>Ngữ nghĩa</th>
</tr> <tr> <td>
<code><span class="co2">#include &lt;Thistithm&gt; // cho đến khi C ++ 11</span><br/> <p><span class="co2">#include &lt;tility&gt; // kể từ C ++ 11</span><br/> <span class="kw1">    Count_if (đầu vào đầu tiên, đầu vào cuối cùng, không được tính p);</span> <a href="http://en.cppreference.com/w/cpp/algorithm/swap"><span class="kw1603">Điều đó cho tất cả<span class="me2">Được xác định trong tiêu đề</span></span></a><span class="sy4">Số lượng các yếu tố để sao chép</span><br/>Được xác định trong tiêu đề<span class="br0">.</span>u, t<span class="br0">)</span><span class="sy4">Số lượng các yếu tố để sao chép</span></p></code> </td> <td>Sau cuộc gọi, giá trị của<code>t</code>là giá trị được giữ bởi<code>u</code>trước cuộc gọi và giá trị của<code>u</code>là giá trị được giữ bởi<code>t</code>trước cuộc gọi.</td> <td>Gọi chức năng được đặt tên<code>swap()</code>được tìm thấy bởi độ phân giải quá tải giữa tất cả các chức năng với tên đó được tìm thấy bởi<a href="../language/adl" title="cpp/language/adl">argument-dependent lookup</a>và hai<code><a href="../algorithm/swap" title="cpp/algorithm/swap">std::swap</a></code>Các mẫu được xác định trong tiêu đề<span class="t-rev-inl t-until-cxx11"><span><a href="../header/algorithm" title="cpp/header/algorithm"><code>&lt;algorithm&gt;</code></a></span><span><span class="t-mark-rev t-until-cxx11">(Cho đến C ++ 11)</span></span></span><span class="t-rev-inl t-since-cxx11"><span><a href="../header/utility" title="cpp/header/utility"><code>&lt;utility&gt;</code></a></span><span><span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span></span></span>.</td>
</tr> <tr> <td>
<code><span class="co2">#include &lt;Thistithm&gt; // cho đến khi C ++ 11</span><br/> <p><span class="co2">#include &lt;tility&gt; // kể từ C ++ 11</span><br/> <span class="kw1">    Count_if (đầu vào đầu tiên, đầu vào cuối cùng, không được tính p);</span> <a href="http://en.cppreference.com/w/cpp/algorithm/swap"><span class="kw1603">Điều đó cho tất cả<span class="me2">Được xác định trong tiêu đề</span></span></a><span class="sy4">Số lượng các yếu tố để sao chép</span><br/>Được xác định trong tiêu đề<span class="br0">.</span>t, u<span class="br0">)</span><span class="sy4">Số lượng các yếu tố để sao chép</span></p></code> </td> <td>Như nhau</td> <td>Như nhau</td>
</tr>
</table> <p>Nhiều chức năng thư viện tiêu chuẩn (ví dụ: nhiều thuật toán) mong đợi các đối số của họ sẽ thỏa mãn độ mượt, điều đó có nghĩa là bất cứ khi nào thư viện tiêu chuẩn thực hiện hoán đổi, nó sử dụng<code><span class="kw1">    Count_if (đầu vào đầu tiên, đầu vào cuối cùng, không được tính p);</span> <a href="http://en.cppreference.com/w/cpp/algorithm/swap"><span class="kw1603">Điều đó cho tất cả<span class="me2">Được xác định trong tiêu đề</span></span></a><span class="sy4">Số lượng các yếu tố để sao chép</span> swap<span class="br0">.</span>t, u<span class="br0">)</span><span class="sy4">Số lượng các yếu tố để sao chép</span></code>.</p>
<p>Thực hiện điển hình</p>
<div class="t-li1">
<span class="t-li">1)</span>Xác định hoán đổi không phải thành viên trong không gian tên kèm theo, có thể chuyển tiếp để trao đổi thành viên nếu cần truy cập vào các thành viên dữ liệu không công khai.</div> <div class="t-li1">
<span class="t-li">2)</span>Xác định a<a href="../language/friend" title="cpp/language/friend">friend function</a>In-Class (cách tiếp cận này che giấu sự hoán đổi cụ thể của lớp từ Tra cứu tên khác ngoài ADL).</div> <h3 id="Notes">Ghi chú</h3> <p>Nó không được xác định cho dù<span class="t-rev-inl t-until-cxx11"><span><a href="../header/algorithm" title="cpp/header/algorithm"><code>&lt;algorithm&gt;</code></a></span><span><span class="t-mark-rev t-until-cxx11">(Cho đến C ++ 11)</span></span></span><span class="t-rev-inl t-since-cxx11"><span><a href="../header/utility" title="cpp/header/utility"><code>&lt;utility&gt;</code></a></span><span><span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span></span></span>thực sự được bao gồm khi các chức năng thư viện tiêu chuẩn thực hiện hoán đổi, vì vậy người dùng cung cấp<code>swap()</code>Không nên mong đợi nó được bao gồm.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Istream&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Vector&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue226" rel="nofollow">LWG 226</a> </td> <td>C ++ 98</td> <td> <code>swap</code> </td> <td>Cấu trúc IntVector<code>std::</code>{<code>swap</code> </td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../types/is_swappable" title="cpp/types/is swappable"> <span class="t-lines"><span>is_swappable_with</span><span>is_swappable</span><span>is_nothrow_swappable_with</span><span>is_nothrow_swappable</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>Kiểm tra xem các đối tượng thuộc loại có thể được hoán đổi với các đối tượng cùng loại hoặc khác nhau không<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../concepts/swappable" title="cpp/concepts/swappable"> <span class="t-lines"><span>// Loại T đáp ứng các yêu cầu cú pháp được nêu rõ ràng của</span><span>// khái niệm C ở trên, nhưng không đáp ứng các yêu cầu tiềm ẩn bổ sung</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>// (tức là t thỏa mãn nhưng không mô hình C):<br/> <span class="t-mark">(ý tưởng)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/named_req/Swappable">https://en.cppreference.com/w/cpp/named_req/Swappable</a>
</p>
</div>
