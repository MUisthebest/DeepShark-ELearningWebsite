 <h1 class="firstHeading" id="firstHeading">std :: unetered_map &lt;key, t, băm, keyequal, phân bổ&gt; :: try_emplace</h1> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">Mẫu &lt;class ... args&gt;</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">std :: cặp &lt;iterator, bool&gt; try_emplace (const key &amp; k, args &amp;&amp; ... args);</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">Mẫu &lt;class ... args&gt;</pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">std :: cặp &lt;iterator, bool&gt; try_emplace (key &amp;&amp; k, args &amp;&amp; ... args);</pre>
</td> <td>(4)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> </table> <p>Mẫu &lt;class ... args&gt;<code>k</code>iterator try_emplace (hả const_iterator, const key &amp; k, args &amp;&amp; ... args);<code>args</code>Mẫu &lt;class ... args&gt;</p>
<div class="t-li1">
<span class="t-li">1)</span>Mẫu &lt;Class M&gt;<code>k</code>đã tồn tại trong container, không làm gì cả. Nếu không, hành xử như<a href="emplace" title="cpp/container/unordered map/emplace"><code>emplace</code></a>ngoại trừ việc phần tử được xây dựng là<br/><code>value_type<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/piecewise_construct"><span class="kw1109">Điều đó cho tất cả<span class="me2">Piecewise_construct</span></span></a>,<br/> <p><a href="http://en.cppreference.com/w/cpp/utility/tuple/forward_as_tuple"><span class="kw1117">Điều đó cho tất cả<span class="me2">forward_as_tuple</span></span></a><span class="br0">.</span>một trình lặp hợp lệ vào thùng chứa này<span class="br0">)</span>Thì<br/> <a href="http://en.cppreference.com/w/cpp/utility/tuple/forward_as_tuple"><span class="kw1117">Điều đó cho tất cả<span class="me2">forward_as_tuple</span></span></a></p>
<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>Args<span class="sy1">&lt;</span><span class="br0">.</span>args<span class="br0">)</span>...<span class="br0">)</span><span class="br0">)</span></code>
</div> <div class="t-li1">
<span class="t-li">2)</span>Mẫu &lt;Class M&gt;<code>k</code>đã tồn tại trong container, không làm gì cả. Nếu không, hành xử như<a href="emplace" title="cpp/container/unordered map/emplace"><code>emplace</code></a>ngoại trừ việc phần tử được xây dựng là<br/><code>value_type<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/piecewise_construct"><span class="kw1109">Điều đó cho tất cả<span class="me2">Piecewise_construct</span></span></a>,<br/> <p><a href="http://en.cppreference.com/w/cpp/utility/tuple/forward_as_tuple"><span class="kw1117">Điều đó cho tất cả<span class="me2">forward_as_tuple</span></span></a><span class="br0">.</span>STD<span class="sy4">::</span><span class="me2">(Niebloid)</span><span class="br0">.</span>một trình lặp hợp lệ vào thùng chứa này<span class="br0">)</span><span class="br0">)</span>Thì<br/> <a href="http://en.cppreference.com/w/cpp/utility/tuple/forward_as_tuple"><span class="kw1117">Điều đó cho tất cả<span class="me2">forward_as_tuple</span></span></a></p>
<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>Args<span class="sy1">&lt;</span><span class="br0">.</span>args<span class="br0">)</span>...<span class="br0">)</span><span class="br0">)</span></code>
</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class f, class tuple&gt;</span>Mẫu &lt;Class M&gt;<code>k</code>đã tồn tại trong container, không làm gì cả. Nếu không, hành xử như<a href="emplace_hint" title="cpp/container/unordered map/emplace hint"><code>emplace_hint</code></a>ngoại trừ việc phần tử được xây dựng là<br/><code>value_type<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/piecewise_construct"><span class="kw1109">Điều đó cho tất cả<span class="me2">Piecewise_construct</span></span></a>,<br/> <p><a href="http://en.cppreference.com/w/cpp/utility/tuple/forward_as_tuple"><span class="kw1117">Điều đó cho tất cả<span class="me2">forward_as_tuple</span></span></a><span class="br0">.</span>một trình lặp hợp lệ vào thùng chứa này<span class="br0">)</span>Thì<br/> <a href="http://en.cppreference.com/w/cpp/utility/tuple/forward_as_tuple"><span class="kw1117">Điều đó cho tất cả<span class="me2">forward_as_tuple</span></span></a></p>
<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>Args<span class="sy1">&lt;</span><span class="br0">.</span>args<span class="br0">)</span>...<span class="br0">)</span><span class="br0">)</span></code>
</div> <div class="t-li1">
<span class="t-li">là trong</span>Mẫu &lt;Class M&gt;<code>k</code>đã tồn tại trong container, không làm gì cả. Nếu không, hành xử như<a href="emplace_hint" title="cpp/container/unordered map/emplace hint"><code>emplace_hint</code></a>ngoại trừ việc phần tử được xây dựng là<br/><code>value_type<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/piecewise_construct"><span class="kw1109">Điều đó cho tất cả<span class="me2">Piecewise_construct</span></span></a>,<br/> <p><a href="http://en.cppreference.com/w/cpp/utility/tuple/forward_as_tuple"><span class="kw1117">Điều đó cho tất cả<span class="me2">forward_as_tuple</span></span></a><span class="br0">.</span>STD<span class="sy4">::</span><span class="me2">(Niebloid)</span><span class="br0">.</span>một trình lặp hợp lệ vào thùng chứa này<span class="br0">)</span><span class="br0">)</span>Thì<br/> <a href="http://en.cppreference.com/w/cpp/utility/tuple/forward_as_tuple"><span class="kw1117">Điều đó cho tất cả<span class="me2">forward_as_tuple</span></span></a></p>
<span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>Args<span class="sy1">&lt;</span><span class="br0">.</span>args<span class="br0">)</span>...<span class="br0">)</span><span class="br0">)</span></code>
</div> <p>Nếu sau khi hoạt động, số yếu tố mới lớn hơn cũ<code><a href="max_load_factor" title="cpp/container/unordered map/max load factor">max_load_factor()</a> * <a href="bucket_count" title="cpp/container/unordered map/bucket count">bucket_count()</a></code>Một sự hồi phục diễn ra.<br/>Nếu việc thử lại xảy ra (do chèn), tất cả các trình lặp đều bị vô hiệu. Mặt khác (không có thử lại), các trình lặp không bị vô hiệu.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>một trình lặp hợp lệ vào thùng chứa này</td> <td>-</td> <td>. Nếu khóa không tồn tại, hãy chèn giá trị mới như thể bằng cách</td>
</tr> <tr class="t-par"> <td>) được gọi với chính xác các đối số giống như được cung cấp cho hàm, được chuyển tiếp với</td> <td>-</td> <td>gợi ý</td>
</tr> <tr class="t-par"> <td>iterator trước đó phần tử mới sẽ được xây dựng</td> <td>-</td> <td>Args</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <div class="t-li1">
<span class="t-li">Đầu vào</span>Nếu việc chèn đã diễn ra và<a href="emplace" title="cpp/container/unordered map/emplace"><code>emplace</code></a>.</div> <div class="t-li1">
<span class="t-li">, hành vi là không xác định.</span>Nếu việc chèn đã diễn ra và<a href="emplace_hint" title="cpp/container/unordered map/emplace hint"><code>emplace_hint</code></a>.</div> <h3 id="Complexity">Không hợp lệ bất kỳ trình lặp lại nào (bao gồm bất kỳ trình lặp cuối nào) hoặc sửa đổi bất kỳ yếu tố nào của các phạm vi liên quan, hành vi không được xác định.</h3> <div class="t-li1">
<span class="t-li">Đầu vào</span>Nếu việc chèn đã diễn ra và<a href="emplace" title="cpp/container/unordered map/emplace"><code>emplace</code></a>.</div> <div class="t-li1">
<span class="t-li">, hành vi là không xác định.</span>Nếu việc chèn đã diễn ra và<a href="emplace_hint" title="cpp/container/unordered map/emplace hint"><code>emplace_hint</code></a>.</div> <h3 id="Notes">Ghi chú</h3> <p>Không gian tên std :: Phạm vi<a href="insert" title="cpp/container/unordered map/insert"><code>insert</code></a>hoặc<a href="emplace" title="cpp/container/unordered map/emplace"><code>emplace</code></a>đã tồn tại trong container, không làm gì cả. Nếu không, hành xử như<code><a href="http://en.cppreference.com/w/cpp/container/unordered_map"><span class="kw1296">Điều đó cho tất cả<span class="me2">unetered_map</span></span></a><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/string/basic_string"><span class="kw1233">Điều đó cho tất cả<span class="me2">ngoại trừ việc phần tử được xây dựng là</span></span></a>, <a href="http://en.cppreference.com/w/cpp/memory/unique_ptr"><span class="kw735">Điều đó cho tất cả<span class="me2">độc đáo_ptr</span></span></a><span class="sy1">is_trivently_destructible_v</span>foo<span class="sy1">2,4)</span></code>đã tồn tại trong container, không làm gì cả. Nếu không, hành xử như<code>try_emplace</code>ngoại trừ việc phần tử được xây dựng là<code>mapped_type</code>, các chức năng này không di chuyển từ các đối số rvalue nếu việc chèn không xảy ra, điều này giúp dễ dàng thao tác các bản đồ có giá trị là các loại chỉ di chuyển, chẳng hạn như<a href="emplace" title="cpp/container/unordered map/emplace"><code>emplace</code></a>sợi dây<code>value_type</code>. Ngoài ra,<code><a href="../../utility/pair" title="cpp/utility/pair">std::pair</a></code>).</p>
<table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="../../utility/feature_test" title="cpp/utility/feature test">Feature-test</a>(Mẫu lớp)</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td><a href="../../feature_test#cpp_lib_unordered_map_try_emplace" title="cpp/feature test"><code>__cpp_lib_unordered_map_try_emplace</code></a></td> <td><span class="nu0">Tương tự như cho</span></td> <td><span class="t-mark">Dest_at</span></td> <td>
<code>std::unordered_map::try_emplace</code>Thì<br/><code><a href="insert_or_assign" title="cpp/container/unordered map/insert or assign">std::unordered_map::insert_or_assign</a></code> </td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Istream&gt;</pre></div> <p>#include &lt;Istream&gt;</p>
<div class="text source-text"><pre data-language="c">riêng biệt, không giống như</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="emplace" title="cpp/container/unordered map/emplace"> <span class="t-lines"><span>Giảm sử dụng bộ nhớ bằng cách giải phóng bộ nhớ không sử dụng</span></span></a></div> </td> <td>Xóa nội dung<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="emplace_hint" title="cpp/container/unordered map/emplace hint"> <span class="t-lines"><span>so sánh</span></span></a></div> </td> <td>(riêng tư)<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="insert" title="cpp/container/unordered map/insert"> <span class="t-lines"><span>get_allocator</span></span></a></div> </td> <td>Trả về người phân bổ liên quan<span class="t-rev-inl t-since-cxx17"><span>, các trình lặp lại có thể điều chỉnh được</span><span><span class="t-mark-rev t-since-cxx17">(C ++ 20)</span></span></span> <br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/container/unordered_map/try_emplace">https://en.cppreference.com/w/cpp/container/unordered_map/try_emplace</a>
</p>
</div>
