 <h1 class="firstHeading" id="firstHeading">STD :: WCTOMB</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/cstdlib" title="cpp/header/cstdlib">&lt;cstdlib&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">int wctomb (char* s, wchar_t wc);</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Chuyển đổi một ký tự rộng<code>wc</code>để mã hóa và lưu trữ nó (bao gồm bất kỳ chuỗi thay đổi nào) trong mảng char có phần tử đầu tiên được chỉ ra bởi<code>s</code>                           Externt*&amp; to_next) const;<code>MB_CUR_MAX</code>ký tự được lưu trữ. Việc chuyển đổi bị ảnh hưởng bởi danh mục LC_ctype của địa phương hiện tại.</p>
<p>Nếu như<code>wc</code>là nhân vật null, byte null được viết cho<code>s</code>, trước đó bởi bất kỳ trình tự thay đổi cần thiết để khôi phục trạng thái dịch chuyển ban đầu.</p>
<p>Nếu như<code>s</code>là một con trỏ null, đặt lại trạng thái chuyển đổi toàn cầu và xác định xem các chuỗi dịch chuyển có được sử dụng hay không.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>S</td> <td>-</td> <td>con trỏ đến mảng ký tự cho đầu ra</td>
</tr> <tr class="t-par"> <td>WC</td> <td>-</td> <td>nhân vật rộng để chuyển đổi</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Nếu như<code>s</code>không phải là một con trỏ null, trả về số lượng byte được chứa trong biểu diễn multibyte của<code>wc</code>hoặc<code>-1</code>nếu như<code>wc</code>không phải là một nhân vật hợp lệ.</p>
<p>Nếu như<code>s</code>là một con trỏ null, đặt lại trạng thái chuyển đổi nội bộ của nó để biểu thị trạng thái thay đổi ban đầu và trả về<code>​0​</code>Nếu mã hóa đa năng hiện tại không phụ thuộc vào trạng thái (không sử dụng trình tự dịch chuyển) hoặc giá trị khác không nếu mã hóa đa loại hiện tại phụ thuộc vào trạng thái (sử dụng trình tự dịch chuyển).</p>
<h3 id="Notes">Ghi chú</h3> <p>Mỗi cuộc gọi đến<code>wctomb</code>Cập nhật trạng thái chuyển đổi toàn cầu nội bộ (một đối tượng tĩnh của loại<code><a href="mbstate_t" title="cpp/string/multibyte/mbstate t">std::mbstate_t</a></code>, chỉ được biết đến với chức năng này). Nếu mã hóa Multibyte sử dụng trạng thái dịch chuyển, chức năng này không được tái lập. Trong mọi trường hợp, nhiều luồng không nên gọi<code>wctomb</code>không đồng bộ hóa:<code><a href="wcrtomb" title="cpp/string/multibyte/wcrtomb">std::wcrtomb</a></code>                    Không có dự đoán);</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;clocale&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;CstDlib&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="mbtowc" title="cpp/string/multibyte/mbtowc"> <span class="t-lines"><span>mbtowc</span></span></a></div> </td> <td>Chuyển đổi ký tự đa năng tiếp theo thành ký tự rộng<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="wcrtomb" title="cpp/string/multibyte/wcrtomb"> <span class="t-lines"><span>Wcrtomb</span></span></a></div> </td> <td>Chuyển đổi một ký tự rộng thành đại diện đa dạng của nó, được đưa ra trạng thái<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../../locale/codecvt/out" title="cpp/locale/codecvt/out"> <span class="t-lines"><span>nhận dạng</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>DO_OUT<code>InternT</code>ĐẾN<code>ExternT</code>của địa điểm<br/> <span class="t-mark">Putback<code>std::codecvt&lt;InternT,ExternT,StateT&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/string/multibyte/wctomb" title="c/string/multibyte/wctomb">C documentation</a></span>vì<code>wctomb</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/string/multibyte/wctomb">https://en.cppreference.com/w/cpp/string/multibyte/wctomb</a>
</p>
</div>
