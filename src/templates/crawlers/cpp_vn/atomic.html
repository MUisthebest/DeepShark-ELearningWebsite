 <h1 class="firstHeading" id="firstHeading">Thư viện hoạt động nguyên tử</h1> <p>Thư viện nguyên tử cung cấp các thành phần cho các hoạt động nguyên tử hạt mịn cho phép lập trình đồng thời không khóa. Mỗi hoạt động nguyên tử là không thể chia cắt liên quan đến bất kỳ hoạt động nguyên tử nào khác liên quan đến cùng một đối tượng. Các đối tượng nguyên tử là<a href="language/memory_model#Threads_and_data_races" title="cpp/language/memory model">free of data races</a>.</p>
<table class="t-dsc-begin"> <tr class="t-dsc-header"> <th colspan="2">C Thư viện<code><a href="header/atomic" title="cpp/header/atomic">&lt;atomic&gt;</a></code> </th>
</tr> <tr> <td colspan="2"> <h5 id="Atomic_types">Các loại nguyên tử</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic" title="cpp/atomic/atomic"> <span class="t-lines"><span>nguyên tử</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Mẫu lớp nguyên tử và các chuyên ngành cho bool, tích phân,<span class="t-rev-inl t-since-cxx20"><span>điểm nổi,</span><span><span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span></span></span>và loại con trỏ<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_ref" title="cpp/atomic/atomic ref"> <span class="t-lines"><span>Atomic_Ref</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>cung cấp các hoạt động nguyên tử trên các đối tượng không nguyên tử<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Operations_on_atomic_types">Hoạt động trên các loại nguyên tử</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_is_lock_free" title="cpp/atomic/atomic is lock free"> <span class="t-lines"><span>ATOMIC_IS_LOCK_FREE</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Kiểm tra xem các hoạt động của loại nguyên tử có khóa không<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_store" title="cpp/atomic/atomic store"> <span class="t-lines"><span>Atomic_store</span><span>Atomic_store_explicit</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>thay thế nguyên tử giá trị của đối tượng nguyên tử bằng đối số không nguyên tử<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_load" title="cpp/atomic/atomic load"> <span class="t-lines"><span>Atomic_load</span><span>ATOMIC_LOAD_EXPLICIT</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>về mặt nguyên tử có được giá trị được lưu trữ trong một đối tượng nguyên tử<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_exchange" title="cpp/atomic/atomic exchange"> <span class="t-lines"><span>Atomic_exchange</span><span>ATOMIC_EXCHANGE_EXPLICIT</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>thay thế nguyên tử giá trị của đối tượng nguyên tử bằng đối số không nguyên tử và trả về giá trị cũ của nguyên tử<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_compare_exchange" title="cpp/atomic/atomic compare exchange"> <span class="t-lines"><span>Atomic_compare_exchange_weak</span><span>Atomic_compare_exchange_weak_explict</span><span>Atomic_compare_exchange_strong</span><span>Atomic_compare_exchange_strong_explict</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>so sánh về mặt nguyên tử với giá trị của đối tượng nguyên tử với đối số không nguyên tử và thực hiện trao đổi nguyên tử nếu tải trọng hoặc nguyên tử nếu không<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_fetch_add" title="cpp/atomic/atomic fetch add"> <span class="t-lines"><span>ATOMIC_FETCH_ADD</span><span>Atomic_fetch_add_explict</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>thêm một giá trị không nguyên tử vào một đối tượng nguyên tử và thu được giá trị trước đó của nguyên tử<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_fetch_sub" title="cpp/atomic/atomic fetch sub"> <span class="t-lines"><span>ATOMIC_FETCH_SUB</span><span>Atomic_fetch_sub_explict</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>trừ một giá trị không nguyên tử từ một đối tượng nguyên tử và thu được giá trị trước đó của nguyên tử<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_fetch_and" title="cpp/atomic/atomic fetch and"> <span class="t-lines"><span>Atomic_fetch_and</span><span>Atomic_fetch_and_explict</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Thay thế đối tượng nguyên tử bằng kết quả của bitwise và với một đối số không nguyên tử và có được giá trị trước đó của nguyên tử<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_fetch_or" title="cpp/atomic/atomic fetch or"> <span class="t-lines"><span>ATOMIC_FETCH_OR</span><span>Atomic_fetch_or_explict</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Thay thế đối tượng nguyên tử bằng kết quả của bitwise hoặc bằng đối số không nguyên tử và có được giá trị trước đó của nguyên tử<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_fetch_xor" title="cpp/atomic/atomic fetch xor"> <span class="t-lines"><span>ATOMIC_FETCH_XOR</span><span>Atomic_fetch_xor_explict</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Thay thế đối tượng nguyên tử bằng kết quả của BitWise XOR bằng đối số không nguyên tử và thu được giá trị trước đó của nguyên tử<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_wait" title="cpp/atomic/atomic wait"> <span class="t-lines"><span>Atomic_wait</span><span>Atomic_wait_explicit</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>chặn luồng cho đến khi thông báo và giá trị nguyên tử thay đổi<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_notify_one" title="cpp/atomic/atomic notify one"> <span class="t-lines"><span>Atomic_notify_one</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>Thông báo một luồng bị chặn trong Atomic_wait<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_notify_all" title="cpp/atomic/atomic notify all"> <span class="t-lines"><span>Atomic_notify_all</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>Thông báo tất cả các luồng bị chặn trong Atomic_wait<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Flag_type_and_operations">Loại cờ và hoạt động</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_flag" title="cpp/atomic/atomic flag"> <span class="t-lines"><span>Atomic_flag</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>loại nguyên tử boolean không khóa<br/> <span class="t-mark">Các loại chính sách thực thi</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_flag_test_and_set" title="cpp/atomic/atomic flag test and set"> <span class="t-lines"><span>Atomic_flag_test_and_set</span><span>Atomic_flag_test_and_set_explict</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Đặt cờ nguyên tử thành<code>true</code>và trả về giá trị trước đó của nó<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_flag_clear" title="cpp/atomic/atomic flag clear"> <span class="t-lines"><span>Atomic_flag_clear</span><span>Atomic_flag_clear_explict</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Đặt giá trị của cờ thành<code>false</code> <br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_flag_test" title="cpp/atomic/atomic flag test"> <span class="t-lines"><span>ATOMIC_FLAG_TEST</span><span>Atomic_flag_test_explict</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>Trả về nguyên tử giá trị của cờ<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_flag_wait" title="cpp/atomic/atomic flag wait"> <span class="t-lines"><span>ATOMIC_FLAG_WAIT</span><span>Atomic_flag_wait_explict</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>chặn luồng cho đến khi thông báo và cờ thay đổi<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_flag_notify_one" title="cpp/atomic/atomic flag notify one"> <span class="t-lines"><span>Atomic_flag_notify_one</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>Thông báo một luồng bị chặn trong Atomic_flag_wait<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_flag_notify_all" title="cpp/atomic/atomic flag notify all"> <span class="t-lines"><span>Atomic_flag_notify_all</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>Thông báo tất cả các luồng bị chặn trong Atomic_flag_wait<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Initialization">Khởi tạo</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_init" title="cpp/atomic/atomic init"> <span class="t-lines"><span>Atomic_init</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span><span class="t-mark-rev t-deprecated-cxx20">(Không dùng nữa trong C ++ 20)</span></span></span></div> </td> <td>Khởi tạo không nguyên tử của đối tượng nguyên tử được xây dựng mặc định<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_var_init" title="cpp/atomic/ATOMIC VAR INIT"> <span class="t-lines"><span>ATOMIC_VAR_INIT</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span><span class="t-mark-rev t-deprecated-cxx20">(Không dùng nữa trong C ++ 20)</span></span></span></div> </td> <td>Khởi tạo liên tục của một biến nguyên tử của thời gian lưu trữ tĩnh<br/> <span class="t-mark">(Chức năng Macro)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_flag_init" title="cpp/atomic/ATOMIC FLAG INIT"> <span class="t-lines"><span>Atomic_flag_init</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>khởi tạo một<code><a href="atomic/atomic_flag" title="cpp/atomic/atomic flag">std::atomic_flag</a></code>ĐẾN<code>false</code> <br/> <span class="t-mark">(Hằng số vĩ mô)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Memory_synchronization_ordering">Thứ tự đồng bộ hóa bộ nhớ</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/memory_order" title="cpp/atomic/memory order"> <span class="t-lines"><span>memory_order</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Xác định các ràng buộc thứ tự bộ nhớ cho hoạt động nguyên tử đã cho<br/> <span class="t-mark">(enum)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/kill_dependency" title="cpp/atomic/kill dependency"> <span class="t-lines"><span>Kill_dependency</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Xóa đối tượng được chỉ định khỏi<code><a href="atomic/memory_order" title="cpp/atomic/memory order">std::memory_order_consume</a></code>Cây phụ thuộc<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_thread_fence" title="cpp/atomic/atomic thread fence"> <span class="t-lines"><span>Atomic_Thread_Fence</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>bộ nhớ chung, đồng bộ hóa hàng rào phụ thuộc vào hàng rào nguyên thủy<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic_signal_fence" title="cpp/atomic/atomic signal fence"> <span class="t-lines"><span>Atomic_Signal_Fence</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>hàng rào giữa một luồng và trình xử lý tín hiệu được thực thi trong cùng một luồng<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> </table> <h3 id="C_Compatibility_for_atomic_types">C Khả năng tương thích cho các loại nguyên tử</h3> <table class="t-dsc-begin"> <tr class="t-dsc-header"> <th colspan="2">C Thư viện<code><a href="header/stdatomic.h" title="cpp/header/stdatomic.h">&lt;stdatomic.h&gt;</a></code> </th>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic" title="cpp/atomic/atomic"> <span class="t-lines"><span>_Atomic</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>Macro tương thích sao cho<code>_Atomic(T)</code>là giống hệt nhau<code><a href="http://en.cppreference.com/w/cpp/atomic/atomic"><span class="kw2070">Điều đó cho tất cả<span class="me2">nguyên tử</span></span></a><span class="sy1">is_trivently_destructible_v</span>T<span class="sy1">&lt;</span></code> <br/> <span class="t-mark">(Chức năng Macro)</span> </td>
</tr> </table> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx23">
<td> <p>Không phải<code>_Atomic</code>Macro, cũng như bất kỳ khai báo tên tên toàn cầu không phải là Macro nào được cung cấp bởi bất kỳ tiêu đề thư viện tiêu chuẩn C ++ nào khác<code>&lt;stdatomic.h&gt;</code>.</p>
</td> <td><span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span></td>
</tr> </table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/atomic" title="c/atomic">C documentation</a></span>vì<span class=""><span>Thư viện hoạt động nguyên tử</span></span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/atomic">https://en.cppreference.com/w/cpp/atomic</a>
</p>
</div>
