<section id="f2py-user-guide-and-reference-manual"> <h1 id="f2py">F2PY user guide and reference manual</h1> <p>The purpose of the <code>F2PY</code> –<em>Fortran to Python interface generator</em>– utility is to provide a connection between Python and Fortran. F2PY distributed as part of <a class="reference external" href="https://www.numpy.org/">NumPy</a> (<code>numpy.f2py</code>) and once installed is also available as a standalone command line tool. Originally created by Pearu Peterson, and older changelogs are in the <a class="reference external" href="https://web.archive.org/web/20140822061353/http://cens.ioc.ee/projects/f2py2e">historical reference</a>.</p> <p>F2PY facilitates creating/building native <a class="reference external" href="https://docs.python.org/3/extending/extending.html#extending-python-with-c-or-c">Python C/API extension modules</a> that make it possible</p> <ul class="simple"> <li>to call Fortran 77/90/95 external subroutines and Fortran 90/95 module subroutines as well as C functions;</li> <li>to access Fortran 77 <code>COMMON</code> blocks and Fortran 90/95 module data, including allocatable arrays</li> </ul> <p>from Python.</p> <div class="admonition note"> <p class="admonition-title">Note</p> <p>Fortran 77 is essentially feature complete, and an increasing amount of Modern Fortran is supported within F2PY. Most <code>iso_c_binding</code> interfaces can be compiled to native extension modules automatically with <code>f2py</code>. Bug reports welcome!</p> </div> <p>F2PY can be used either as a command line tool <code>f2py</code> or as a Python module <code>numpy.f2py</code>. While we try to provide the command line tool as part of the numpy setup, some platforms like Windows make it difficult to reliably put the executables on the <code>PATH</code>. If the <code>f2py</code> command is not available in your system, you may have to run it as a module:</p> <pre data-language="python">python -m numpy.f2py
</pre> <p>Using the <code>python -m</code> invocation is also good practice if you have multiple Python installs with NumPy in your system (outside of virtual environments) and you want to ensure you pick up a particular version of Python/F2PY.</p> <p>If you run <code>f2py</code> with no arguments, and the line <code>numpy Version</code> at the end matches the NumPy version printed from <code>python -m numpy.f2py</code>, then you can use the shorter version. If not, or if you cannot run <code>f2py</code>, you should replace all calls to <code>f2py</code> mentioned in this guide with the longer version.</p>  <ul> <li class="toctree-l1">
<a class="reference internal" href="f2py-user">F2PY user guide</a><ul> <li class="toctree-l2">
<a class="reference internal" href="f2py.getting-started">Three ways to wrap - getting started</a><ul> <li class="toctree-l3"><a class="reference internal" href="f2py.getting-started#the-quick-way">The quick way</a></li> <li class="toctree-l3"><a class="reference internal" href="f2py.getting-started#the-smart-way">The smart way</a></li> <li class="toctree-l3"><a class="reference internal" href="f2py.getting-started#the-quick-and-smart-way">The quick and smart way</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="usage">Using F2PY</a><ul> <li class="toctree-l3"><a class="reference internal" href="usage#using-f2py-as-a-command-line-tool">Using <code>f2py</code> as a command-line tool</a></li> <li class="toctree-l3"><a class="reference internal" href="usage#python-module-numpy-f2py">Python module <code>numpy.f2py</code></a></li> <li class="toctree-l3"><a class="reference internal" href="usage#automatic-extension-module-generation">Automatic extension module generation</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="f2py-examples">F2PY examples</a><ul> <li class="toctree-l3"><a class="reference internal" href="f2py-examples#f2py-walkthrough-a-basic-extension-module">F2PY walkthrough: a basic extension module</a></li> <li class="toctree-l3"><a class="reference internal" href="f2py-examples#a-filtering-example">A filtering example</a></li> <li class="toctree-l3"><a class="reference internal" href="f2py-examples#depends-keyword-example"><code>depends</code> keyword example</a></li> <li class="toctree-l3"><a class="reference internal" href="f2py-examples#read-more">Read more</a></li> </ul> </li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="f2py-reference">F2PY reference manual</a><ul> <li class="toctree-l2">
<a class="reference internal" href="signature-file">Signature file</a><ul> <li class="toctree-l3"><a class="reference internal" href="signature-file#signature-files-syntax">Signature files syntax</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="python-usage">Using F2PY bindings in Python</a><ul> <li class="toctree-l3"><a class="reference internal" href="python-usage#fortran-type-objects">Fortran type objects</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage#scalar-arguments">Scalar arguments</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage#string-arguments">String arguments</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage#array-arguments">Array arguments</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage#call-back-arguments">Call-back arguments</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage#common-blocks">Common blocks</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage#fortran-90-module-data">Fortran 90 module data</a></li> <li class="toctree-l3"><a class="reference internal" href="python-usage#allocatable-arrays">Allocatable arrays</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="buildtools/index">F2PY and build systems</a><ul> <li class="toctree-l3"><a class="reference internal" href="buildtools/index#basic-concepts">Basic concepts</a></li> <li class="toctree-l3"><a class="reference internal" href="buildtools/index#build-systems">Build systems</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="advanced/use_cases">Advanced F2PY use cases</a><ul> <li class="toctree-l3"><a class="reference internal" href="advanced/use_cases#adding-user-defined-functions-to-f2py-generated-modules">Adding user-defined functions to F2PY generated modules</a></li> <li class="toctree-l3"><a class="reference internal" href="advanced/use_cases#adding-user-defined-variables">Adding user-defined variables</a></li> <li class="toctree-l3"><a class="reference internal" href="advanced/use_cases#dealing-with-kind-specifiers">Dealing with KIND specifiers</a></li> <li class="toctree-l3"><a class="reference internal" href="advanced/use_cases#character-strings">Character strings</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="advanced/boilerplating">Boilerplate reduction and templating</a><ul> <li class="toctree-l3"><a class="reference internal" href="advanced/boilerplating#using-fypp-for-binding-generic-interfaces">Using FYPP for binding generic interfaces</a></li> </ul> </li> <li class="toctree-l2">
<a class="reference internal" href="f2py-testing">F2PY test suite</a><ul> <li class="toctree-l3"><a class="reference internal" href="f2py-testing#adding-a-test">Adding a test</a></li> </ul> </li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="windows/index">F2PY and Windows</a><ul> <li class="toctree-l2"><a class="reference internal" href="windows/index#overview">Overview</a></li> <li class="toctree-l2"><a class="reference internal" href="windows/index#baseline">Baseline</a></li> <li class="toctree-l2"><a class="reference internal" href="windows/index#powershell-and-msvc">PowerShell and MSVC</a></li> <li class="toctree-l2">
<a class="reference internal" href="windows/index#microsoft-store-python-paths">Microsoft Store Python paths</a><ul> <li class="toctree-l3"><a class="reference internal" href="windows/intel">F2PY and Windows Intel Fortran</a></li> <li class="toctree-l3"><a class="reference internal" href="windows/msys2">F2PY and Windows with MSYS2</a></li> <li class="toctree-l3"><a class="reference internal" href="windows/conda">F2PY and Conda on Windows</a></li> <li class="toctree-l3"><a class="reference internal" href="windows/pgi">F2PY and PGI Fortran on Windows</a></li> </ul> </li> </ul> </li> <li class="toctree-l1">
<a class="reference internal" href="buildtools/distutils-to-meson">1 Migrating to <code>meson</code></a><ul> <li class="toctree-l2"><a class="reference internal" href="buildtools/distutils-to-meson#baseline">1.1 Baseline</a></li> <li class="toctree-l2">
<a class="reference internal" href="buildtools/distutils-to-meson#compilation-options">1.2 Compilation options</a><ul> <li class="toctree-l3"><a class="reference internal" href="buildtools/distutils-to-meson#basic-usage">1.2.1 Basic Usage</a></li> <li class="toctree-l3"><a class="reference internal" href="buildtools/distutils-to-meson#specify-the-backend">1.2.2 Specify the backend</a></li> <li class="toctree-l3"><a class="reference internal" href="buildtools/distutils-to-meson#pass-a-compiler-name">1.2.3 Pass a compiler name</a></li> <li class="toctree-l3"><a class="reference internal" href="buildtools/distutils-to-meson#dependencies">1.2.4 Dependencies</a></li> <li class="toctree-l3"><a class="reference internal" href="buildtools/distutils-to-meson#libraries">1.2.5 Libraries</a></li> </ul> </li> <li class="toctree-l2"><a class="reference internal" href="buildtools/distutils-to-meson#customizing-builds">1.3 Customizing builds</a></li> </ul> </li> </ul>  </section><div class="_attribution">
  <p class="_attribution-p">
    &copy; 2005&ndash;2024 NumPy Developers<br>Licensed under the 3-clause BSD License.<br>
    <a href="https://numpy.org/doc/2.0/f2py/index.html" class="_attribution-link">https://numpy.org/doc/2.0/f2py/index.html</a>
  </p>
</div>
