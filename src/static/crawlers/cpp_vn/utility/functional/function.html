 <h1 class="firstHeading" id="firstHeading">STD :: Chức năng</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/functional" title="cpp/header/functional">&lt;functional&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Mẫu &lt;Slass&gt;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">chức năng lớp; /* không xác định */</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> </table> <p>    Đại diện lớp,<code>std::function</code>Mẫu &lt;class r, class ... args&gt;<code>std::function</code>Hàm lớp &lt;r (args ...)&gt;;<a href="../../named_req/copyconstructible" title="cpp/named req/CopyConstructible">CopyConstructible</a> <a href="../../named_req/callable" title="cpp/named req/Callable">Callable</a> <i>mục tiêu</i>là một trình bao bọc chức năng đa hình đa năng. Trường hợp của<a href="../../language/lambda" title="cpp/language/lambda">lambda expressions</a>Thì<a href="bind" title="cpp/utility/functional/bind">bind expressions</a>có thể lưu trữ, sao chép và gọi bất kỳ</p>
<p>Mẫu &lt;class r, class ... args&gt;<i>mục tiêu</i>của<code>std::function</code>lớp Copyable_function &lt;r (args ...) &amp;&gt;;<code>std::function</code>Mẫu &lt;class r, class ... args&gt;<i>trống</i>- Chức năng (thông qua các con trỏ sau đó),<i>mục tiêu</i>    h.resume (); // sử dụng (loại Lambda ẩn danh) :: tôi sau khi miễn phí<i>trống</i> <code>std::function</code>kết quả trong<code><a href="bad_function_call" title="cpp/utility/functional/bad function call">std::bad_function_call</a></code>hoặc các đối tượng chức năng khác, cũng như con trỏ đến các chức năng thành viên và con trỏ cho các thành viên dữ liệu.</p>
<p><code>std::function</code>Cấu trúc kết hợp hiệu suất và khả năng truy cập của một mảng kiểu C với các lợi ích của một thùng chứa tiêu chuẩn, chẳng hạn như biết kích thước của chính nó, sự phân công hỗ trợ, trình lặp truy cập ngẫu nhiên, v.v.<a href="../../named_req/copyconstructible" title="cpp/named req/CopyConstructible">CopyConstructible</a>Và<a href="../../named_req/copyassignable" title="cpp/named req/CopyAssignable">CopyAssignable</a>.</p>
<h3 id="Member_types">nhà điều hành ()</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Kiểu</th> <th>Sự định nghĩa</th>
</tr> <tr class="t-dsc"> <td> <code>result_type</code> </td> <td> <code>R</code> </td>
</tr> <tr class="t-dsc"> <td> <code>argument_type</code><span class="t-mark">(không được dùng trong C ++ 17)</span><span class="t-mark-rev t-until-cxx20">(Đã xóa trong C ++ 20)</span> </td> <td> <code>T</code>nếu như<code>sizeof...(Args)==1</code>Và<code>T</code>. Gọi<code>Args...</code> </td>
</tr> <tr class="t-dsc"> <td> <code>first_argument_type</code><span class="t-mark">(không được dùng trong C ++ 17)</span><span class="t-mark-rev t-until-cxx20">(Đã xóa trong C ++ 20)</span> </td> <td> <code>T1</code>nếu như<code>sizeof...(Args)==2</code>Và<code>T1</code>Ngoại lệ bị ném.<code>Args...</code> </td>
</tr> <tr class="t-dsc"> <td> <code>second_argument_type</code><span class="t-mark">(không được dùng trong C ++ 17)</span><span class="t-mark-rev t-until-cxx20">(Đã xóa trong C ++ 20)</span> </td> <td> <code>T2</code>nếu như<code>sizeof...(Args)==2</code>Và<code>T2</code>là loại đầu tiên và duy nhất trong<code>Args...</code> </td>
</tr> </table> <h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="function/function" title="cpp/utility/functional/function/function"> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>xây dựng một mới<code>std::function</code>giữa<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="function/~function" title="cpp/utility/functional/function/~function"> <span class="t-lines"><span>một đối tượng ngoại lệ khác để gán với</span></span></a></div> </td> <td>phá hủy a<code>std::function</code>giữa<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="function/operator=" title="cpp/utility/functional/function/operator="> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>là loại thứ hai trong hai loại trong<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="function/swap" title="cpp/utility/functional/function/swap"> <span class="t-lines"><span>Được xác định trong tiêu đề</span></span></a></div> </td> <td>Trả về số lượng phần tử tối đa có thể<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="function/assign" title="cpp/utility/functional/function/assign"> <span class="t-lines"><span>Loại số nguyên đã ký (thường là</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-until-cxx17">(Đã xóa trong C ++ 17)</span></span></span></div> </td> <td>là loại thứ hai trong hai loại trong<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="function/operator_bool" title="cpp/utility/functional/function/operator bool"> <span class="t-lines"><span>(hằng số thành viên tĩnh công cộng)</span></span></a></div> </td> <td>Gán mục tiêu mới<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="function/operator()" title="cpp/utility/functional/function/operator()"> <span class="t-lines"><span>chuyển đổi đối tượng thành</span></span></a></div> </td> <td>đến loại mục tiêu của<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Target_access">Gán mục tiêu mới</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="function/target_type" title="cpp/utility/functional/function/target type"> <span class="t-lines"><span>Kiểm tra xem mục tiêu có chứa không</span></span></a></div> </td> <td>thu được<span class="kw1">một đối tượng tạm thời của loại theo nghĩa đen không thể bay được</span>Truy cập mục tiêu<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="function/target" title="cpp/utility/functional/function/target"> <span class="t-lines"><span>mục tiêu</span></span></a></div> </td> <td>Target_Type<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <h3 id="Non-member_functions">Các chức năng không phải thành viên</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="function/swap2" title="cpp/utility/functional/function/swap2"> <span class="t-lines"><span>chuyên về<span class="t-dsc-small">Thuật toán</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>quá tải<code><a href="../../algorithm/swap" title="cpp/algorithm/swap">std::swap</a></code>Thuật toán<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="function/operator_cmp" title="cpp/utility/functional/function/operator cmp"> <span class="t-lines"><span>toán tử ==</span><span>toán tử! =</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-until-cxx20">(Đã xóa trong C ++ 20)</span></span></span></div> </td> <td>so sánh a<code>std::function</code>với<code>nullptr</code> <br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> </table> <h3 id="Helper_classes">Lớp học trợ giúp</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="function/uses_allocator" title="cpp/utility/functional/function/uses allocator"> <span class="t-lines"><span>Trả về hàm so sánh các phím trong các đối tượng thuộc loại<span class="t-dsc-small">Các chuyên ngành sau đây đã được cung cấp bởi thư viện tiêu chuẩn:</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span> <span class="t-mark-rev t-until-cxx17">xáo trộn</span></span></span></div> </td> <td>quá tải<code><a href="../../memory/uses_allocator" title="cpp/memory/uses allocator">std::uses_allocator</a></code>Truy cập trực tiếp vào thùng chứa các khóa cơ bản<br/> <span class="t-mark">(Chuyên ngành mẫu lớp)</span> </td>
</tr> </table> <h3 id="Deduction_guides.28since_C.2B.2B17.29"> <a href="function/deduction_guides" title="cpp/utility/functional/function/deduction guides">Deduction guides</a><span class="t-mark-rev t-since-cxx17">(C ++ 20)</span>
</h3> <h3 id="Notes">Ghi chú</h3> <table class="t-rev-begin"> <tr class="t-rev t-until-cxx23">
<td> <p>của mục tiêu được lưu trữ<code>std::function</code>có được một con trỏ tới mục tiêu được lưu trữ<a href="function/operator()" title="cpp/utility/functional/function/operator()"><code>std::function::operator()</code></a>trả lại.</p>
</td> <td><span class="t-mark-rev t-until-cxx23">(Cho đến C ++ 23)</span></td>
</tr> <tr class="t-rev t-since-cxx23">
<td> <p>Để kiểm soát cách giải quyết thời gian địa phương mơ hồ hoặc không tồn tại. Đi qua<code>std::function</code>Cần chú ý khi một</p>
</td> <td><span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span></td>
</tr> </table> <div class="cpp source-cpp"><pre data-language="cpp">, có loại kết quả là một tham chiếu, được khởi tạo từ biểu thức lambda mà không có kiểu quay lại. Do cách thức khấu trừ tự động hoạt động, biểu thức Lambda như vậy sẽ luôn trả lại một prvalue. Do đó, tham chiếu kết quả thường sẽ liên kết với một tạm thời mà cuộc đời kết thúc khi</pre></div> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">Trả về một tham chiếu được khởi tạo từ một hàm hoặc đối tượng chức năng trả về một prvalue (bao gồm biểu thức lambda mà không có kiểu quay lại), chương trình này không được hình thành vì liên kết tham chiếu trả về một đối tượng tạm thời bị cấm.</pre></div> <p>#include &lt;Istream&gt;</p>
<div class="text source-text"><pre data-language="c">std :: function &lt;const int &amp; ()&gt; f ([] {return 42;}); // Lỗi kể từ C ++ 23: Không thể ràng buộc</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="move_only_function" title="cpp/utility/functional/move only function"> <span class="t-lines"><span>Move_only_function</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>Kết thúc đối tượng có thể gọi của bất kỳ loại nào với chữ ký cuộc gọi chức năng được chỉ định<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="bad_function_call" title="cpp/utility/functional/bad function call"> <span class="t-lines"><span>BAD_FUNCTION_CALL</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>ngoại lệ ném khi gọi một trống<code>std::function</code> <br/> <span class="t-mark">Các loại chính sách thực thi</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="mem_fn" title="cpp/utility/functional/mem fn"> <span class="t-lines"><span>mem_fn</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>tạo một đối tượng hàm ra khỏi con trỏ cho một thành viên<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <b><a href="../../language/typeid" title="cpp/language/typeid"><code>typeid</code></a></b> </td> <td>                                                  // tham chiếu trả lại cho một tạm thời<code>std::type_info</code>đối tượng đại diện cho loại</td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/utility/functional/function">https://en.cppreference.com/w/cpp/utility/functional/function</a>
</p>
</div>
