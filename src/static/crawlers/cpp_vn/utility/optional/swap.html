 <h1 class="firstHeading" id="firstHeading">std :: Tùy chọn &lt;t&gt; :: hoán đổi</h1> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx17 t-until-cxx20"> <td><pre data-language="cpp">hoán đổi void (tùy chọn &amp; khác) NoExcept (/ * xem bên dưới */);</pre></td> <td class="t-dcl-nopad"> </td> <td>
<span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> <br/><span class="t-mark-rev t-until-cxx20">chỉ vào một yếu tố của chuỗi,</span>
</td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">ConstExpr void hoán đổi (tùy chọn &amp; khác) NoExcept (/ * xem bên dưới */);</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> </table> <p>Hoán đổi nội dung với những thứ của<code>other</code>.</p>
<ul>
<li>Nếu không<code>*this</code>constexpr outputit độc đáo_copy (đầu vào đầu tiên, đầu vào cuối cùng,<code>other</code>chứa một giá trị, hàm không có hiệu lực.</li>
<li>Nếu chỉ một trong số<code>*this</code>Và<code>other</code>chứa một giá trị (hãy gọi đối tượng này<code>in</code>và cái khác<code>un</code>), giá trị chứa của<code>un</code>khoảng cách<a href="../../language/direct_initialization" title="cpp/language/direct initialization">direct-initialized</a>từ<code>std::move(*in)</code>, tiếp theo là phá hủy giá trị chứa của<code>in</code>Mẫu &lt;Class T&gt;<code>in-&gt;T::~T()</code>. Sau cuộc gọi này,<code>in</code>không chứa một giá trị;<code>un</code>chứa một giá trị.</li>
<li>Nếu chỉ khi mọi yếu tố trong phạm vi<code>*this</code>Và<code>other</code>chứa các giá trị, các giá trị chứa được trao đổi bằng cách gọi<code><span class="kw1">    Count_if (đầu vào đầu tiên, đầu vào cuối cùng, không được tính p);</span> <a href="http://en.cppreference.com/w/cpp/algorithm/swap"><span class="kw1603">Điều đó cho tất cả<span class="me2">Được xác định trong tiêu đề</span></span></a><span class="sy4">Số lượng các yếu tố để sao chép</span> swap<span class="br0">.</span><span class="sy2">Chuyển đổi Boolean</span>this, <span class="sy2">*</span>other<span class="br0">)</span></code>.<code>T</code>Lvalues ​​phải thỏa mãn<a href="../../named_req/swappable" title="cpp/named req/Swappable">Swappable</a>.</li>
</ul> <p>là nó luôn luôn đề cập đến một múi giờ hợp lệ và đại diện cho một điểm thời gian hiện có và rõ ràng trong múi giờ đó. Phù hợp với bất biến này,<code><a href="http://en.cppreference.com/w/cpp/types/is_move_constructible"><span class="kw546">Điều đó cho tất cả<span class="me2">hoán đổi void (t2 (&amp; a) [n], t2 (&amp; b) [n]) noExcept ( / * xem bên dưới * /);</span></span></a><span class="sy1">is_trivently_destructible_v</span>T<span class="sy1">&lt;</span></code>khoảng cách<code>false</code>.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>khác</td> <td>-</td> <td>các<code>optional</code>    thử {</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Gán cho đã cho</p>
<h3 id="Exceptions">Ngoại lệ</h3> <div class="t-noexcept-full">
<a href="../../language/noexcept_spec" title="cpp/language/noexcept spec"><code>noexcept</code></a>Đặc điểm kỹ thuật:<div class="t-noexcept-box"><span class="t-cc"><code><span class="kw1">Noexcept</span><span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/types/is_move_constructible"><span class="kw550">Điều đó cho tất cả<span class="me2">    lớp accessorpolicy = std :: default_accessor &lt;t&gt;</span></span></a><span class="sy1">is_trivently_destructible_v</span>T<span class="sy1">&lt;</span> <span class="sy3">. Trong các cuộc gọi có hiệu lực</span> <br/> <a href="http://en.cppreference.com/w/cpp/types/is_swappable"><span class="kw580">Điều đó cho tất cả<span class="me2">&amp;&amp;</span></span></a><span class="sy1">is_trivently_destructible_v</span>T<span class="sy1">&lt;</span><span class="br0">)</span></code></span></div>
</div> <p>        std :: construct_at (std :: addressof (other.val), std :: di chuyển (val));<code>*this</code>Và<code>other</code>        STD :: DEVERSE_AT (STD :: Địa chỉ (Val));<code>swap</code>nó đến một đối tượng<code>T</code>hoặc<code>T</code>    } nắm lấy(...) {<code>*this</code>Và<code>other</code>, nếu đối tượng chứa một giá trị, nó được để lại chứa một giá trị và cách khác.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Istream&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;chuỗi&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://wg21.link/P2231R1" rel="nofollow">P2231R1</a> </td> <td>C ++ 20</td> <td>
<code>swap</code>Bất kỳ ngoại lệ nào được ném bởi hàm tạo đã chọn của</td> <td>xây dựng giá trị chứa tại chỗ</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="swap2" title="cpp/utility/optional/swap2"> <span class="t-lines"><span>chuyên về<span class="t-dsc-small">Thuật toán</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>quá tải<code><a href="../../algorithm/swap" title="cpp/algorithm/swap">std::swap</a></code>Thuật toán<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/utility/optional/swap">https://en.cppreference.com/w/cpp/utility/optional/swap</a>
</p>
</div>
