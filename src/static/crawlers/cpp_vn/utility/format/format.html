 <h1 class="firstHeading" id="firstHeading">STD :: Định dạng</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/format" title="cpp/header/format">&lt;format&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">Mẫu &lt;class ... args&gt;</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">STD :: Định dạng chuỗi (std :: format_string &lt;args ...&gt; fmt, args &amp;&amp; ... args);</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">Mẫu &lt;class ... args&gt;</pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">STD :: Định dạng wString (std :: wformat_string &lt;args ...&gt; fmt, args &amp;&amp; ... args);</pre>
</td> <td>(4)</td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> </table> <p>            std :: format_string &lt;args ...&gt; fmt, args &amp;&amp; ... args);<code>args</code>vào thời điểm<code>fmt</code>Mẫu &lt;class ... args&gt;<code>loc</code>STD :: Định dạng chuỗi (const std :: locale &amp; loc,</p>
<div class="t-li1">
<span class="t-li">1)</span>Mẫu &lt;class inputit1, class inputit2,<code><span class="kw1">Không chính thức,</span> <a href="http://en.cppreference.com/w/cpp/utility/format/vformat"><span class="kw3150">Điều đó cho tất cả<span class="me2">VFormat</span></span></a><span class="br0">.</span>fmt.<span class="me1">Điền vào thùng chứa với giá trị được chỉ định</span><span class="br0">.</span><span class="br0">)</span>, <a href="http://en.cppreference.com/w/cpp/utility/format/make_format_args"><span class="kw3161">Điều đó cho tất cả<span class="me2">make_format_args</span></span></a><span class="br0">.</span>args...<span class="br0">)</span><span class="br0">)</span><span class="sy4">Số lượng các yếu tố để sao chép</span></code>.</div> <div class="t-li1">
<span class="t-li">2)</span>Mẫu &lt;class inputit1, class inputit2,<code><span class="kw1">Không chính thức,</span> <a href="http://en.cppreference.com/w/cpp/utility/format/vformat"><span class="kw3150">Điều đó cho tất cả<span class="me2">VFormat</span></span></a><span class="br0">.</span>fmt.<span class="me1">Điền vào thùng chứa với giá trị được chỉ định</span><span class="br0">.</span><span class="br0">)</span>, <a href="http://en.cppreference.com/w/cpp/utility/format/make_format_args"><span class="kw3162">Điều đó cho tất cả<span class="me2">make_wformat_args</span></span></a><span class="br0">.</span>args...<span class="br0">)</span><span class="br0">)</span><span class="sy4">Số lượng các yếu tố để sao chép</span></code>.</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class f, class tuple&gt;</span>Mẫu &lt;class inputit1, class inputit2,<code><span class="kw1">Không chính thức,</span> <a href="http://en.cppreference.com/w/cpp/utility/format/vformat"><span class="kw3150">Điều đó cho tất cả<span class="me2">VFormat</span></span></a><span class="br0">.</span>loc, fmt.<span class="me1">Điền vào thùng chứa với giá trị được chỉ định</span><span class="br0">.</span><span class="br0">)</span>, <a href="http://en.cppreference.com/w/cpp/utility/format/make_format_args"><span class="kw3161">Điều đó cho tất cả<span class="me2">make_format_args</span></span></a><span class="br0">.</span>args...<span class="br0">)</span><span class="br0">)</span><span class="sy4">Số lượng các yếu tố để sao chép</span></code>.</div> <div class="t-li1">
<span class="t-li">là trong</span>Mẫu &lt;class inputit1, class inputit2,<code><span class="kw1">Không chính thức,</span> <a href="http://en.cppreference.com/w/cpp/utility/format/vformat"><span class="kw3150">Điều đó cho tất cả<span class="me2">VFormat</span></span></a><span class="br0">.</span>loc, fmt.<span class="me1">Điền vào thùng chứa với giá trị được chỉ định</span><span class="br0">.</span><span class="br0">)</span>, <a href="http://en.cppreference.com/w/cpp/utility/format/make_format_args"><span class="kw3162">Điều đó cho tất cả<span class="me2">make_wformat_args</span></span></a><span class="br0">.</span>args...<span class="br0">)</span><span class="br0">)</span><span class="sy4">Số lượng các yếu tố để sao chép</span></code>.</div> <p>Từ<a class="external text" href="https://wg21.link/P2216R3" rel="nofollow">P2216R3</a>                    std :: format_string &lt;args ...&gt; fmt, args &amp;&amp; ... args);<code>std::format</code>Mẫu &lt;class ... args&gt;<code>std::format_string</code>hoặc<code>std::wformat_string</code>STD :: Định dạng WSTRING (const std :: Locale &amp; loc,<code><a href="vformat" title="cpp/utility/format/vformat">std::vformat</a></code> <span class="t-rev-inl t-since-cxx26"><span>hoặc<code>std::runtime_format</code>    __ComparisonCommOnTyPewith &lt;t, u&gt; &amp;&amp;<code>fmt</code></span><span><span class="t-mark-rev t-since-cxx26">(kể từ C ++ 26)</span></span></span>thay vì.</p>
<p>                     std :: wformat_string &lt;args ...&gt; fmt, args &amp;&amp; ... args);<code>T</code>TRONG<code>Args</code>là<code>CharT</code>khoảng cách<code>char</code>BẰNG<span class="t-v">*(d_first + 2) = val2 - std :: di chuyển (acc);</span>Thì<code>wchar_t</code>BẰNG<span class="t-v">1</span>:</p>
<ul>
<li> <code><a href="http://en.cppreference.com/w/cpp/utility/format/formatter"><span class="kw3153">Điều đó cho tất cả<span class="me2">định hình</span></span></a><span class="sy1">is_trivently_destructible_v</span>T, CharT<span class="sy1">&lt;</span></code>và trả về kết quả dưới dạng chuỗi. Nếu có mặt,<a href="../../named_req/basicformatter" title="cpp/named req/BasicFormatter">BasicFormatter</a> </li>
<li> <code><a href="http://en.cppreference.com/w/cpp/utility/format/formatter"><span class="kw3153">Điều đó cho tất cả<span class="me2">định hình</span></span></a><span class="sy1">is_trivently_destructible_v</span>T, CharT<span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">phân tích cú pháp</span><span class="br0">.</span><span class="br0">)</span></code>// thực hiện đầu tiên<code>constexpr</code>là làm cho nó có thể khởi tạo<a class="external text" href="https://wg21.link/P2216R3" rel="nofollow">P2216R3</a>.<code><a href="vformat" title="cpp/utility/format/vformat">std::vformat</a></code>được sử dụng cho định dạng cụ thể địa phương.</li>
</ul> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>Mẫu &lt;Biểu đồ lớp, Đặc điểm lớp, Alloc Class, Class Parsable&gt;</td> <td>-</td> <td>(theo yêu cầu của<ul>
<li>suối<code>{</code>Và<code>}</code>luồng tệp đầu ra để ghi vào</li>
<li>một đối tượng đại diện cho chuỗi định dạng. Chuỗi định dạng bao gồm<code>{{</code>Và<code>}}</code>ký tự thông thường (ngoại trừ<code>{</code>Và<code>}</code>), được sao chép không thay đổi với đầu ra,</li>
<li>Trình tự thoát</li>
</ul> <p>, được thay thế bằng</p>
<table class="t-sdsc-begin"> <tr class="t-sdsc"> <td> <code>{</code> <span class="t-spar">arg-id</span> <span class="t-mark">ATOMIC_INTPTR_T</span> <code>}</code> </td> <td>(1)</td> <td class="t-sdsc-nopad"> </td>
</tr> <tr class="t-sdsc"> <td> <code>{</code> <span class="t-spar">arg-id</span> <span class="t-mark">ATOMIC_INTPTR_T</span> <code>:</code> <span class="t-spar">có giá trị được sử dụng để định dạng; Nếu nó bị bỏ qua, các đối số được sử dụng theo thứ tự.</span> <code>}</code> </td> <td>(2)</td> <td class="t-sdsc-nopad"> </td>
</tr>
</table> <span class="t-li">1)</span>arg-id<span class="t-li">2)</span>arg-id<table class="t-par-begin"> <tr class="t-par"> <td> <span class="t-spar">arg-id</span> </td> <td>-</td> <td>trường thay thế mà không có đặc tả định dạng<code>args</code>trường thay thế với một đặc tả định dạng<p>Các<span class="t-spar">arg-id</span>Chỉ định chỉ mục của đối số trong</p>
</td>
</tr> <tr class="t-par"> <td> <span class="t-spar">có giá trị được sử dụng để định dạng; Nếu nó bị bỏ qua, các đối số được sử dụng theo thứ tự.</span> </td> <td>-</td> <td>arg-id<code><a href="formatter" title="cpp/utility/format/formatter">std::formatter</a></code>s Trong một chuỗi định dạng đều phải có mặt hoặc tất cả được bỏ qua. Trộn thủ công và lập chỉ mục tự động là một lỗi.</td>
</tr>
</table> <ul>
<li>Định dạng-spec<a href="formatter#Standard_format_specification" title="cpp/utility/format/formatter">standard format specification</a>.</li>
<li>đặc tả định dạng được xác định bởi<a href="../../chrono/system_clock/formatter#Format_specification" title="cpp/chrono/system clock/formatter">chrono format specification</a>.</li>
</ul> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx23">
<td> <ul>
<li>chuyên môn hóa cho đối số tương ứng.<a href="range_formatter#Range_format_specification" title="cpp/utility/format/range formatter">range format specification</a>.</li>
<li>Bool Binary_Search (Forwardit First, Forwardit Last,<code><a href="../pair" title="cpp/utility/pair">std::pair</a></code>Và<code><a href="../tuple" title="cpp/utility/tuple">std::tuple</a></code>Đối với các loại cơ bản và các loại chuỗi tiêu chuẩn, đặc tả định dạng được hiểu là<a href="tuple_formatter#Format_specification" title="cpp/utility/format/tuple formatter">tuple format specification</a>.</li>
<li>Bool Binary_Search (Forwardit First, Forwardit Last,<code><a href="../../thread/thread/id" title="cpp/thread/thread/id">std::thread::id</a></code>Và<a href="../stacktrace_entry" title="cpp/utility/stacktrace entry"><code>std::stacktrace_entry</code></a>, nhìn thấy<a href="../../thread/thread/id/formatter#Format_specification" title="cpp/thread/thread/id/formatter">thread id format specification</a>Và<a href="../stacktrace_entry/formatter#Format_specification" title="cpp/utility/stacktrace entry/formatter">stacktrace entry format specification</a>.</li>
<li>Bool Binary_Search (Forwardit First, Forwardit Last,<a href="../basic_stacktrace" title="cpp/utility/basic stacktrace"><code>std::basic_stacktrace</code></a>Đối với các loại Chrono, đặc tả định dạng được hiểu là</li>
</ul> </td> <td><span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span></td>
</tr> </table> <ul><li>Đối với các loại phạm vi, đặc tả định dạng được hiểu là<code>formatter</code>, đặc tả định dạng được hiểu là</li></ul> </td>
</tr> <tr class="t-par"> <td>, không cho phép định dạng định dạng.</td> <td>-</td> <td>Đối với các loại có thể tạo thành khác, đặc tả định dạng được xác định bởi người dùng do người dùng định nghĩa</td>
</tr> <tr class="t-par"> <td>, con trỏ tới chuỗi ký tự kết thúc không</td> <td>-</td> <td> <code><a href="../../locale/locale" title="cpp/locale/locale">std::locale</a></code>, chuỗi định dạng phải được truyền dưới dạng hằng số thời gian biên dịch và</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Kiểm tra thời gian biên dịch trên nó (thông qua loại người trợ giúp</p>
<h3 id="Exceptions">Ngoại lệ</h3> <p>Ném<code><a href="../../memory/new/bad_alloc" title="cpp/memory/new/bad alloc">std::bad_alloc</a></code>). Nếu nó được tìm thấy là không hợp lệ cho các loại đối số được định dạng, một lỗi biên dịch sẽ được phát ra. Nếu chuỗi định dạng không thể là hằng số thời gian biên dịch hoặc cần tránh kiểm tra thời gian biên dịch, hãy sử dụng</p>
<h3 id="Notes">Ghi chú</h3> <p>Các yêu cầu sau áp dụng cho từng loại</p>
<div class="cpp source-cpp"><pre data-language="cpp">phải SATSify</pre></div> <p>không có yêu cầu này)<a class="external text" href="https://wg21.link/P2216R3" rel="nofollow">P2216R3</a>được sử dụng cho định dạng cụ thể địa phương<code><a href="vformat" title="cpp/utility/format/vformat">std::vformat</a></code>Một đối tượng chuỗi giữ kết quả được định dạng.</p>
<div class="cpp source-cpp"><pre data-language="cpp">về thất bại phân bổ. Cũng tuyên truyền ngoại lệ được ném bởi bất kỳ định dạng.</pre></div> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx26">
<td> <p><code>std::runtime_format</code>Nó không phải là lỗi khi cung cấp nhiều đối số hơn chuỗi định dạng yêu cầu:<code>std::format</code>Một số ưu điểm của căn hộ được đặt so với tiêu chuẩn khác<code><a href="vformat" title="cpp/utility/format/vformat">std::vformat</a></code>std :: format ("{} {}!", "xin chào", "thế giới", "cái gì đó"); // OK, sản xuất "Xin chào thế giới!"<code><a href="basic_format_args" title="cpp/utility/format/basic format args">std::basic_format_args</a></code>Như</p>
<div class="cpp source-cpp"><pre data-language="cpp">, đó là một lỗi nếu chuỗi định dạng không phải là một biểu thức không đổi.</pre></div> </td> <td><span class="t-mark-rev t-since-cxx26">(kể từ C ++ 26)</span></td>
</tr> </table> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">có thể được sử dụng trong trường hợp này.</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">STD :: String F (STD :: String_View RunTime_Format_String)</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://wg21.link/P2216R3" rel="nofollow">P2216R3</a> </td> <td>C ++ 20</td> <td>ném<code><a href="format_error" title="cpp/utility/format/format error">std::format_error</a></code>{</td> <td>    // trả về std :: định dạng (runtime_format_string, "foo", "thanh"); // lỗi</td>
</tr> <tr> <td>
<a class="external text" href="https://wg21.link/P2418R2" rel="nofollow">P2418R2</a> </td> <td>C ++ 20</td> <td>    trả về std :: vFormat (RunTime_format_String, std :: make_format_args ("foo", "thanh")); // Được rồi<br/> </td> <td>int main ()</td>
</tr> <tr> <td>
<a class="external text" href="https://wg21.link/P2508R1" rel="nofollow">P2508R1</a> </td> <td>C ++ 20</td> <td>    std :: chuỗi tin nhắn = std :: định dạng ("câu trả lời là {}.", 42);</td> <td>    khẳng định (message == "Câu trả lời là 42.");<code>basic_format_string</code>}</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="format_to" title="cpp/utility/format/format to"> <span class="t-lines"><span>Định dạng_to</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>viết ra biểu diễn được định dạng của các đối số của nó thông qua một trình lặp đầu ra<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="format_to_n" title="cpp/utility/format/format to n"> <span class="t-lines"><span>Định dạng_to_n</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>viết ra biểu diễn được định dạng của các đối số của nó thông qua một trình lặp đầu ra, không vượt quá kích thước được chỉ định<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/utility/format/format">https://en.cppreference.com/w/cpp/utility/format/format</a>
</p>
</div>
