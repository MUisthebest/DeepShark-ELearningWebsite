 <h1 class="firstHeading" id="firstHeading">std :: Random_shuffle, std :: Shuffle</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/algorithm" title="cpp/header/algorithm">&lt;algorithm&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-until-cxx17"> <td><pre data-language="cpp">Mẫu &lt;Lass Randomit&gt;</pre></td> <td>(1)</td> <td>
<span class="t-mark">void ngẫu nhiên_shuffle (ngẫu nhiên đầu tiên, ngẫu nhiên cuối cùng, RandomFunc &amp; r);</span> <br/><span class="t-mark-rev t-until-cxx17">(Đã xóa trong C ++ 17)</span>
</td> </tr> <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(2)</td> <td></td> </tr> <tr class="t-dcl t-until-cxx11"> <td><pre data-language="cpp">(không dùng nữa trong C ++ 14)</pre></td> <td><span class="t-mark-rev t-until-cxx11">(Cho đến C ++ 11)</span></td> </tr> <tr class="t-dcl t-since-cxx11 t-until-cxx17"> <td> <pre data-language="cpp">Mẫu &lt;Class Randomit, Class RandomFunc&gt;</pre>
</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> <br/><span class="t-mark">void ngẫu nhiên_shuffle (ngẫu nhiên đầu tiên, ngẫu nhiên cuối cùng, RandomFunc &amp; r);</span> <br/><span class="t-mark-rev t-until-cxx17">(Đã xóa trong C ++ 17)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td><pre data-language="cpp">Mẫu &lt;Class Randomit, Class RandomFunc&gt;</pre></td> <td>(3)</td> <td><span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span></td> </tr> </table> <p>void Random_Shuffle (ngẫu nhiên đầu tiên, ngẫu nhiên cuối cùng, RandomFunc &amp;&amp; r);<code>[</code><code>first</code><code>, </code><code>last</code><code>)</code>(không dùng nữa trong C ++ 14)</p>
<div class="t-li1">
<span class="t-li">1)</span>Mẫu &lt;class Randomit, lớp urbg&gt;<code><a href="../numeric/random/rand" title="cpp/numeric/random/rand">std::rand</a></code>void shuffle (ngẫu nhiên đầu tiên, ngẫu nhiên cuối cùng, urbg &amp;&amp; g);</div> <div class="t-li1">
<span class="t-li">2)</span>Sắp xếp lại các yếu tố trong phạm vi đã cho<code>r</code>.</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class f, class tuple&gt;</span>sao cho mỗi hoán vị có thể của các yếu tố đó có xác suất ngoại hình như nhau.<code>g</code>.</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>và sau đó sửa đổi nó với</td> <td>-</td> <td>Nguồn của sự ngẫu nhiên được xác định là thực hiện, nhưng chức năng</td>
</tr> <tr class="t-par"> <td>thường được sử dụng.</td> <td>-</td> <td>Nguồn của sự ngẫu nhiên là đối tượng hàm<a href="http://en.cppreference.com/w/cpp/iterator/iterator_traits"><span class="kw654">Điều đó cho tất cả<span class="me2">iterator_traits</span></span></a><span class="sy1">is_trivently_destructible_v</span>sự khác biệt_type<span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">trong khoảng thời gian</span>r<code>[</code><code>​0​</code><code>, </code><code>n</code><code>)</code>đối tượng chức năng trả về giá trị được chọn ngẫu nhiên của loại chuyển đổi thành<code>r(n)</code> </td>
</tr> <tr class="t-par"> <td>               Chuyển tiếp đầu tiên, chuyển tiếp cuối cùng, máy phát g);</td> <td>-</td> <td>Một<a href="../named_req/uniformrandombitgenerator" title="cpp/named req/UniformRandomBitGenerator">UniformRandomBitGenerator</a>Ngẫu nhiên<a href="http://en.cppreference.com/w/cpp/iterator/iterator_traits"><span class="kw654">Điều đó cho tất cả<span class="me2">iterator_traits</span></span></a><span class="sy1">is_trivently_destructible_v</span>sự khác biệt_type<span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">trong khoảng thời gian</span> </td>
</tr> <tr class="t-par-hitem"> <td colspan="3">Chữ ký của hàm phải tương đương với các điều sau:</td>
</tr> <tr class="t-par-req"> <td colspan="3">-<code>RandomIt</code>Loại loại 1 phải sao cho một đối tượng loại T có thể được chuyển đổi hoàn toàn thành Type1. Loại loại2 phải sao cho một đối tượng loại đầu vào có thể được bỏ qua và sau đó được chuyển đổi hoàn toàn thành type2. Loại<a href="../named_req/valueswappable" title="cpp/named req/ValueSwappable">ValueSwappable</a>Và<a href="../named_req/randomaccessiterator" title="cpp/named req/RandomAccessIterator">LegacyRandomAccessIterator</a>.</td>
</tr> <tr class="t-par-req"> <td colspan="3">-<code><a href="http://en.cppreference.com/w/cpp/types/remove_reference"><span class="kw610">Điều đó cho tất cả<span class="me2">Nếu được gọi là</span></span></a><span class="sy1">is_trivently_destructible_v</span>URBG<span class="sy1">&lt;</span></code>Loại loại 1 phải sao cho một đối tượng loại T có thể được chuyển đổi hoàn toàn thành Type1. Loại loại2 phải sao cho một đối tượng loại đầu vào có thể được bỏ qua và sau đó được chuyển đổi hoàn toàn thành type2. Loại<a href="../named_req/uniformrandombitgenerator" title="cpp/named req/UniformRandomBitGenerator">UniformRandomBitGenerator</a>.</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Gán cho đã cho</p>
<h3 id="Complexity">Không hợp lệ bất kỳ trình lặp lại nào (bao gồm bất kỳ trình lặp cuối nào) hoặc sửa đổi bất kỳ yếu tố nào của các phạm vi liên quan, hành vi không được xác định.</h3> <p>Mẫu &lt;class execPolicy, class forwardit, class so sánh&gt;<code>first</code>Và<code>last</code>.</p>
<h3 id="Notes">Ghi chú</h3> <p>loại kết quả có thể chuyển đổi thành<code>RandomFunc</code>hoặc<code>URBG</code>Ngẫu nhiên</p>
<p>sự khác biệt_type<code>std::random_shuffle</code>remove_reference_t<code><a href="../numeric/random/rand" title="cpp/numeric/random/rand">std::rand</a></code>Lưu ý rằng việc thực hiện không được quyết định bởi tiêu chuẩn, vì vậy ngay cả khi bạn sử dụng chính xác<code><a href="../numeric/random/rand" title="cpp/numeric/random/rand">std::rand</a></code>(Trình tạo số ngẫu nhiên thống nhất) Bạn có thể nhận được kết quả khác nhau với các triển khai thư viện tiêu chuẩn khác nhau.<a href="../header/random" title="cpp/header/random"><code>&lt;random&gt;</code></a>Lý do để loại bỏ<code><a href="../numeric/random/rand" title="cpp/numeric/random/rand">std::rand</a></code>khoảng cách<i>Trong C ++ 17 là phiên bản chỉ có iterator thường phụ thuộc vào</i>, bây giờ cũng được thảo luận để phản đối. .<code>std::random_shuffle</code>nên được thay thế bằng các lớp của<code>std::shuffle</code>Tiêu đề, như<code>URBG</code>được coi là có hại</p>
<h3 id="Possible_implementation">. ​</h3> <p>được tìm thấy,<a class="external text" href="https://github.com/gcc-mirror/gcc/blob/d9375e490072d1aae73a93949aa158fcd2a27018/libstdc%2B%2B-v3/include/bits/stl_algo.h#L4551" rel="nofollow">libstdc++</a>Và<a class="external text" href="https://github.com/llvm-mirror/libcxx/blob/a12cb9d211019d99b5875b6d8034617cbc24c2cc/include/algorithm#L3066" rel="nofollow">libc++</a>.</p>
<table class="eq-fun-cpp-table"> <tr> <th>
<a href="#Version_1">random_shuffle (1)</a> </th>
</tr> <tr> <td> <div class="cpp source-cpp"><pre data-language="cpp">.) Ngoài ra, chỉ có người lặp chỉ</pre></div> </td>
</tr> <tr> <th>
<a href="#Version_2">random_shuffle (2)</a> </th>
</tr> <tr> <td> <div class="cpp source-cpp"><pre data-language="cpp">Phiên bản thường phụ thuộc vào trạng thái toàn cầu. Các</pre></div> </td>
</tr> <tr> <th>
<a href="#Version_3">shuffle (3)</a> </th>
</tr> <tr> <td> <div class="cpp source-cpp"><pre data-language="cpp">Thuật toán Shuffle là sự thay thế ưa thích, vì nó sử dụng</pre></div> </td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <div class="t-example">
<p>như tham số thứ 3 của nó.<code>[</code><span class="nu0">, nếu như</span><code>, </code><span class="nu0">10</span><code>]</code>Mẫu &lt;Class Randomit&gt;</p>
<div class="cpp source-cpp"><pre data-language="cpp">void ngẫu nhiên_shuffle (ngẫu nhiên đầu tiên, ngẫu nhiên cuối cùng)</pre></div> <p>#include &lt;Istream&gt;</p>
<div class="text source-text"><pre data-language="c">{</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue395" rel="nofollow">LWG 395</a> </td> <td>C ++ 98</td> <td>    typedef typename std :: iterator_traits &lt;ngẫu nhiên&gt; :: arget_type diff_t;<span class="t-v">(1)</span> <br/><code><a href="../numeric/random/rand" title="cpp/numeric/random/rand">std::rand</a></code>    for (diff_t i = cuối cùng - đầu tiên - 1; i&gt; 0; --i)</td> <td>    {<br/>        sử dụng std :: hoán đổi;<code><a href="../numeric/random/rand" title="cpp/numeric/random/rand">std::rand</a></code>        hoán đổi (đầu tiên [i], đầu tiên [std :: rand () % (i + 1)]);</td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue552" rel="nofollow">LWG 552</a><br/>.<a class="external text" href="https://wg21.link/N2423" rel="nofollow">N2423</a>)</td> <td>C ++ 98</td> <td>
<code>r</code>        // rand () % (i + 1) không thực sự chính xác, bởi vì số được tạo là<br/>        // không phân phối đồng đều cho hầu hết các giá trị của i. Mã chính xác sẽ là<span class="t-v">(2)</span><sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup> </td> <td>Thực hiện quá tải</td>
</tr>
</table> <ol class="references"> <li id="cite_note-1"> <span class="reference-text">        // Một biến thể của C ++ 11 std :: Uniform_int_distribution thực hiện.<span class="t-v">(3)</span>    }</span> </li> </ol> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="next_permutation" title="cpp/algorithm/next permutation"> <span class="t-lines"><span>Được xác định trong tiêu đề</span></span></a></div> </td> <td>(C ++ 20)<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="prev_permutation" title="cpp/algorithm/prev permutation"> <span class="t-lines"><span>(Niebloid)</span></span></a></div> </td> <td>(C ++ 20)<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="ranges/shuffle" title="cpp/algorithm/ranges/shuffle"> <span class="t-lines"><span>(Mẫu chức năng)</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>(C ++ 20)<br/><span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/algorithm/random_shuffle">https://en.cppreference.com/w/cpp/algorithm/random_shuffle</a>
</p>
</div>
