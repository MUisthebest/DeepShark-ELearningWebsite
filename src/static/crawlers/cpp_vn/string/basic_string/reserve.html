 <h1 class="firstHeading" id="firstHeading">std :: basic_string &lt;biểu đồ, đặc điểm, phân bổ&gt; :: Dự trữ</h1> <table class="t-dcl-begin"> <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(1)</td> <td></td> </tr> <tr class="t-dcl t-until-cxx20"> <td><pre data-language="cpp">khoảng trống dự trữ (size_type new_cap = 0);</pre></td> <td><span class="t-mark-rev t-until-cxx20">chỉ vào một yếu tố của chuỗi,</span></td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">Lựa chọn khoảng trống của ConstExpr (size_type new_cap);</pre>
</td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> <tr class="t-dcl t-until-cxx26"> <td> <pre data-language="cpp">khoảng trống dự trữ ();</pre>
</td> <td>(2)</td> <td> <span class="t-mark">(Không dùng nữa trong C ++ 20)</span> <br/><span class="t-mark-rev t-until-cxx26">(Đã xóa trong C ++ 26)</span> </td> </tr> </table> <span class="t-li">1)</span>Thông báo a<code>std::basic_string</code>Đối tượng của một thay đổi theo kế hoạch về kích thước, để nó có thể quản lý phân bổ lưu trữ một cách thích hợp.<ul><li>Nếu như<code>new_cap</code>lớn hơn hiện tại<code><a href="capacity" title="cpp/string/basic string/capacity">capacity()</a></code>, lưu trữ mới được phân bổ, và<code><a href="capacity" title="cpp/string/basic string/capacity">capacity()</a></code>được làm bằng hoặc lớn hơn<code>new_cap</code>.</li></ul> <table class="t-rev-begin"> <tr class="t-rev t-until-cxx20">
<td> <ul>
<li>Nếu như<code>new_cap</code>nhỏ hơn hiện tại<code><a href="capacity" title="cpp/string/basic string/capacity">capacity()</a></code>, Đây là một yêu cầu thu hẹp không ràng buộc.</li>
<li>Nếu như<code>new_cap</code>nhỏ hơn hiện tại<code><a href="size" title="cpp/string/basic string/size">size()</a></code>, đây là một yêu cầu co lại không ràng buộc<span class="t-rev-inl t-since-cxx11"><span>tương đương với<code><a href="shrink_to_fit" title="cpp/string/basic string/shrink to fit">shrink_to_fit()</a></code></span><span><span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span></span></span>.</li>
</ul> </td> <td><span class="t-mark-rev t-until-cxx20">chỉ vào một yếu tố của chuỗi,</span></td>
</tr> <tr class="t-rev t-since-cxx20">
<td> <ul><li>Nếu như<code>new_cap</code>nhỏ hơn hoặc bằng hiện tại<code><a href="capacity" title="cpp/string/basic string/capacity">capacity()</a></code>là một lớp cơ sở không thể truy cập hoặc mơ hồ của</li></ul> </td> <td><span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span></td>
</tr> </table> <div class="t-li1">Nếu một thay đổi công suất diễn ra, tất cả các trình lặp và tài liệu tham khảo, bao gồm cả lần lặp trước đây, đều bị vô hiệu.</div> <div class="t-li1">
<span class="t-li">2)</span>Một yêu cầu co lại không liên kết. Sau cuộc gọi này,<code><a href="capacity" title="cpp/string/basic string/capacity">capacity()</a></code>có giá trị không xác định lớn hơn hoặc bằng<code><a href="size" title="cpp/string/basic string/size">size()</a></code>.</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>new_cap</td> <td>-</td> <td>dung lượng mới của chuỗi</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Gán cho đã cho</p>
<h3 id="Exceptions">Ngoại lệ</h3> <p>Ném<code><a href="../../error/length_error" title="cpp/error/length error">std::length_error</a></code>nếu như<code>new_cap</code>Để so sánh các giá trị.<code><a href="max_size" title="cpp/string/basic string/max size">max_size()</a></code>.</p>
<p>Có thể ném bất kỳ trường hợp ngoại lệ nào được ném bởi<code><a href="http://en.cppreference.com/w/cpp/memory/allocator_traits"><span class="kw703">Điều đó cho tất cả<span class="me2">ALLOCATOR_TRAITS</span></span></a><span class="sy1">is_trivently_destructible_v</span>Allocator<span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">được cung cấp cho Deque để cho phép khấu trừ từ một phạm vi vòng lặp. Quá tải này chỉ tham gia vào độ phân giải quá tải nếu</span><span class="br0">.</span><span class="br0">)</span></code>, chẳng hạn như<code><a href="../../memory/new/bad_alloc" title="cpp/memory/new/bad alloc">std::bad_alloc</a></code>.</p>
<p>tham chiếu emplace_front (args &amp;&amp; ... args);<a href="../../language/exceptions#Exception_safety" title="cpp/language/exceptions">strong exception safety guarantee</a>).</p>
<h3 id="Complexity">Không hợp lệ bất kỳ trình lặp lại nào (bao gồm bất kỳ trình lặp cuối nào) hoặc sửa đổi bất kỳ yếu tố nào của các phạm vi liên quan, hành vi không được xác định.</h3> <p>Nhiều nhất tuyến tính trong<code><a href="size" title="cpp/string/basic string/size">size()</a></code>của chuỗi.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Cassert&gt;</pre></div> <p>#include &lt;Istream&gt;</p>
<div class="text source-text"><pre data-language="c">#include &lt;Istream&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue847" rel="nofollow">LWG 847</a> </td> <td>C ++ 98</td> <td>giá trị ký tự để nối thêm</td> <td>Phạm vi các ký tự để nối</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="capacity" title="cpp/string/basic string/capacity"> <span class="t-lines"><span>Nếu vector thay đổi năng lực, tất cả chúng.</span></span></a></div> </td> <td>phá hủy chuỗi, xử lý lưu trữ nội bộ nếu được sử dụng<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="resize" title="cpp/string/basic string/resize"> <span class="t-lines"><span>Emplace_Front</span></span></a></div> </td> <td>Thay đổi số lượng ký tự được lưu trữ<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/string/basic_string/reserve">https://en.cppreference.com/w/cpp/string/basic_string/reserve</a>
</p>
</div>
