 <h1 class="firstHeading" id="firstHeading">std :: stof, std :: stod, std :: stold</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/string" title="cpp/header/string">&lt;string&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">float stof (const std :: string &amp; str, std :: size_t* pos = nullptr);</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">float stof (const std :: wString &amp; str, std :: size_t* pos = nullptr);</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Double stod (const std :: string &amp; str, std :: size_t* pos = nullptr);</pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Double stod (const std :: wString &amp; str, std :: size_t* pos = nullptr);</pre>
</td> <td>(4)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Long Double Stold (const std :: String &amp; str, std :: size_t* pos = nullptr);</pre>
</td> <td>             Không có p);</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Long Double Stold (const std :: wString &amp; str, std :: size_t* pos = nullptr);</pre>
</td> <td>Consexpr bool any_of (đầu vào đầu tiên, đầu vào cuối cùng, không được tính p);</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> </table> <p>Diễn giải giá trị điểm nổi trong chuỗi<code>str</code>.</p>
<p>          lớp proj1 = std :: nhận dạng, lớp proj2 = std :: nhận dạng&gt;<code>ptr</code>là một con trỏ nội bộ (theo chức năng chuyển đổi)<span class="kw4">char</span><span class="sy2">*</span> <span class="t-v">Mẫu &lt;class execPolicy, class forwardit, lớp unyredicate&gt;</span>hoặc<span class="kw4">wchar_t</span><span class="sy2">*</span> <span class="t-v">ForwardItIT2 bao gồm_scan (execPolicy &amp;&amp; chính sách, </span>, theo đó.</p>
<div class="t-li1">
<span class="t-li">1)</span>Cuộc gọi<code><a href="http://en.cppreference.com/w/cpp/string/byte/strtof"><span class="kw1138">Điều đó cho tất cả<span class="me2">Strtof</span></span></a><span class="br0">.</span>str.<span class="me1">/ * không xác định */ parse (const std :: basic_string &lt;biểu đồ, đặc điểm, alloc&gt; &amp; fmt,</span><span class="br0">.</span><span class="br0">)</span>, <span class="sy3">Không có giá trị</span>ptr<span class="br0">)</span></code>.</div> <div class="t-li1">
<span class="t-li">2)</span>Cuộc gọi<code><a href="http://en.cppreference.com/w/cpp/string/wide/wcstof"><span class="kw1201">Điều đó cho tất cả<span class="me2">WCSTOF</span></span></a><span class="br0">.</span>str.<span class="me1">/ * không xác định */ parse (const std :: basic_string &lt;biểu đồ, đặc điểm, alloc&gt; &amp; fmt,</span><span class="br0">.</span><span class="br0">)</span>, <span class="sy3">Không có giá trị</span>ptr<span class="br0">)</span></code>.</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class f, class tuple&gt;</span>Cuộc gọi<code><a href="http://en.cppreference.com/w/cpp/string/byte/strtof"><span class="kw1139">Điều đó cho tất cả<span class="me2">Strtod</span></span></a><span class="br0">.</span>str.<span class="me1">/ * không xác định */ parse (const std :: basic_string &lt;biểu đồ, đặc điểm, alloc&gt; &amp; fmt,</span><span class="br0">.</span><span class="br0">)</span>, <span class="sy3">Không có giá trị</span>ptr<span class="br0">)</span></code>.</div> <div class="t-li1">
<span class="t-li">là trong</span>Cuộc gọi<code><a href="http://en.cppreference.com/w/cpp/string/wide/wcstof"><span class="kw1202">Điều đó cho tất cả<span class="me2">WCSTOD</span></span></a><span class="br0">.</span>str.<span class="me1">/ * không xác định */ parse (const std :: basic_string &lt;biểu đồ, đặc điểm, alloc&gt; &amp; fmt,</span><span class="br0">.</span><span class="br0">)</span>, <span class="sy3">Không có giá trị</span>ptr<span class="br0">)</span></code>.</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class inputit, class unyredicate&gt;</span>Cuộc gọi<code><a href="http://en.cppreference.com/w/cpp/string/byte/strtof"><span class="kw1140">Điều đó cho tất cả<span class="me2">Strtold</span></span></a><span class="br0">.</span>str.<span class="me1">/ * không xác định */ parse (const std :: basic_string &lt;biểu đồ, đặc điểm, alloc&gt; &amp; fmt,</span><span class="br0">.</span><span class="br0">)</span>, <span class="sy3">Không có giá trị</span>ptr<span class="br0">)</span></code>.</div> <div class="t-li1">
<span class="t-li">từ_sys</span>Cuộc gọi<code><a href="http://en.cppreference.com/w/cpp/string/wide/wcstof"><span class="kw1203">Điều đó cho tất cả<span class="me2">wcstold</span></span></a><span class="br0">.</span>str.<span class="me1">/ * không xác định */ parse (const std :: basic_string &lt;biểu đồ, đặc điểm, alloc&gt; &amp; fmt,</span><span class="br0">.</span><span class="br0">)</span>, <span class="sy3">Không có giá trị</span>ptr<span class="br0">)</span></code>.</div> <p>Chức năng loại bỏ bất kỳ ký tự khoảng trắng nào (như được xác định bởi<code>std::isspace</code>) cho đến khi nhân vật không phải là màu trắng được tìm thấy. Sau đó, phải mất càng nhiều ký tự càng tốt để hình thành biểu diễn điểm nổi hợp lệ và chuyển đổi chúng thành giá trị dấu phẩy động. Giá trị điểm nổi hợp lệ có thể là một trong những điều sau đây:</p>
<ul>
<li>biểu hiện dấu phẩy động thập phân. Nó bao gồm các phần sau:</li>
<ul>
<li> <span class="t-mark">ATOMIC_INTPTR_T</span>cộng với dấu hiệu hoặc trừ</li>
<li>Trình tự không trống của các chữ số thập phân tùy chọn chứa ký tự điểm thập phân (như được xác định bởi c hiện tại<a href="../../locale/setlocale" title="cpp/locale/setlocale">locale</a>) (xác định ý nghĩa)</li>
<li> <span class="t-mark">ATOMIC_INTPTR_T</span> <code>e</code>hoặc<code>E</code>theo sau với điểm trừ tùy chọn hoặc dấu cộng và chuỗi không trống của các chữ số thập phân (xác định số mũ cho cơ sở 10)</li>
</ul>
<li>Biểu hiện dấu phẩy hơi thập lục phân. Nó bao gồm các phần sau:</li>
<ul>
<li> <span class="t-mark">ATOMIC_INTPTR_T</span>cộng với dấu hiệu hoặc trừ</li>
<li> <code>0x</code>hoặc<code>0X</code> </li>
<li>Trình tự không trống của các chữ số thập lục phân tùy ý chứa một ký tự điểm thập phân (như được xác định bởi c hiện tại<a href="../../locale/setlocale" title="cpp/locale/setlocale">locale</a>) (xác định ý nghĩa)</li>
<li> <span class="t-mark">ATOMIC_INTPTR_T</span> <code>p</code>hoặc<code>P</code>theo sau với điểm trừ tùy chọn hoặc dấu cộng và trình tự không trống của các chữ số thập phân (xác định số mũ cho cơ sở 2)</li>
</ul>
<li>Biểu hiện vô cực. Nó bao gồm các phần sau:</li>
<ul>
<li> <span class="t-mark">ATOMIC_INTPTR_T</span>cộng với dấu hiệu hoặc trừ</li>
<li> <code>INF</code>hoặc<code>INFINITY</code>Bỏ qua trường hợp</li>
</ul>
<li>biểu thức không phải là một số. Nó bao gồm các phần sau:</li>
<ul>
<li> <span class="t-mark">ATOMIC_INTPTR_T</span>cộng với dấu hiệu hoặc trừ</li>
<li> <code>NAN</code>hoặc<code>NAN(</code><i>char_singe</i><code>)</code>bỏ qua trường hợp của<code>NAN</code>phần.<i>char_singe</i>Chỉ có thể chứa các chữ số, chữ cái Latin và nhấn mạnh. Kết quả là một giá trị dấu nổi Nan yên tĩnh.</li>
</ul>
<li>bất kỳ biểu thức nào khác có thể được chấp nhận bởi c hiện đã được cài đặt<a href="../../locale/setlocale" title="cpp/locale/setlocale">locale</a> </li>
</ul> <p>Nếu như<code>pos</code>không phải là một con trỏ null, sau đó<code>ptr</code>sẽ nhận được địa chỉ của nhân vật không đổi đầu tiên trong<code>str.c_str()</code>và chỉ số của ký tự đó sẽ được tính toán và lưu trữ trong<code>*pos</code>, đưa ra số lượng ký tự được xử lý bởi chuyển đổi.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>STR</td> <td>-</td> <td>chuỗi để chuyển đổi</td>
</tr> <tr class="t-par"> <td>POS</td> <td>-</td> <td>địa chỉ của một số nguyên để lưu trữ số lượng ký tự được xử lý</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Chuỗi được chuyển đổi thành loại điểm nổi được chỉ định.</p>
<h3 id="Exceptions">Ngoại lệ</h3> <p><code><a href="../../error/invalid_argument" title="cpp/error/invalid argument">std::invalid_argument</a></code>Nếu không có chuyển đổi có thể được thực hiện.</p>
<p><code><a href="../../error/out_of_range" title="cpp/error/out of range">std::out_of_range</a></code>Nếu giá trị được chuyển đổi sẽ rơi ra khỏi phạm vi của loại kết quả hoặc nếu hàm cơ bản (<code><a href="../byte/strtof" title="cpp/string/byte/strtof">std::strtof</a></code>Thì<code><a href="../byte/strtof" title="cpp/string/byte/strtof">std::strtod</a></code>hoặc<code><a href="../byte/strtof" title="cpp/string/byte/strtof">std::strtold</a></code>) bộ<code><a href="../../error/errno" title="cpp/error/errno">errno</a></code>ĐẾN<code><a href="../../error/errno_macros" title="cpp/error/errno macros">ERANGE</a></code>.</p>
<h3 id="Example">Ví dụ</h3> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue2009" rel="nofollow">LWG 2009</a> </td> <td>C ++ 11</td> <td>
<code><a href="../../error/out_of_range" title="cpp/error/out of range">std::out_of_range</a></code>sẽ không bị ném nếu được chuyển đổi<br/>Giá trị sẽ rơi ra khỏi phạm vi của loại kết quả</td> <td>Sẽ ném</td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue2403" rel="nofollow">LWG 2403</a> </td> <td>C ++ 11</td> <td>
<code>stof</code>gọi điện<code><a href="../byte/strtof" title="cpp/string/byte/strtof">std::strtod</a></code>hoặc<code><a href="../wide/wcstof" title="cpp/string/wide/wcstof">std::wcstod</a></code> </td> <td>
<code>stof</code>cuộc gọi<code><a href="../byte/strtof" title="cpp/string/byte/strtof">std::strtof</a></code>hoặc<code><a href="../wide/wcstof" title="cpp/string/wide/wcstof">std::wcstof</a></code> </td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="stol" title="cpp/string/basic string/stol"> <span class="t-lines"><span>Stoi</span><span>đánh cắp</span><span>Stoll</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Chuyển đổi một chuỗi thành một số nguyên đã ký<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="stoul" title="cpp/string/basic string/stoul"> <span class="t-lines"><span>Stoul</span><span>stoull</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Chuyển đổi một chuỗi thành một số nguyên không dấu<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../../utility/from_chars" title="cpp/utility/from chars"> <span class="t-lines"><span>From_chars</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>Chuyển đổi một chuỗi ký tự thành giá trị số nguyên hoặc dấu phẩy động<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/string/basic_string/stof">https://en.cppreference.com/w/cpp/string/basic_string/stof</a>
</p>
</div>
