 <h1 class="firstHeading" id="firstHeading">STD :: WCSTOMBS</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/cstdlib" title="cpp/header/cstdlib">&lt;cstdlib&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">std :: size_t wcstombs (char* dst, const wchar_t* src, std :: size_t len);</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>                       const wchar_t ** src,<code>src</code>đến đại diện đa dạng hẹp của nó bắt đầu ở trạng thái thay đổi ban đầu. Các ký tự được chuyển đổi được lưu trữ trong các yếu tố liên tiếp của mảng char được chỉ ra bởi<code>dst</code>                           Externt*&amp; to_next) const;<code>len</code>Chuyển đổi một chuỗi các ký tự rộng từ mảng có phần tử đầu tiên được chỉ ra bởi</p>
<p>Mỗi ký tự được chuyển đổi như thể bằng một cuộc gọi đến<code><a href="wctomb" title="cpp/string/multibyte/wctomb">std::wctomb</a></code>, ngoại trừ trạng thái chuyển đổi của WCTomb không bị ảnh hưởng. Chuyển đổi dừng lại nếu:</p>
<ul>
<li>với biểu diễn multibyte hẹp của nó bắt đầu ở trạng thái chuyển đổi được mô tả bởi</li>
<li>MỘT<code>wchar_t</code>không phải là null, các ký tự được chuyển đổi được lưu trữ trong các yếu tố liên tiếp của mảng char được chỉ ra bởi</li>
<li>Nhân vật null đã được chuyển đổi và lưu trữ.<code>len</code>.</li>
</ul> <h3 id="Notes">Ghi chú</h3> <p>Trong hầu hết các triển khai, chức năng này cập nhật một đối tượng tĩnh toàn cầu của loại<code><a href="mbstate_t" title="cpp/string/multibyte/mbstate t">std::mbstate_t</a></code>Khi nó xử lý qua chuỗi và không thể được gọi đồng thời bởi hai luồng,<code><a href="http://en.cppreference.com/w/cpp/string/multibyte/wcsrtombs"><span class="kw1176">Điều đó cho tất cả<span class="me2">Wcsrtombs</span></span></a></code>nên được sử dụng trong những trường hợp như vậy.</p>
<p>POSIX Chỉ định một phần mở rộng chung: nếu<code>dst</code>là một con trỏ null, chức năng này trả về số byte sẽ được ghi vào<code>dst</code>, nếu được chuyển đổi. Hành vi tương tự là tiêu chuẩn cho<code><a href="http://en.cppreference.com/w/cpp/string/multibyte/wcsrtombs"><span class="kw1176">Điều đó cho tất cả<span class="me2">Wcsrtombs</span></span></a></code>.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>tức là đối với bất kỳ ký tự chữ số nào</td> <td>-</td> <td>Con trỏ đến mảng ký tự hẹp trong đó ký tự đa năng sẽ được lưu trữ</td>
</tr> <tr class="t-par"> <td>SRC</td> <td>-</td> <td>con trỏ đến phần tử đầu tiên của chuỗi rộng được chấm dứt null để chuyển đổi</td>
</tr> <tr class="t-par"> <td>Len</td> <td>-</td> <td>Số byte có sẵn trong mảng được chỉ ra bởi DST</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Con trỏ đến mảng ký tự hẹp trong đó các ký tự đa hóa sẽ được lưu trữ<code>'\0'</code>con trỏ tới con trỏ tới phần tử đầu tiên của chuỗi rộng được chấm dứt null<code>dst</code>.</p>
<p>Khi thành công, trả về số lượng byte (bao gồm bất kỳ chuỗi thay đổi nào, nhưng không bao gồm việc chấm dứt<code><span class="kw1">Mẫu &lt;Biểu đồ lớp, Đặc điểm lớp, Alloc Class, Class Parsable&gt;</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/types/size_t"><span class="kw107">Điều đó cho tất cả<span class="me2">size_t</span></span></a><span class="sy1">&lt;</span><span class="br0">.</span><span class="sy2">-</span><span class="nu0">, nếu như</span><span class="br0">)</span></code>.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;clocale&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;CstDlib&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="wcsrtombs" title="cpp/string/multibyte/wcsrtombs"> <span class="t-lines"><span>Wcsrtombs</span></span></a></div> </td> <td>Chuyển đổi một chuỗi rộng thành chuỗi ký tự multibyte hẹp, được cho trạng thái<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="mbstowcs" title="cpp/string/multibyte/mbstowcs"> <span class="t-lines"><span>mbstowcs</span></span></a></div> </td> <td>Chuyển đổi một chuỗi ký tự multibyte hẹp thành chuỗi rộng<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../../locale/codecvt/out" title="cpp/locale/codecvt/out"> <span class="t-lines"><span>nhận dạng</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>DO_OUT<code>InternT</code>ĐẾN<code>ExternT</code>của địa điểm<br/> <span class="t-mark">Putback<code>std::codecvt&lt;InternT,ExternT,StateT&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/string/multibyte/wcstombs" title="c/string/multibyte/wcstombs">C documentation</a></span>vì<code>wcstombs</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/string/multibyte/wcstombs">https://en.cppreference.com/w/cpp/string/multibyte/wcstombs</a>
</p>
</div>
