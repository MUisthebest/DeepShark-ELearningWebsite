 <h1 class="firstHeading" id="firstHeading">STD :: MBSRTOWCS</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/cwchar" title="cpp/header/cwchar">&lt;cwchar&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">std :: size_t mbsrtowcs (wchar_t* dst,</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>                       const char ** src,<code>*ps</code>                       std :: size_t len,<code>*src</code>                       std :: mbstate_t* ps);<code>dst</code>Chuyển đổi trình tự ký tự multibyte kết thúc null, bắt đầu ở trạng thái chuyển đổi được mô tả bởi<code>dst</code>                           Externt*&amp; to_next) const;<code>len</code>, từ mảng có phần tử đầu tiên được chỉ ra bởi</p>
<p>đến đại diện nhân vật rộng của nó. Nếu như<code><a href="mbrtowc" title="cpp/string/multibyte/mbrtowc">std::mbrtowc</a></code>không phải là null, các ký tự được chuyển đổi được lưu trữ trong các phần tử liên tiếp của mảng wchar_t được chỉ ra bởi</p>
<ul>
<li>Các ký tự rộng được viết vào mảng đích.<code>src</code>Mỗi ký tự đa hóa được chuyển đổi như thể bằng một cuộc gọi đến<code>*ps</code>là một con trỏ null, các giá trị của</li>
<li>. Chuyển đổi dừng lại nếu:<code>src</code>Nhân vật NULL đa dạng đã được chuyển đổi và lưu trữ.</li>
<li>được đặt thành một con trỏ null và<code>len</code>.<code>src</code>Một ký tự đa dạng không hợp lệ (theo ngôn ngữ C hiện tại) đã gặp phải.<code>dst</code>là một con trỏ null.</li>
</ul> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>tức là đối với bất kỳ ký tự chữ số nào</td> <td>-</td> <td>được đặt để chỉ vào đầu của ký tự đa dạng không được chuyển đổi đầu tiên.</td>
</tr> <tr class="t-par"> <td>SRC</td> <td>-</td> <td>Nhân vật rộng tiếp theo được lưu trữ sẽ vượt quá</td>
</tr> <tr class="t-par"> <td>Len</td> <td>-</td> <td>được đặt để chỉ vào đầu của ký tự đa dạng không được chuyển đổi đầu tiên. Điều kiện này không được kiểm tra nếu</td>
</tr> <tr class="t-par"> <td>PS</td> <td>-</td> <td>Con trỏ đến mảng ký tự rộng nơi kết quả sẽ được lưu trữ</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Con trỏ tới con trỏ tới phần tử đầu tiên của chuỗi đa loại được chấm dứt NULL<code>L'\0'</code>Số lượng ký tự rộng có sẵn trong mảng được chỉ ra bởi DST<code>dst</code>Con trỏ đến đối tượng trạng thái chuyển đổi</p>
<p>Khi thành công, trả lại số lượng ký tự rộng, không bao gồm việc chấm dứt<code><span class="kw1">Mẫu &lt;Biểu đồ lớp, Đặc điểm lớp, Alloc Class, Class Parsable&gt;</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/types/size_t"><span class="kw107">Điều đó cho tất cả<span class="me2">size_t</span></span></a><span class="sy1">&lt;</span><span class="br0">.</span><span class="sy2">-</span><span class="nu0">, nếu như</span><span class="br0">)</span></code>, cửa hàng<code><a href="../../error/errno_macros" title="cpp/error/errno macros">EILSEQ</a></code>TRONG<code><a href="../../error/errno" title="cpp/error/errno">errno</a></code>, và lá<code>*ps</code>Ở trạng thái không xác định.</p>
<h3 id="Notes">Ghi chú</h3> <p>, được viết vào mảng ký tự. Nếu như<code>src</code>là một con trỏ NULL, trả về số lượng các ký tự rộng sẽ được viết cho độ dài không giới hạn.<code>dst</code>là một con trỏ null.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">Về lỗi chuyển đổi (nếu gặp ký tự đa không hợp lệ), hãy trả về</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">Chức năng này di chuyển</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="mbrtowc" title="cpp/string/multibyte/mbrtowc"> <span class="t-lines"><span>mbrtowc</span></span></a></div> </td> <td>Chuyển đổi ký tự đa năng tiếp theo thành ký tự rộng, được đưa ra trạng thái<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="wcsrtombs" title="cpp/string/multibyte/wcsrtombs"> <span class="t-lines"><span>Wcsrtombs</span></span></a></div> </td> <td>Chuyển đổi một chuỗi rộng thành chuỗi ký tự multibyte hẹp, được cho trạng thái<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../../locale/codecvt/in" title="cpp/locale/codecvt/in"> <span class="t-lines"><span>phá hủy một khía cạnh codecvt</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>DO_OUT<code>ExternT</code>ĐẾN<code>InternT</code>Chuyển đổi một chuỗi từ<br/> <span class="t-mark">Putback<code>std::codecvt&lt;InternT,ExternT,StateT&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/string/multibyte/mbsrtowcs" title="c/string/multibyte/mbsrtowcs">C documentation</a></span>vì<code>mbsrtowcs</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/string/multibyte/mbsrtowcs">https://en.cppreference.com/w/cpp/string/multibyte/mbsrtowcs</a>
</p>
</div>
