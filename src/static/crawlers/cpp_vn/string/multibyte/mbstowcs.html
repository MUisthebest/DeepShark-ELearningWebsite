 <h1 class="firstHeading" id="firstHeading">STD :: MBSTOWCS</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/cstdlib" title="cpp/header/cstdlib">&lt;cstdlib&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">std :: size_t mbstowcs (wchar_t* dst, const char* src, std :: size_t len);</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Chuyển đổi một chuỗi ký tự multibyte từ mảng có phần tử đầu tiên được chỉ ra bởi<code>src</code>đến đại diện nhân vật rộng của nó. Các ký tự được chuyển đổi được lưu trữ trong các phần tử liên tiếp của mảng được trỏ đến bởi<code>dst</code>                           Externt*&amp; to_next) const;<code>len</code>, từ mảng có phần tử đầu tiên được chỉ ra bởi</p>
<p>Mỗi ký tự được chuyển đổi như thể bằng một cuộc gọi đến<code><a href="mbtowc" title="cpp/string/multibyte/mbtowc">std::mbtowc</a></code>, ngoại trừ trạng thái chuyển đổi MBTOWC không bị ảnh hưởng. Chuyển đổi dừng lại nếu:</p>
<ul>
<li>Các ký tự rộng được viết vào mảng đích.</li>
<li>Một ký tự Multibyte không hợp lệ (trong c locale hiện tại) đã gặp phải.</li>
<li>được đặt thành một con trỏ null và<code>len</code>.</li>
</ul> <h3 id="Notes">Ghi chú</h3> <p>Trong hầu hết các triển khai, chức năng này cập nhật một đối tượng tĩnh toàn cầu của loại<code><a href="mbstate_t" title="cpp/string/multibyte/mbstate t">std::mbstate_t</a></code>Khi nó xử lý qua chuỗi và không thể được gọi đồng thời bởi hai luồng,<code><a href="mbsrtowcs" title="cpp/string/multibyte/mbsrtowcs">std::mbsrtowcs</a></code>nên được sử dụng trong những trường hợp như vậy.</p>
<p>POSIX Chỉ định một phần mở rộng chung: nếu<code>dst</code>là một con trỏ null, chức năng này trả về số lượng ký tự rộng sẽ được ghi vào<code>dst</code>, nếu được chuyển đổi. Hành vi tương tự là tiêu chuẩn cho<code><a href="mbsrtowcs" title="cpp/string/multibyte/mbsrtowcs">std::mbsrtowcs</a></code>.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>tức là đối với bất kỳ ký tự chữ số nào</td> <td>-</td> <td>Con trỏ đến mảng ký tự rộng nơi chuỗi rộng sẽ được lưu trữ</td>
</tr> <tr class="t-par"> <td>SRC</td> <td>-</td> <td>con trỏ đến phần tử đầu tiên của chuỗi đa loại được chấm dứt null để chuyển đổi</td>
</tr> <tr class="t-par"> <td>Len</td> <td>-</td> <td>được đặt để chỉ vào đầu của ký tự đa dạng không được chuyển đổi đầu tiên. Điều kiện này không được kiểm tra nếu</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Con trỏ tới con trỏ tới phần tử đầu tiên của chuỗi đa loại được chấm dứt NULL<code>L'\0'</code>, được viết vào mảng đích.</p>
<p>Khi thành công, trả lại số lượng ký tự rộng, không bao gồm việc chấm dứt<code><span class="kw1">Mẫu &lt;Biểu đồ lớp, Đặc điểm lớp, Alloc Class, Class Parsable&gt;</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/types/size_t"><span class="kw107">Điều đó cho tất cả<span class="me2">size_t</span></span></a><span class="sy1">&lt;</span> <span class="br0">.</span><span class="sy2">-</span><span class="nu0">, nếu như</span><span class="br0">)</span></code>.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;clocale&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;CstDlib&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="mbsrtowcs" title="cpp/string/multibyte/mbsrtowcs"> <span class="t-lines"><span>mbsrtowcs</span></span></a></div> </td> <td>Chuyển đổi một chuỗi ký tự multibyte hẹp thành chuỗi rộng, trạng thái được cho<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="wcstombs" title="cpp/string/multibyte/wcstombs"> <span class="t-lines"><span>wcstombs</span></span></a></div> </td> <td>Chuyển đổi một chuỗi rộng thành chuỗi ký tự multibyte hẹp<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../../locale/codecvt/in" title="cpp/locale/codecvt/in"> <span class="t-lines"><span>phá hủy một khía cạnh codecvt</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>DO_OUT<code>ExternT</code>ĐẾN<code>InternT</code>Chuyển đổi một chuỗi từ<br/> <span class="t-mark">Putback<code>std::codecvt&lt;InternT,ExternT,StateT&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/string/multibyte/mbstowcs" title="c/string/multibyte/mbstowcs">C documentation</a></span>vì<code>mbstowcs</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/string/multibyte/mbstowcs">https://en.cppreference.com/w/cpp/string/multibyte/mbstowcs</a>
</p>
</div>
