 <h1 class="firstHeading" id="firstHeading">STD :: C8rtomb</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/cuchar" title="cpp/header/cuchar">&lt;cuchar&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">std :: size_t c8rtomb (char* s, char8_t c8, std :: mbstate_t* ps);</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> </table> <p>Chuyển đổi một điểm mã duy nhất từ ​​UTF-8 thành biểu diễn ký tự multibyte hẹp.</p>
<p>Nếu như<code>s</code>không phải là một con trỏ null và<code>c8</code>đơn vị mã cuối cùng trong mã hóa UTF-8 hợp lệ của một điểm mã, hàm xác định số lượng byte cần thiết để lưu trữ biểu diễn ký tự đa<code>*ps</code>) và lưu trữ biểu diễn ký tự đa nhân trong mảng ký tự có phần tử đầu tiên được chỉ ra bởi<code>s</code>, cập nhật<code>*ps</code>khi cần thiết. Nhiều nhất<code>MB_CUR_MAX</code>Byte có thể được viết bởi chức năng này.</p>
<p>Nếu như<code>c8</code>không phải là đơn vị mã UTF-8 cuối cùng trong một biểu diễn của điểm mã, hàm không ghi vào mảng được trỏ bởi<code>s</code>, chỉ một<code>*ps</code>được cập nhật.</p>
<p>Nếu như<code>s</code>là một con trỏ null, cuộc gọi tương đương với<code>std::c8rtomb(buf, u8'\0', ps)</code>Đối với một số bộ đệm nội bộ<code>buf</code>.</p>
<p>Nếu như<code>c8</code>là nhân vật null<code>u8'\0'</code>, một byte null được lưu trữ, trước bất kỳ chuỗi dịch chuyển nào cần thiết để khôi phục trạng thái dịch chuyển ban đầu và tham số trạng thái chuyển đổi<code>*ps</code>được cập nhật để đại diện cho trạng thái thay đổi ban đầu.</p>
<p>Mã hóa đa dạng được sử dụng bởi chức năng này được chỉ định bởi locle C hiện đang hoạt động.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>S</td> <td>-</td> <td>Con trỏ đến mảng ký tự hẹp trong đó ký tự đa năng sẽ được lưu trữ</td>
</tr> <tr class="t-par"> <td>C8</td> <td>-</td> <td>Đơn vị mã UTF-8 để chuyển đổi</td>
</tr> <tr class="t-par"> <td>PS</td> <td>-</td> <td>con trỏ đến đối tượng trạng thái chuyển đổi được sử dụng khi diễn giải chuỗi đa</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Số lượng byte được lưu trữ trong đối tượng mảng (bao gồm bất kỳ chuỗi dịch chuyển nào). Điều này có thể bằng không khi<code>c8</code>không phải là đơn vị mã cuối cùng trong biểu diễn UTF-8 của điểm mã.</p>
<p>Nếu như<code>c8</code>không hợp lệ (không đóng góp cho một chuỗi<code>char8_t</code>tương ứng với ký tự đa hóa hợp lệ), giá trị của macro<code><a href="../../error/errno_macros" title="cpp/error/errno macros">EILSEQ</a></code>được lưu trữ trong<code><a href="../../error/errno" title="cpp/error/errno">errno</a></code>Thì<code><span class="kw1">Mẫu &lt;Biểu đồ lớp, Đặc điểm lớp, Alloc Class, Class Parsable&gt;</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/types/size_t"><span class="kw107">Điều đó cho tất cả<span class="me2">size_t</span></span></a><span class="sy1">&lt;</span><span class="br0">.</span><span class="sy2">-</span><span class="nu0">, nếu như</span><span class="br0">)</span></code>được trả lại, và trạng thái chuyển đổi không được xác định.</p>
<h3 id="Notes">Ghi chú</h3> <p>Cấu trúc container với nội dung của phạm vi<code>c8rtomb</code>với một đối số con trỏ null cho<code>s</code>có thể giới thiệu một cuộc đua dữ liệu với các cuộc gọi khác đến<code>c8rtomb</code>với một đối số con trỏ null cho<code>s</code>.</p>
<h3 id="Example">Ví dụ</h3> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="mbrtoc8" title="cpp/string/multibyte/mbrtoc8"> <span class="t-lines"><span>MBRTOC8</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>Chuyển đổi một ký tự multibyte hẹp thành mã hóa UTF-8<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/string/multibyte/c8rtomb" title="c/string/multibyte/c8rtomb">C documentation</a></span>vì<code>c8rtomb</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/string/multibyte/c8rtomb">https://en.cppreference.com/w/cpp/string/multibyte/c8rtomb</a>
</p>
</div>
