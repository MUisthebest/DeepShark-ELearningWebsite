 <h1 class="firstHeading" id="firstHeading">ATOMIC_VAR_INIT</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/atomic" title="cpp/header/atomic">&lt;atomic&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">#Define Atomic_var_init (giá trị) / * Xác định triển khai * / /</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> <br/><span class="t-mark">(Không dùng nữa trong C ++ 20)</span> </td> </tr> </table> <p>Mở rộng thành một biểu thức có thể được sử dụng để khởi tạo<code><a href="atomic" title="cpp/atomic/atomic">std::atomic</a></code>đối tượng có thể được khởi tạo từ<code>value</code>. Nếu đối tượng nguyên tử có thời lượng lưu trữ tĩnh, việc khởi tạo này là<a href="../language/constant_initialization" title="cpp/language/constant initialization">constant initialization</a>.</p>
<h3 id="Notes">Ghi chú</h3> <p>Truy cập biến trong quá trình khởi tạo từ một luồng khác, ngay cả thông qua hoạt động nguyên tử, là một cuộc đua dữ liệu (nó có thể xảy ra nếu địa chỉ được chuyển ngay cho một luồng khác với một luồng<code><a href="memory_order" title="cpp/atomic/memory order">std::memory_order_relaxed</a></code>hoạt động)</p>
<p>Macro này chủ yếu được cung cấp để tương thích với C; nó hoạt động giống như người xây dựng<code><a href="atomic" title="cpp/atomic/atomic">std::atomic</a></code>.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Atomic&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Istream&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="atomic_init" title="cpp/atomic/atomic init"> <span class="t-lines"><span>Atomic_init</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span><span class="t-mark-rev t-deprecated-cxx20">(Không dùng nữa trong C ++ 20)</span></span></span></div> </td> <td>Khởi tạo không nguyên tử của đối tượng nguyên tử được xây dựng mặc định<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="atomic/atomic" title="cpp/atomic/atomic/atomic"> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>(Chỉ dành cho<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::atomic&lt;T&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/atomic/ATOMIC_VAR_INIT" title="c/atomic/ATOMIC VAR INIT">C documentation</a></span>vì<code>ATOMIC_VAR_INIT</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/atomic/ATOMIC_VAR_INIT">https://en.cppreference.com/w/cpp/atomic/ATOMIC_VAR_INIT</a>
</p>
</div>
