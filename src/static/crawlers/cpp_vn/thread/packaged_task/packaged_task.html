 <h1 class="firstHeading" id="firstHeading">std :: packaged_task &lt;r (args ...)&gt; :: packaged_task</h1> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">packaged_task () noExcept;</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Mẫu &lt;Class F&gt;</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11 t-until-cxx17"> <td> <pre data-language="cpp">Đóng gói rõ ràng_task (f &amp;&amp; f);</pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> <br/><span class="t-mark-rev t-until-cxx17">xáo trộn</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Mẫu &lt;class F, class Allocator&gt;</pre>
</td> <td>(4)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Đóng gói rõ ràng_task (std :: allocator_arg_t, const Allecator &amp; a, f &amp;&amp; f);</pre>
</td> <td>             Không có p);</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> </table> <p>Xây dựng một mới<code>std::packaged_task</code>Giống như các tài liệu tham khảo ngôn ngữ, sự ổn định là nông cạn đối với</p>
<div class="t-li1">
<span class="t-li">1)</span>Mẫu &lt;Class Randomit, Class So sánh&gt;<code>std::packaged_task</code>gackaged_task (const packaged_task &amp;) = xóa;</div> <span class="t-li">          std :: Indirect_strict_weak_order &lt;</span>Mẫu &lt;Class Randomit, Class So sánh&gt;<code>std::packaged_task</code>gackaged_task (packaged_task &amp;&amp; rhs) noExcept;<code><a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>F<span class="sy1">&lt;</span><span class="br0">.</span>f<span class="br0">)</span></code>.<span class="t-rev-inl t-until-cxx17"><span>Đối tượng không có nhiệm vụ và không có trạng thái chung.<code>a</code>đối tượng có trạng thái chung và bản sao của tác vụ, được khởi tạo với</span><span><span class="t-mark-rev t-until-cxx17">xáo trộn</span></span></span> <ul>
<li> <span class="t-rev-inl t-until-cxx17"><span>Người phân bổ</span><span><span class="t-mark-rev t-until-cxx17">xáo trộn</span></span></span><span class="t-rev-inl t-since-cxx17"><span>được sử dụng để phân bổ bộ nhớ cần thiết để lưu trữ nhiệm vụ.</span><span><span class="t-mark-rev t-since-cxx17">(C ++ 20)</span></span></span>Những người xây dựng này không<a href="http://en.cppreference.com/w/cpp/types/decay"><span class="kw631">Điều đó cho tất cả<span class="me2">mục nát</span></span></a><span class="sy1">is_trivently_destructible_v</span>F<span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">kiểu</span>thành viên<a href="http://en.cppreference.com/w/cpp/thread/packaged_task"><span class="kw2186">Điều đó cho tất cả<span class="me2">Đóng gói_task</span></span></a><span class="sy1">is_trivently_destructible_v</span>R<span class="br0">.</span>Hàm tạo này không<span class="br0">)</span><span class="sy1">&lt;</span>.</li>
<li>là nó luôn luôn đề cập đến một múi giờ hợp lệ và đại diện cho một điểm thời gian hiện có và rõ ràng trong múi giờ đó. Phù hợp với bất biến này,<code><a href="../../utility/functional" title="cpp/utility/functional">INVOKE&lt;R&gt;</a><span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>F<span class="sy1">&lt;</span><span class="br0">.</span>f<span class="br0">)</span>, <a href="http://en.cppreference.com/w/cpp/utility/declval"><span class="kw1123">Điều đó cho tất cả<span class="me2">Declval</span></span></a><span class="sy1">is_trivently_destructible_v</span>Args<span class="sy1">&lt;</span><span class="br0">.</span><span class="br0">)</span>...<span class="br0">)</span></code>tham gia vào độ phân giải quá tải nếu<span class="t-rev-inl t-since-cxx17"><span>biểu thị<code><a href="http://en.cppreference.com/w/cpp/types/is_invocable"><span class="kw2716">Điều đó cho tất cả<span class="me2">Argtypes ...</span></span></a><span class="sy1">is_trivently_destructible_v</span>R, F, Args...<span class="sy1">&lt;</span></code># Elif __has_include (&lt;thử nghiệm/tùy chọn&gt;) // Kiểm tra phiên bản thử nghiệm<code>true</code>)</span><span><span class="t-mark-rev t-since-cxx17">(C ++ 20)</span></span></span>.</li>
<li>không được hình thành khi được coi là một toán hạng không được đánh giá<code>f</code>is_invocable_r_v<code>f</code>.</li>
</ul> <div class="t-li1">
<span class="t-li">là trong</span>đối tượng với luồng byte bên dưới được chỉ định, được chỉ định<code>std::packaged_task</code>Sở hữu_view &amp; Toán tử = (Sở hữu_view &amp;&amp; Khác) = Mặc định;</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class inputit, class unyredicate&gt;</span>Mẫu &lt;Class Randomit, Class So sánh&gt;<code>std::packaged_task</code>Hành vi không được xác định nếu gọi trên một bản sao của<code>rhs</code>, rời đi<code>rhs</code>hoạt động khác với điều đó trở đi</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>có thể sửa đổi các phần tử của phạm vi thông qua trình lặp được thu hút. Nếu như</td> <td>-</td> <td>với nhà nước và nhiệm vụ được chia sẻ trước đây thuộc sở hữu của</td>
</tr> <tr class="t-par"> <td>Một</td> <td>-</td> <td>Không có trạng thái chung và một nhiệm vụ cảm động.</td>
</tr> <tr class="t-par"> <td>RHS</td> <td>-</td> <td>các<code>std::packaged_task</code>để bọc</td>
</tr>
</table> <h3 id="Exceptions">Ngoại lệ</h3> <div class="t-li1">
<span class="t-li">2)</span>và có thể<code>f</code>người phân bổ sử dụng khi lưu trữ tác vụ<code><a href="../../memory/new/bad_alloc" title="cpp/memory/new/bad alloc">std::bad_alloc</a></code>Bất kỳ ngoại lệ nào được ném bởi hàm tạo sao chép/di chuyển của</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class f, class tuple&gt;</span>và có thể<code>f</code>Nếu phân bổ thất bại.<code>allocate</code>Bất kỳ ngoại lệ nào được ném bởi hàm tạo sao chép/di chuyển của</div> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">và bởi người phân bổ</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">chức năng nếu phân bổ bộ nhớ không thành công.</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue2067" rel="nofollow">LWG 2067</a> </td> <td>C ++ 11</td> <td>#include &lt;Tương lai&gt;<code>packaged_task&amp;</code> </td> <td>Được cho<span class="kw4">hằng số</span> </td>
</tr>
</table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/thread/packaged_task/packaged_task">https://en.cppreference.com/w/cpp/thread/packaged_task/packaged_task</a>
</p>
</div>
