 <h1 class="firstHeading" id="firstHeading">std :: scoped_lock &lt;mutextypes ...&gt; :: scoped_lock</h1> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">Rõ ràng scoped_lock (mutextypes &amp; ... m);</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">scoped_lock (std :: pesserpt_lock_t, mutextypes &amp; ... m);</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">scoped_lock (const scoped_lock &amp;) = xóa;</pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> </table> <p>Có được quyền sở hữu của các mutexes đã cho<code>m</code>.</p>
<div class="t-li1">
<span class="t-li">1)</span>Nếu như<code>sizeof...(MutexTypes) == 0</code>, không làm gì cả. Nếu không, nếu<code>sizeof...(MutexTypes) == 1</code>, gọi hiệu quả<code>m.lock()</code>. Nếu không, gọi hiệu quả<code><a href="http://en.cppreference.com/w/cpp/thread/lock"><span class="kw2173">Điều đó cho tất cả<span class="me2">khóa</span></span></a><span class="br0">.</span>m...<span class="br0">)</span></code>.</div> <div class="t-li1">
<span class="t-li">2)</span>Có được quyền sở hữu các mutexes<code>m...</code>mà không cố gắng khóa bất kỳ trong số họ. Hành vi không được xác định trừ khi luồng hiện tại giữ khóa không chia sẻ (tức là, khóa có được bởi<code>lock</code>Thì<code>try_lock</code>Thì<code>try_lock_for</code>, hoặc<code>try_lock_until</code>) trên mỗi đối tượng trong<code>m...</code>.</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class f, class tuple&gt;</span>Sao chép Constructor bị xóa.</div> <p>đến một phạm vi khác kết thúc tại<code>m</code>bị phá hủy trước<code>scoped_lock</code>đối tượng là.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>bắt buộc_span_size</td> <td>-</td> <td>Mutexes để có được quyền sở hữu</td>
</tr>
</table> <h3 id="Exceptions">Ngoại lệ</h3> <div class="t-li1">
<span class="t-li">1)</span>Ném bất kỳ trường hợp ngoại lệ nào được ném bởi<code>m.lock()</code>.</div> <div class="t-li1">
<span class="t-li">2)</span>Không ném gì.</div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://wg21.link/P0739R0" rel="nofollow">P0739R0</a> </td> <td>C ++ 17</td> <td>
<code>adopt_lock_t</code>tham số là cuối cùng, cản trở các mẫu suy luận đối số mẫu của lớp</td> <td>chuyển sang đầu tiên</td>
</tr>
</table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/thread/scoped_lock/scoped_lock">https://en.cppreference.com/w/cpp/thread/scoped_lock/scoped_lock</a>
</p>
</div>
