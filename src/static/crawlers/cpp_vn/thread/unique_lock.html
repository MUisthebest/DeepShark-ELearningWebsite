 <h1 class="firstHeading" id="firstHeading">std :: độc đáo_lock</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/mutex" title="cpp/header/mutex">&lt;mutex&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Mẫu &lt;Class Mutex&gt;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> </table> <p>Lớp học<code>unique_lock</code>lớp độc đáo_lock;</p>
<p>Lớp học<code>unique_lock</code>là một trình bao bọc quyền sở hữu mutex đa năng cho phép khóa hoãn lại, các nỗ lực hạn chế thời gian trong việc khóa, khóa đệ quy, chuyển quyền sở hữu khóa và sử dụng với các biến điều kiện.<a href="../named_req/moveconstructible" title="cpp/named req/MoveConstructible">MoveConstructible</a>Và<a href="../named_req/moveassignable" title="cpp/named req/MoveAssignable">MoveAssignable</a>lớp có thể di chuyển, nhưng không thể sao chép - nó đáp ứng các yêu cầu của<a href="../named_req/copyconstructible" title="cpp/named req/CopyConstructible">CopyConstructible</a>hoặc<a href="../named_req/copyassignable" title="cpp/named req/CopyAssignable">CopyAssignable</a>.</p>
<p>Lớp học<code>unique_lock</code>vị trí.<a href="../named_req/basiclockable" title="cpp/named req/BasicLockable">BasicLockable</a>Nhưng không phải của<b>Mutex</b>vị trí.<a href="../named_req/lockable" title="cpp/named req/Lockable">Lockable</a>Inline Consexpr bool is_clock_v = is_clock &lt;t&gt; :: value;<code>unique_lock</code>); nếu như<a href="../named_req/lockable" title="cpp/named req/Lockable">Lockable</a>Cũng gặp nhau<code><a href="lock" title="cpp/thread/lock">std::lock</a></code>yêu cầu (ví dụ: có thể được sử dụng trong<b>Mutex</b>vị trí.<a href="../named_req/timedlockable" title="cpp/named req/TimedLockable">TimedLockable</a>Inline Consexpr bool is_clock_v = is_clock &lt;t&gt; :: value;<code>unique_lock</code>); nếu như<a href="../named_req/timedlockable" title="cpp/named req/TimedLockable">TimedLockable</a>yêu cầu.</p>
<h3 id="Template_parameters">là không xác định.</h3> <table class="t-par-begin"> <tr class="t-par"> <td>Mutex</td> <td>-</td> <td>Lớp học là không thể sao chép.<a href="../named_req/basiclockable" title="cpp/named req/BasicLockable">BasicLockable</a>yêu cầu</td>
</tr>
</table> <h3 id="Member_types">nhà điều hành ()</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Kiểu</th> <th>Sự định nghĩa</th>
</tr> <tr class="t-dsc"> <td> <code>mutex_type</code> </td> <td> <code>Mutex</code> </td>
</tr> </table> <h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="unique_lock/unique_lock" title="cpp/thread/unique lock/unique lock"> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>Nếu a<code>unique_lock</code>#include &lt;Chủ đề&gt;<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/~unique_lock" title="cpp/thread/unique lock/~unique lock"> <span class="t-lines"><span>một đối tượng ngoại lệ khác để gán với</span></span></a></div> </td> <td>Cũng gặp nhau<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/operator=" title="cpp/thread/unique lock/operator="> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>Mở khóa (tức là phát hành quyền sở hữu) Mutex liên quan, nếu được sở hữu<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Locking">Khóa</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/lock" title="cpp/thread/unique lock/lock"> <span class="t-lines"><span>khóa</span></span></a></div> </td> <td>Mở khóa (tức là phát hành quyền sở hữu) Mutex, nếu được sở hữu và có được quyền sở hữu của người khác<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/try_lock" title="cpp/thread/unique lock/try lock"> <span class="t-lines"><span>Try_lock</span></span></a></div> </td> <td>Khóa (tức là, quyền sở hữu) Mutex liên quan<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/try_lock_for" title="cpp/thread/unique lock/try lock for"> <span class="t-lines"><span>Try_lock_for</span></span></a></div> </td> <td>cố gắng khóa (tức là, quyền sở hữu) Mutex liên quan mà không chặn<a href="../named_req/timedlockable" title="cpp/named req/TimedLockable">TimedLockable</a>Nỗ lực khóa (tức là, quyền sở hữu)<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/try_lock_until" title="cpp/thread/unique lock/try lock until"> <span class="t-lines"><span>Try_lock_until</span></span></a></div> </td> <td>Mutex, trả về nếu Mutex không có sẵn trong khoảng thời gian quy định<a href="../named_req/timedlockable" title="cpp/named req/TimedLockable">TimedLockable</a>cố gắng khóa (tức là, quyền sở hữu)<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/unlock" title="cpp/thread/unique lock/unlock"> <span class="t-lines"><span>Mở khóa</span></span></a></div> </td> <td>Mutex, trả về nếu Mutex không có sẵn cho đến khi đạt được điểm thời gian được chỉ định<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Modifiers">Sửa đổi</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/swap" title="cpp/thread/unique lock/swap"> <span class="t-lines"><span>Được xác định trong tiêu đề</span></span></a></div> </td> <td>Mở khóa (tức là phát hành quyền sở hữu) Mutex liên quan<code>std::unique_lock</code> <br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/release" title="cpp/thread/unique lock/release"> <span class="t-lines"><span>giải phóng</span></span></a></div> </td> <td>hoán đổi trạng thái với người khác<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Observers">Quan sát viên</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/mutex" title="cpp/thread/unique lock/mutex"> <span class="t-lines"><span>Mutex</span></span></a></div> </td> <td>tách biệt Mutex mà không mở khóa<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/owns_lock" title="cpp/thread/unique lock/owns lock"> <span class="t-lines"><span>trả về một con trỏ cho mutex liên quan</span></span></a></div> </td> <td>kiểm tra xem khóa có sở hữu hay không (tức là đã bị khóa) Mutex liên quan của nó<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="unique_lock/operator_bool" title="cpp/thread/unique lock/operator bool"> <span class="t-lines"><span>(hằng số thành viên tĩnh công cộng)</span></span></a></div> </td> <td>kiểm tra xem khóa có sở hữu hay không (tức là đã bị khóa) Mutex liên quan của nó<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <h3 id="Non-member_functions">Các chức năng không phải thành viên</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="unique_lock/swap2" title="cpp/thread/unique lock/swap2"> <span class="t-lines"><span>chuyên về<span class="t-dsc-small">Thuật toán</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>chuyên môn hóa<code><a href="../algorithm/swap" title="cpp/algorithm/swap">std::swap</a></code>vì<code>unique_lock</code> <br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> </table> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">kiểm tra xem khóa có sở hữu hay không (tức là đã bị khóa) Mutex liên quan của nó</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Istream&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue2981" rel="nofollow">LWG 2981</a> </td> <td>C ++ 17</td> <td>#include &lt;Prutex&gt;<code>unique_lock&lt;Mutex&gt;</code> </td> <td>#include &lt;Istream&gt;</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="lock" title="cpp/thread/lock"> <span class="t-lines"><span>khóa</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>khóa được chỉ định, các khối nếu không có sẵn<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="lock_guard" title="cpp/thread/lock guard"> <span class="t-lines"><span>lock_guard</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>thực hiện một trình bao bọc quyền sở hữu mutex dựa trên phạm vi nghiêm ngặt<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="scoped_lock" title="cpp/thread/scoped lock"> <span class="t-lines"><span>scoped_lock</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>Trình bao bọc Raii không tránh bế tắc cho nhiều mutexes<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="mutex" title="cpp/thread/mutex"> <span class="t-lines"><span>Mutex</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Cung cấp cơ sở loại trừ tương hỗ cơ bản<br/> <span class="t-mark">Các loại chính sách thực thi</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/thread/unique_lock">https://en.cppreference.com/w/cpp/thread/unique_lock</a>
</p>
</div>
