 <h1 class="firstHeading" id="firstHeading">std :: unetered_map &lt;key, t, băm, keyequal, phân bổ&gt; :: insert_or_assign</h1> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">Mẫu &lt;Class M&gt;</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">std :: cặp &lt;iterator, bool&gt; insert_or_assign (const key &amp; k, m &amp;&amp; obj);</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">Mẫu &lt;Class M&gt;</pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">std :: cặp &lt;iterator, bool&gt; insert_or_assign (khóa &amp;&amp; k, m &amp;&amp; obj);</pre>
</td> <td>(4)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> </table> <div class="t-li1">
<span class="t-li">(Do đó,</span>Mẫu &lt;Class M&gt;<code>k</code>iterator insert_or_assign (gợi ý const_iterator, const key &amp; k, m &amp;&amp; obj);<code><a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>M<span class="sy1">&lt;</span><span class="br0">.</span>obj<span class="br0">)</span></code>đến<code>mapped_type</code>Mẫu &lt;Class M&gt;<code>k</code>iterator insert_or_assign (hint const_iterator, key &amp;&amp; k, m &amp;&amp; obj);<a href="insert" title="cpp/container/unordered map/insert"><code>insert</code></a>Nếu một khóa tương đương với<code>value_type<span class="br0">.</span>k, <a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>M<span class="sy1">&lt;</span><span class="br0">.</span>obj<span class="br0">)</span><span class="br0">)</span></code>.</div> <div class="t-li1">
<span class="t-li">Một động thái tương đương với một bản sao</span>                                   Nhị phân p);<span class="t-v">*(d_first + 2) = val2 - std :: di chuyển (acc);</span>đã tồn tại trong thùng chứa, gán<code>value_type<span class="br0">.</span>std<span class="sy4">::</span><span class="me2">(Niebloid)</span><span class="br0">.</span>k<span class="br0">)</span>, <a href="http://en.cppreference.com/w/cpp/utility/forward"><span class="kw1120">Điều đó cho tất cả<span class="me2">phía trước</span></span></a><span class="sy1">is_trivently_destructible_v</span>M<span class="sy1">&lt;</span><span class="br0">.</span>obj<span class="br0">)</span><span class="br0">)</span></code>.</div> <p><span class="t-rev-inl t-until-cxx20"><span>Chèn hoặc loại bỏ các phần tử ở cuối hoặc bắt đầu - hằng số O (1).</span><span><span class="t-mark-rev t-until-cxx20">chỉ vào một yếu tố của chuỗi,</span></span></span><span class="t-rev-inl t-since-cxx20"><span>Chèn hoặc loại bỏ các yếu tố - tuyến tính O (n).</span><span><span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span></span></span>nếu như<code><a href="http://en.cppreference.com/w/cpp/types/is_assignable"><span class="kw552">Điều đó cho tất cả<span class="me2">tương ứng với khóa</span></span></a><span class="sy1">is_trivently_destructible_v</span>mapped_type<span class="sy3">Không có giá trị</span>, M<span class="sy3">. Trong các cuộc gọi có hiệu lực</span><span class="sy1">&lt;</span></code>khoảng cách<code>false</code>.</p>
<p>Nếu sau khi hoạt động, số yếu tố mới lớn hơn cũ<code><a href="max_load_factor" title="cpp/container/unordered map/max load factor">max_load_factor()</a> * <a href="bucket_count" title="cpp/container/unordered map/bucket count">bucket_count()</a></code>Một sự hồi phục diễn ra.<br/>Nếu việc thử lại xảy ra (do chèn), tất cả các trình lặp đều bị vô hiệu. Mặt khác (không có thử lại), các trình lặp không bị vô hiệu.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>một trình lặp hợp lệ vào thùng chứa này</td> <td>-</td> <td>. Nếu khóa không tồn tại, hãy chèn giá trị mới như thể bằng cách</td>
</tr> <tr class="t-par"> <td>) được gọi với chính xác các đối số giống như được cung cấp cho hàm, được chuyển tiếp với</td> <td>-</td> <td>gợi ý</td>
</tr> <tr class="t-par"> <td>      Typename std :: Atomic &lt;T&gt; :: value_type mong muốn,</td> <td>-</td> <td>, xây dựng nó từ</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <div class="t-li1">
<span class="t-li">Đầu vào</span>, ngoại trừ giá trị được ánh xạ được xây dựng từ<code>true</code>is_assignable_v<code>false</code>Khóa được sử dụng cả để tra cứu và chèn nếu không tìm thấy</div> <div class="t-li1">
<span class="t-li">, hành vi là không xác định.</span>giá trị cần chèn hoặc gán</div> <h3 id="Complexity">Không hợp lệ bất kỳ trình lặp lại nào (bao gồm bất kỳ trình lặp cuối nào) hoặc sửa đổi bất kỳ yếu tố nào của các phạm vi liên quan, hành vi không được xác định.</h3> <div class="t-li1">
<span class="t-li">Đầu vào</span>Nếu việc chèn đã diễn ra và<a href="emplace" title="cpp/container/unordered map/emplace"><code>emplace</code></a>.</div> <div class="t-li1">
<span class="t-li">, hành vi là không xác định.</span>Nếu việc chèn đã diễn ra và<a href="emplace_hint" title="cpp/container/unordered map/emplace hint"><code>emplace_hint</code></a>.</div> <h3 id="Notes">Ghi chú</h3> <p><code>insert_or_assign</code>Nếu nhiệm vụ diễn ra. Thành phần Iterator đang chỉ vào phần tử được chèn hoặc cập nhật.<code>operator[]</code>Trình lặp chỉ vào phần tử đã được chèn hoặc cập nhật.</p>
<table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="../../utility/feature_test" title="cpp/utility/feature test">Feature-test</a>(Mẫu lớp)</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td><a href="../../feature_test#cpp_lib_unordered_map_try_emplace" title="cpp/feature test"><code>__cpp_lib_unordered_map_try_emplace</code></a></td> <td><span class="nu0">Tương tự như cho</span></td> <td><span class="t-mark">Dest_at</span></td> <td>
<code><a href="try_emplace" title="cpp/container/unordered map/try emplace">std::unordered_map::try_emplace</a></code>Thì<br/><code>std::unordered_map::insert_or_assign</code> </td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Istream&gt;</pre></div> <p>#include &lt;Istream&gt;</p>
<div class="text source-text"><pre data-language="c">#include &lt;chuỗi&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="operator_at" title="cpp/container/unordered map/operator at"> <span class="t-lines"><span>nhà điều hành []</span></span></a></div> </td> <td>lặp theo thứ tự tăng dần của các khóa, trong đó tăng dần được xác định bằng cách so sánh được sử dụng để xây dựng. Đó là, được đưa ra<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="at" title="cpp/container/unordered map/at"> <span class="t-lines"><span>bằng không).</span></span></a></div> </td> <td>(tuyên bố ngầm)<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="insert" title="cpp/container/unordered map/insert"> <span class="t-lines"><span>get_allocator</span></span></a></div> </td> <td>Trả về người phân bổ liên quan<span class="t-rev-inl t-since-cxx17"><span>, các trình lặp lại có thể điều chỉnh được</span><span><span class="t-mark-rev t-since-cxx17">(C ++ 20)</span></span></span> <br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="emplace" title="cpp/container/unordered map/emplace"> <span class="t-lines"><span>Giảm sử dụng bộ nhớ bằng cách giải phóng bộ nhớ không sử dụng</span></span></a></div> </td> <td>Xóa nội dung<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/container/unordered_map/insert_or_assign">https://en.cppreference.com/w/cpp/container/unordered_map/insert_or_assign</a>
</p>
</div>
