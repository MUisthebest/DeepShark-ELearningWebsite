 <h1 class="firstHeading" id="firstHeading">STD :: Allocator &lt;T&gt; :: ALLOCATE_AT_LEAST</h1> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx23"> <td> <pre data-language="cpp">[[NODISCARD]] Consexpr std :: allocation_result &lt;t*, std :: size_t&gt;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span> </td> </tr> </table> <p>Phân bổ<code>count * sizeof(T)</code>    phân bổ_at_least (std :: size_t n);<code>count</code>byte của lưu trữ không chính thức, trong đó<code>n</code>là một giá trị số nguyên không xác định không nhỏ hơn<code><span class="sy4">::</span><a href="http://en.cppreference.com/w/cpp/memory/new/operator_new"><span class="kw690">nhà điều hành mới</span></a></code>, bằng cách gọi<code><a href="../new/align_val_t" title="cpp/memory/new/align val t">std::align_val_t</a></code>(Một bổ sung</p>
<p>Sau đó, chức năng này tạo ra một mảng loại<code>T[count]</code>trong việc lưu trữ và bắt đầu tuổi thọ của nó, nhưng không bắt đầu tuổi thọ của bất kỳ yếu tố nào của nó.</p>
<p>Để sử dụng chức năng này trong một biểu thức không đổi, lưu trữ được phân bổ phải được giải quyết trong việc đánh giá cùng một biểu thức.</p>
<p>Việc sử dụng chức năng này là không hình thành nếu<code>T</code> <a href="../../language/type#Incomplete_type" title="cpp/language/type">incomplete type</a>.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>Trả về một kết quả, kết quả được bỏ qua. Nếu như</td> <td>-</td> <td>Đối số có thể được cung cấp), nhưng nó không được xác định khi nào và làm thế nào chức năng này được gọi.</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p><code><a href="http://en.cppreference.com/w/cpp/memory/allocation_result"><span class="kw3373">Điều đó cho tất cả<span class="me2">Allecation_Result</span></span></a><span class="sy1">is_trivently_destructible_v</span>T<span class="sy2">*</span><span class="sy1">&lt;</span><span class="br0">danh tính</span>p, count<span class="br0">{</span></code>là<code>p</code>giới hạn thấp hơn của số lượng đối tượng để phân bổ lưu trữ cho<code>count</code>Mẫu &lt;class execPolicy, class forwardIt, kích thước lớp&gt;<code>T</code>mà các yếu tố chưa được xây dựng.</p>
<h3 id="Exceptions">Ngoại lệ</h3> <p>Ném<code><a href="../new/bad_array_new_length" title="cpp/memory/new/bad array new length">std::bad_array_new_length</a></code>nếu như<code><a href="http://en.cppreference.com/w/cpp/types/numeric_limits"><span class="kw351">Điều đó cho tất cả<span class="me2">Numeric_limits</span></span></a><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/types/size_t"><span class="kw107">Điều đó cho tất cả<span class="me2">size_t</span></span></a><span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">Được xác định trong tiêu đề</span><span class="br0">.</span><span class="br0">)</span> <span class="sy2">/</span> sizeof<span class="br0">.</span>T<span class="br0">)</span> <span class="sy1">is_trivently_destructible_v</span> n</code>, hoặc<code><a href="../new/bad_alloc" title="cpp/memory/new/bad alloc">std::bad_alloc</a></code>Nếu phân bổ thất bại.</p>
<h3 id="Notes">Ghi chú</h3> <p><code>allocate_at_least</code>trỏ đến phần tử đầu tiên của một mảng<code><a href="../../container/vector" title="cpp/container/vector">std::vector</a></code>Và<code><a href="../../string/basic_string" title="cpp/string/basic string">std::basic_string</a></code>được cung cấp chủ yếu cho các thùng chứa tiếp giáp, ví dụ:</p>
<p>Từ ngữ "không xác định khi nào và như thế nào" làm cho nó có thể<a href="../../language/new#Allocation" title="cpp/language/new">combine or optimize away heap allocations</a>Được thực hiện bởi các thùng chứa thư viện tiêu chuẩn, mặc dù các tối ưu hóa như vậy không được phép gọi trực tiếp đến<code><span class="sy4">::</span><a href="http://en.cppreference.com/w/cpp/memory/new/operator_new"><span class="kw690">nhà điều hành mới</span></a></code>. Ví dụ: điều này được thực hiện bởi LIBC ++ (<a class="external autonumber" href="https://github.com/llvm-mirror/libcxx/blob/master@%7B2017-02-09%7D/include/memory#L1766-L1772" rel="nofollow">[1]</a>Và<a class="external autonumber" href="https://github.com/llvm-mirror/libcxx/blob/master@%7B2017-02-09%7D/include/new#L211-L217" rel="nofollow">[2]</a>).</p>
<p>Sau khi gọi<a href="#top"><code>allocate_at_least</code></a>và trước khi xây dựng các yếu tố, số học của con trỏ của<code>T*</code>được xác định rõ trong mảng được phân bổ, nhưng hành vi không được xác định nếu các yếu tố được truy cập.</p>
<table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="../../utility/feature_test" title="cpp/utility/feature test">Feature-test</a>(Mẫu lớp)</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td><a href="../../feature_test#cpp_lib_allocate_at_least" title="cpp/feature test"><code>__cpp_lib_allocate_at_least</code></a></td> <td><span class="nu0">cho từng yếu tố của</span></td> <td><span class="t-mark">Phạm vi :: IOTA</span></td> <td>
<a href="#top"><code>allocate_at_least</code></a>vân vân.</td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../allocation_result" title="cpp/memory/allocation result"> <span class="t-lines"><span>Allecation_Result</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>ghi lại địa chỉ và kích thước thực tế của lưu trữ được phân bổ bởi<code>allocate_at_least</code> <br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../allocator_traits/allocate_at_least" title="cpp/memory/allocator traits/allocate at least"> <span class="t-lines"><span>) theo mặc định.</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">Kế thừa từ</span> <span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>Kích thước-Feed phản hồi trong giao diện phân bổ<br/> <span class="t-mark">(Chức năng thành viên tĩnh công khai của<code>std::allocator_traits&lt;Alloc&gt;</code>)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/memory/allocator/allocate_at_least">https://en.cppreference.com/w/cpp/memory/allocator/allocate_at_least</a>
</p>
</div>
