 <h1 class="firstHeading" id="firstHeading">STD :: PMR :: đa hình_allocator</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/memory_resource" title="cpp/header/memory resource">&lt;memory_resource&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx17 t-until-cxx20"> <td><pre data-language="cpp">Mẫu &lt;Class T&gt;</pre></td> <td class="t-dcl-nopad"> </td> <td>
<span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> <br/><span class="t-mark-rev t-until-cxx20">chỉ vào một yếu tố của chuỗi,</span>
</td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">lớp đa hình_allocator;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> </td> </tr> </table> <p>lớp HH_MM_SS;<code>std::pmr::polymorphic_allocator</code> <a href="../named_req/allocator" title="cpp/named req/Allocator">Allocator</a>Mẫu &lt;class t = std :: byte&gt;<code><a href="memory_resource" title="cpp/memory/memory resource">std::pmr::memory_resource</a></code>lớp đa hình_allocator;<code>memory_resource</code>thể hiện hành vi phân bổ khác nhau tùy thuộc vào<code>polymorphic_allocator</code>từ đó nó được xây dựng. Từ</p>
<p>được cung cấp (mặc dù chúng được đánh vần khác nhau trong tiêu chuẩn, chúng biểu thị cùng một loại):<code>polymorphic_allocator</code>Tất cả các chuyên ngành của<a href="../named_req/allocator#Allocator_completeness_requirements" title="cpp/named req/Allocator">allocator completeness requirements</a>.</p>
<p>Các<code>polymorphic_allocator::construct</code>Sử dụng tính đa hình thời gian chạy để quản lý phân bổ, các trường hợp container khác nhau với<a href="uses_allocator#Uses-allocator_construction" title="cpp/memory/uses allocator">uses-allocator construction</a>vì loại phân bổ tĩnh của chúng có thể tương tác, nhưng có thể hoạt động như thể chúng có các loại phân bổ khác nhau.<code>polymorphic_allocator</code>Chức năng thành viên không<code><a href="http://en.cppreference.com/w/cpp/container/vector"><span class="kw1272">Điều đó cho tất cả<span class="me2">PMR</span><span class="sy4">::</span><span class="me2">Vector</span></span></a><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/string/basic_string"><span class="kw1240">Điều đó cho tất cả<span class="me2">PMR</span><span class="sy4">::</span><span class="me2">ngoại trừ việc phần tử được xây dựng là</span></span></a><span class="sy1">&lt;</span></code>, để các yếu tố của một container sử dụng<code>memory_resource</code>Yêu cầu std :: gián tiếp_comparable &lt;i, const t*, pre, proj&gt;<code>vector</code>sẽ sử dụng cùng một phân bổ cho phân bổ của riêng họ. Ví dụ, a<code>string</code>sẽ sử dụng giống nhau</p>
<p>Lưu trữ và mỗi lưu trữ<code><a href="scoped_allocator_adaptor" title="cpp/memory/scoped allocator adaptor">std::scoped_allocator_adaptor</a></code>.</p>
<h3 id="Member_types">nhà điều hành ()</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>ATOMIC_UNSIGNED_LOCK_FREE</th> <th>sự định nghĩa</th>
</tr> <tr class="t-dsc"> <td> <code>value_type</code> </td> <td> <code>T</code> </td>
</tr> </table> <h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/polymorphic_allocator" title="cpp/memory/polymorphic allocator/polymorphic allocator"> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>Nếu a<code>polymorphic_allocator</code> <br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span>một đối tượng ngoại lệ khác để gán với</span></span></div>
<div><span class="t-lines"><span><span class="t-mark">(Lưu ý rằng khởi tạo mặc định có thể dẫn đến các giá trị không xác định cho lớp không</span></span></span></div> </td> <td>Lưu trữ.<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><span class="t-lines"><span>chuyên môn)</span></span></div>
<div><span class="t-lines"><span><span class="t-cmark">[Đã xóa]</span></span></span></div> </td> <td>Nhà điều hành phân công sao chép bị xóa<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Public_member_functions">; chương trình không được hình thành nếu</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/allocate" title="cpp/memory/polymorphic allocator/allocate"> <span class="t-lines"><span>được cung cấp cho Deque để cho phép khấu trừ từ một phạm vi vòng lặp. Quá tải này chỉ tham gia vào độ phân giải quá tải nếu</span></span></a></div> </td> <td>}<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/deallocate" title="cpp/memory/polymorphic allocator/deallocate"> <span class="t-lines"><span>/ * container-node-type */</span></span></a></div> </td> <td>Đối với các phân bổ không hình thành, sự lan truyền tương tự có thể đạt được với sự trợ giúp của<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/construct" title="cpp/memory/polymorphic allocator/construct"> <span class="t-lines"><span>Xử lý lưu trữ</span></span></a></div> </td> <td>Trả về quy mô phân bổ được hỗ trợ lớn nhất<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/destroy" title="cpp/memory/polymorphic allocator/destroy"> <span class="t-lines"><span>(Niebloid)</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-deprecated-cxx20">(Không dùng nữa trong C ++ 20)</span></span></span></div> </td> <td>Tuyên bố ngầm tuyên bố phá hủy<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/allocate_bytes" title="cpp/memory/polymorphic allocator/allocate bytes"> <span class="t-lines"><span>giải quyết bộ nhớ</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>phá hủy một đối tượng trong bộ nhớ được phân bổ<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/deallocate_bytes" title="cpp/memory/polymorphic allocator/deallocate bytes"> <span class="t-lines"><span>Phân bổ_bytes</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>Phân bổ bộ nhớ căn chỉnh thô khỏi tài nguyên cơ bản<code>allocate_bytes</code> <br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/allocate_object" title="cpp/memory/polymorphic allocator/allocate object"> <span class="t-lines"><span>DealLocate_Bytes</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>bộ nhớ thô miễn phí thu được từ<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/deallocate_object" title="cpp/memory/polymorphic allocator/deallocate object"> <span class="t-lines"><span>phân bổ_object</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>Phân bổ bộ nhớ thô phù hợp cho một đối tượng hoặc một mảng<code>allocate_object</code> <br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/new_object" title="cpp/memory/polymorphic allocator/new object"> <span class="t-lines"><span>DealLocate_Object</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>giải phóng bộ nhớ thô có được bằng cách<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/delete_object" title="cpp/memory/polymorphic allocator/delete object"> <span class="t-lines"><span>new_object</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>phân bổ và xây dựng một đối tượng<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/select_on_container_copy_construction" title="cpp/memory/polymorphic allocator/select on container copy construction"> <span class="t-lines"><span>Xây dựng container với</span></span></a></div> </td> <td>Xóa_Object<code>polymorphic_allocator</code>phá hủy và giải quyết một đối tượng<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/resource" title="cpp/memory/polymorphic allocator/resource"> <span class="t-lines"><span>Tạo một mới</span></span></a></div> </td> <td>để sử dụng bởi hàm tạo bản sao của container<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <h3 id="Non-member_functions">Các chức năng không phải thành viên</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="polymorphic_allocator/operator_eq" title="cpp/memory/polymorphic allocator/operator eq"> <span class="t-lines"><span>toán tử ==</span><span>toán tử! =</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-until-cxx20">(Đã xóa trong C ++ 20)</span></span></span></div> </td> <td>So sánh hai<code>polymorphic_allocator</code>S<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> </table> <h3 id="Notes">Ghi chú</h3> <p><code>polymorphic_allocator</code>tài nguyên<code>polymorphic_allocator</code>Trả về một con trỏ cho tài nguyên bộ nhớ cơ bản<code>polymorphic_allocator</code>Không tuyên truyền trên gán bản sao container, chuyển nhượng di chuyển hoặc hoán đổi. Kết quả là, việc chuyển giao một</p>
<table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="../utility/feature_test" title="cpp/utility/feature test">Feature-test</a>(Mẫu lớp)</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td><a href="../feature_test#cpp_lib_polymorphic_allocator" title="cpp/feature test"><code>__cpp_lib_polymorphic_allocator</code></a></td> <td><span class="nu0">Chính sách thực thi</span></td> <td><span class="t-mark">Phạm vi :: Construct_at</span></td> <td>
<code>std::pmr::polymorphic_allocator&lt;&gt;</code>như một loại từ vựng</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="memory_resource" title="cpp/memory/memory resource"> <span class="t-lines"><span>bộ nhớ_resource</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>một giao diện trừu tượng cho các lớp đóng gói tài nguyên bộ nhớ<br/> <span class="t-mark">Các loại chính sách thực thi</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/memory/polymorphic_allocator">https://en.cppreference.com/w/cpp/memory/polymorphic_allocator</a>
</p>
</div>
