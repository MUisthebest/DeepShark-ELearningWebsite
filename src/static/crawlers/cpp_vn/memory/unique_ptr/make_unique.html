 <h1 class="firstHeading" id="firstHeading">std :: make_unique, std :: make_unique_for_overwrite</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/memory" title="cpp/header/memory">&lt;memory&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(1)</td> <td></td> </tr> <tr class="t-dcl t-since-cxx14 t-until-cxx23"> <td><pre data-language="cpp">Mẫu &lt;class t, class ... args&gt;</pre></td> <td>
<span class="t-mark-rev t-since-cxx14">(kể từ C ++ 14)</span> <br/><span class="t-mark-rev t-until-cxx23">(Cho đến C ++ 23)</span> <br/><span class="t-mark">/ * không xác định */ make_unique (args &amp;&amp; ... args) = xóa;</span>
</td> </tr> <tr class="t-dcl t-since-cxx23"> <td> <pre data-language="cpp">(chỉ dành cho các loại không phải là</pre>
</td> <td> <span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span> <br/><span class="t-mark">/ * không xác định */ make_unique (args &amp;&amp; ... args) = xóa;</span> </td> </tr> <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(2)</td> <td></td> </tr> <tr class="t-dcl t-since-cxx14 t-until-cxx23"> <td><pre data-language="cpp">constexpr độc đáo_ptr &lt;t&gt; make_unique (args &amp;&amp; ... args);</pre></td> <td>
<span class="t-mark-rev t-since-cxx14">(kể từ C ++ 14)</span> <br/><span class="t-mark-rev t-until-cxx23">(Cho đến C ++ 23)</span> <br/><span class="t-mark">(chỉ dành cho các loại không phải là</span>
</td> </tr> <tr class="t-dcl t-since-cxx23"> <td> <pre data-language="cpp">Mẫu &lt;Class T&gt;</pre>
</td> <td> <span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span> <br/><span class="t-mark">(chỉ dành cho các loại không phải là</span> </td> </tr> <tr class="t-dcl t-since-cxx14"> <td> <pre data-language="cpp">(chỉ cho các loại mảng không xác định bị ràng buộc)</pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx14">(kể từ C ++ 14)</span> <br/><span class="t-mark">ConstExpr độc đáo_ptr &lt;t&gt; make_unique_for_overwrite ();</span> </td> </tr> <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(4)</td> <td></td> </tr> <tr class="t-dcl t-since-cxx20 t-until-cxx23"> <td><pre data-language="cpp">constexpr độc đáo_ptr &lt;t&gt; make_unique (std :: size_t size);</pre></td> <td>
<span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> <br/><span class="t-mark-rev t-until-cxx23">(Cho đến C ++ 23)</span> <br/><span class="t-mark">/ * không xác định */ make_unique (args &amp;&amp; ... args) = xóa;</span>
</td> </tr> <tr class="t-dcl t-since-cxx23"> <td> <pre data-language="cpp">Mẫu &lt;class t, class ... args&gt;</pre>
</td> <td> <span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span> <br/><span class="t-mark">/ * không xác định */ make_unique (args &amp;&amp; ... args) = xóa;</span> </td> </tr> <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">             Không có p);</td> <td></td> </tr> <tr class="t-dcl t-since-cxx20 t-until-cxx23"> <td><pre data-language="cpp">(Chỉ dành cho các loại mảng có ràng buộc đã biết)</pre></td> <td>
<span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> <br/><span class="t-mark-rev t-until-cxx23">(Cho đến C ++ 23)</span> <br/><span class="t-mark">(chỉ dành cho các loại không phải là</span>
</td> </tr> <tr class="t-dcl t-since-cxx23"> <td> <pre data-language="cpp">độc đáo_ptr &lt;t&gt; make_unique_for_overwrite ();</pre>
</td> <td> <span class="t-mark-rev t-since-cxx23">(kể từ C ++ 23)</span> <br/><span class="t-mark">(chỉ dành cho các loại không phải là</span> </td> </tr> <tr class="t-dcl t-since-cxx20"> <td> <pre data-language="cpp">Mẫu &lt;Class T&gt;</pre>
</td> <td>Consexpr bool any_of (đầu vào đầu tiên, đầu vào cuối cùng, không được tính p);</td> <td> <span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span> <br/><span class="t-mark">ConstExpr độc đáo_ptr &lt;t&gt; make_unique_for_overwrite ();</span> </td> </tr> </table> <p>void cấu trúc (u* p, args &amp;&amp; ... args);<code>T</code>Shared_ptr &lt;t&gt; phân bổ_shared (Const ALLOC &amp; ALLOC,<code><a href="../unique_ptr" title="cpp/memory/unique ptr">std::unique_ptr</a></code>.</p>
<div class="t-li1">
<span class="t-li">1)</span>(chỉ dành cho các loại không phải là<code>T</code>Mẫu &lt;Class T&gt;<code>args</code>độc đáo_ptr &lt;t&gt; make_unique_for_overwrite (std :: size_t size);<code>T</code>Thực hiện các hoạt động số học cơ bản giữa hai thời lượng hoặc giữa thời lượng và số lượng đánh dấu.<code>T</code>Xây dựng một loại không phải là<div class="cpp source-cpp"><pre data-language="cpp">Mẫu &lt;Class T&gt;</pre></div>
</div> <div class="t-li1">
<span class="t-li">2)</span>Consexpr độc đáo_ptr &lt;t&gt; make_unique_for_overwrite (std :: size_t size);<a href="../../language/value_initialization" title="cpp/language/value initialization">value-initialized</a>Thực hiện các hoạt động số học cơ bản giữa hai thời lượng hoặc giữa thời lượng và số lượng đánh dấu.<code>T</code>không phải là một loại mảng. Chức năng tương đương với:<div class="cpp source-cpp"><pre data-language="cpp">Mẫu &lt;class t, class ... args&gt;</pre></div>
</div> <div class="t-li1">
<span class="t-li">          lớp unytransformop&gt;</span>/ * không xác định */ make_unique_for_overwrite (args &amp;&amp; ... args) = xóa;</div> <div class="t-li1">
<span class="t-li">là trong</span>                                   Nhị phân p);<span class="t-v">(1)</span>(Chỉ dành cho các loại mảng có ràng buộc đã biết)<a href="../../language/default_initialization" title="cpp/language/default initialization">default-initialized</a>Thực hiện các hoạt động số học cơ bản giữa hai thời lượng hoặc giữa thời lượng và số lượng đánh dấu.<code>T</code>Xây dựng một loại không phải là<div class="cpp source-cpp"><pre data-language="cpp">. Các lập luận</pre></div>
</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class inputit, class unyredicate&gt;</span>                                   Nhị phân p);<span class="t-v">(2)</span>được truyền cho người xây dựng<code>T</code>không phải là một loại mảng. Chức năng tương đương với:<div class="cpp source-cpp"><pre data-language="cpp">độc đáo_ptr &lt;t&gt; (new t (std :: forward &lt;gars&gt; (args) ...)))</pre></div>
</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>iterator trước đó phần tử mới sẽ được xây dựng</td> <td>-</td> <td>bị phá hủy thông qua biểu thức<code>T</code>là một con trỏ đến đối tượng và</td>
</tr> <tr class="t-par"> <td>kích cỡ</td> <td>-</td> <td>Xây dựng một mảng của kích thước động đã cho. Các phần tử mảng là</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p><code><a href="../unique_ptr" title="cpp/memory/unique ptr">std::unique_ptr</a></code>, đối tượng (hoặc các yếu tố cá nhân nếu<code>T</code>.</p>
<h3 id="Exceptions">Ngoại lệ</h3> <p>Sao chép hàm tạo. Nếu như<code><a href="../new/bad_alloc" title="cpp/memory/new/bad alloc">std::bad_alloc</a></code>không phải là một loại mảng, thì điều này được thực hiện như thể bởi cùng một biểu thức mới vị trí như trong<code>T</code>là một mảng của không rõ ràng buộc. Chức năng tương đương với:</p>
<h3 id="Possible_Implementation">độc đáo_ptr &lt;t&gt; (std mới :: remove_extent_t &lt;t&gt; [size] ()))</h3> <table class="eq-fun-cpp-table"> <tr> <th>
<a href="#Version_1">make_unique <span class="t-v">          Lớp học sai,</span></a> </th>
</tr> <tr> <td> <div class="cpp source-cpp"><pre data-language="cpp">Xây dựng các mảng của ràng buộc đã biết không được phép.</pre></div> </td>
</tr> <tr> <th>
<a href="#Version_4">make_unique_for_overwrite <span class="t-v">Không đổi được khấu hao nếu việc chèn xảy ra ở vị trí chỉ</span></a> </th>
</tr> <tr> <td> <div class="cpp source-cpp"><pre data-language="cpp">, ngoại trừ việc đối tượng là</pre></div> </td>
</tr>
</table> <h3 id="Notes">Ghi chú</h3> <p>Không gian tên std :: Phạm vi<code><a href="../shared_ptr/make_shared" title="cpp/memory/shared ptr/make shared">std::make_shared</a></code>không phải là một loại mảng. Chức năng tương đương với:<code><a href="../shared_ptr/allocate_shared" title="cpp/memory/shared ptr/allocate shared">std::allocate_shared</a></code>và một kẻ phá hủy tầm thường. Số học số nguyên có chữ ký được xác định để sử dụng bổ sung của Two; Không có kết quả không xác định.<code>std::make_unique</code>độc đáo_ptr &lt;t&gt; (mới t)<code>allocate_unique</code>, ngoại trừ việc mảng được đưa ra mặc định. Quá tải này chỉ tham gia vào độ phân giải quá tải nếu<a class="external text" href="https://wg21.link/P0211" rel="nofollow">P0211</a>là một mảng của không rõ ràng buộc. Chức năng tương đương với:<code>D</code>Yêu cầu std :: gián tiếp_comparable &lt;i, const t*, pre, proj&gt;<code><a href="http://en.cppreference.com/w/cpp/memory/unique_ptr"><span class="kw735">Điều đó cho tất cả<span class="me2">độc đáo_ptr</span></span></a><span class="sy1">is_trivently_destructible_v</span>T,D<span class="sy1">&lt;</span></code>độc đáo_ptr &lt;t&gt; (STD mới :: remove_extent_t &lt;t&gt; [size])<code>destroy</code>Và<code>deallocate</code>                   // Các không gian tên kèm theo là không gian tên toàn cầu, Q và Q :: V<code>operator()</code>.</p>
<table class="wikitable ftm-begin ftm-has-value"> <tr> <th>
<a href="../../utility/feature_test" title="cpp/utility/feature test">Feature-test</a>(Mẫu lớp)</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td><a href="../../feature_test#cpp_lib_make_unique" title="cpp/feature test"><code>__cpp_lib_make_unique</code></a></td> <td><span class="nu0">Khoảng thời gian thực tế (tính bằng giây) được giữ bởi một đối tượng thời lượng</span></td> <td><span class="t-mark">(C ++ 14)</span></td> <td>
<code>std::make_unique</code>Hằng số được khấu hao<span class="t-v">.<a href="#Version_1">1</a>)</span> </td>
</tr> <tr> <td><a href="../../feature_test#cpp_lib_smart_ptr_for_overwrite" title="cpp/feature test"><code>__cpp_lib_smart_ptr_for_overwrite</code></a></td> <td><span class="nu0">Chuyên môn này của</span></td> <td><span class="t-mark">Phạm vi :: Construct_at</span></td> <td>Tạo con trỏ thông minh với khởi tạo mặc định (<code><a href="../shared_ptr/allocate_shared" title="cpp/memory/shared ptr/allocate shared">std::allocate_shared_for_overwrite</a></code>Thì<code><a href="../shared_ptr/make_shared" title="cpp/memory/shared ptr/make shared">std::make_shared_for_overwrite</a></code>Thì<code>std::make_unique_for_overwrite</code>yếu_ này<span class="t-v">.<a href="#Version_4">4-6</a>)</span> </td>
</tr> <tr> <td><a href="../../feature_test#cpp_lib_constexpr_memory" title="cpp/feature test"><code>__cpp_lib_constexpr_memory</code></a></td> <td><span class="nu0">và không trả lại gì.</span></td> <td><span class="t-mark">Phạm vi :: IOTA</span></td> <td>
<code>constexpr</code>BẰNG<span class="t-v">.<a href="#Version_1">1,2,4,5</a>)</span> </td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">chiều dài của mảng để xây dựng</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">. Nếu một ngoại lệ được ném, chức năng này không có hiệu lực.</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="unique_ptr" title="cpp/memory/unique ptr/unique ptr"> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>xây dựng một mới<code>unique_ptr</code> <br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../shared_ptr/make_shared" title="cpp/memory/shared ptr/make shared"> <span class="t-lines"><span>make_shared</span><span>make_shared_for_overwrite</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>Tạo một con trỏ được chia sẻ để quản lý một đối tượng mới<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/memory/unique_ptr/make_unique">https://en.cppreference.com/w/cpp/memory/unique_ptr/make_unique</a>
</p>
</div>
