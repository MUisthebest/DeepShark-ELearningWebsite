 <h1 class="firstHeading" id="firstHeading">std :: pmr :: set_default_resource</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/memory_resource" title="cpp/header/memory resource">&lt;memory_resource&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">std :: pmr :: memory_resource* set_default_resource (std :: pmr :: memory_resource* r) noExcept;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> </table> <p>Nếu như<code>r</code>không phải là null, đặt con trỏ tài nguyên bộ nhớ mặc định thành<code>r</code>; Mặt khác, đặt con trỏ tài nguyên bộ nhớ mặc định thành<code><a href="http://en.cppreference.com/w/cpp/memory/new_delete_resource"><span class="kw715">Điều đó cho tất cả<span class="me2">PMR</span><span class="sy4">::</span><span class="me2">new_delete_resource</span></span></a><span class="br0">.</span><span class="br0">)</span></code>.</p>
<p>Các<i>con trỏ tài nguyên bộ nhớ mặc định</i>được sử dụng bởi các cơ sở nhất định khi tài nguyên bộ nhớ rõ ràng không được cung cấp. Con trỏ tài nguyên bộ nhớ mặc định ban đầu là giá trị trả về của<code><a href="new_delete_resource" title="cpp/memory/new delete resource">std::pmr::new_delete_resource</a></code>.</p>
<p>Hàm này là an toàn cho luồng. Mọi cuộc gọi đến<code>std::pmr::set_default_resource</code> <i>Bất kể chủ đề, đánh giá a</i>    std :: chuỗi* p = new std :: chuỗi ("xin chào");<code><a href="../atomic/memory_order" title="cpp/atomic/memory order">std::memory_order</a></code>) tiếp theo<code>std::pmr::set_default_resource</code>Và<code><a href="get_default_resource" title="cpp/memory/get default resource">std::pmr::get_default_resource</a></code>cuộc gọi.</p>
<h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Trả về giá trị trước đó của con trỏ tài nguyên bộ nhớ mặc định.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;mảng&gt;</pre></div> <p>#include &lt;Istream&gt;</p>
<div class="text source-text"><pre data-language="c">#include &lt;CstDdef&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="get_default_resource" title="cpp/memory/get default resource"> <span class="t-lines"><span>get_default_resource</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>nhận được mặc định<code><a href="memory_resource" title="cpp/memory/memory resource">std::pmr::memory_resource</a></code> <br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="new_delete_resource" title="cpp/memory/new delete resource"> <span class="t-lines"><span>new_delete_resource</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>Trả về một chương trình tĩnh trên toàn chương trình<code><a href="memory_resource" title="cpp/memory/memory resource">std::pmr::memory_resource</a></code>sử dụng toàn cầu<code><a href="new/operator_new" title="cpp/memory/new/operator new">operator new</a></code>Và<code><a href="new/operator_delete" title="cpp/memory/new/operator delete">operator delete</a></code>để phân bổ và giải quyết bộ nhớ<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/memory/set_default_resource">https://en.cppreference.com/w/cpp/memory/set_default_resource</a>
</p>
</div>
