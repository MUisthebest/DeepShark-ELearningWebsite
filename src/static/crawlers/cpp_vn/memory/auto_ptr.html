 <h1 class="firstHeading" id="firstHeading">std :: auto_ptr</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/memory" title="cpp/header/memory">&lt;memory&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-until-cxx17"> <td> <pre data-language="cpp">mẫu &lt;class T&gt; class auto_ptr;</pre>
</td> <td>(1)</td> <td> <span class="t-mark">(không dùng nữa trong C ++ 11)</span> <br/><span class="t-mark-rev t-until-cxx17">(Đã xóa trong C ++ 17)</span> </td> </tr> <tr class="t-dcl t-until-cxx17"> <td> <pre data-language="cpp">Mẫu &lt;&gt; class auto_ptr &lt;oid&gt;;</pre>
</td> <td>(2)</td> <td> <span class="t-mark">(không dùng nữa trong C ++ 11)</span> <br/><span class="t-mark-rev t-until-cxx17">(Đã xóa trong C ++ 17)</span> </td> </tr> </table> <p><code>auto_ptr</code>là một con trỏ thông minh quản lý một đối tượng thu được thông qua<a href="../language/new" title="cpp/language/new">new expression</a>và xóa đối tượng đó khi<code>auto_ptr</code>chính nó bị phá hủy. Nó có thể được sử dụng để cung cấp an toàn ngoại lệ cho các đối tượng được phân bổ động, để chuyển quyền sở hữu của các đối tượng được phân bổ động vào các hàm và để trả về các đối tượng được phân bổ động từ các chức năng.</p>
<p>Sao chép một<code>auto_ptr</code>Sao chép con trỏ và chuyển quyền sở hữu sang điểm đến: cả bản sao xây dựng và phân công bản sao của<code>auto_ptr</code>Sửa đổi các đối số bên phải của họ và "bản sao" không bằng bản gốc. Bởi vì những ngữ nghĩa sao chép bất thường này,<code>auto_ptr</code>có thể không được đặt trong các thùng chứa tiêu chuẩn.<span class="t-rev-inl t-since-cxx11"><span><code><a href="unique_ptr" title="cpp/memory/unique ptr">std::unique_ptr</a></code>được ưa thích cho việc này và các công dụng khác.</span><span><span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span></span></span></p>
<div class="t-li1">
<span class="t-li">2)</span>Chuyên môn hóa cho loại<code>void</code>được cung cấp, nó tuyên bố typedef<code>element_type</code>, nhưng không có chức năng thành viên.</div> <p>Một mẫu lớp bổ sung<code>auto_ptr_ref</code>được đề cập trong suốt các tài liệu. Nó là một loại được xác định theo triển khai, chứa một tham chiếu đến<code>auto_ptr</code>. Việc triển khai được phép cung cấp cho mẫu một tên khác hoặc thực hiện các chức năng trả về nó hoặc chấp nhận nó dưới dạng tham số theo các cách khác.</p>
<h3 id="Member_types">nhà điều hành ()</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>ATOMIC_UNSIGNED_LOCK_FREE</th> <th>Sự định nghĩa</th>
</tr> <tr class="t-dsc"> <td> <code>element_type</code> </td> <td> <code>T</code> </td>
</tr> </table> <h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="auto_ptr/auto_ptr" title="cpp/memory/auto ptr/auto ptr"> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>tạo ra một cái mới<code>auto_ptr</code> <br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="auto_ptr/~auto_ptr" title="cpp/memory/auto ptr/~auto ptr"> <span class="t-lines"><span>một đối tượng ngoại lệ khác để gán với</span></span></a></div> </td> <td>phá hủy một<code>auto_ptr</code>và đối tượng được quản lý<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="auto_ptr/operator=" title="cpp/memory/auto ptr/operator="> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>chuyển quyền sở hữu từ người khác<code>auto_ptr</code> <br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="auto_ptr/operator_auto_ptr" title="cpp/memory/auto ptr/operator auto ptr"> <span class="t-lines"><span>Toán tử Auto_Ptr &lt;Y&gt;</span><span>Toán tử Auto_Ptr_Ref &lt;Y&gt;</span></span></a></div> </td> <td>Chuyển đổi con trỏ được quản lý thành một con trỏ sang loại khác nhau<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Observers">Quan sát viên</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="auto_ptr/get" title="cpp/memory/auto ptr/get"> <span class="t-lines"><span>Điền vào thùng chứa với giá trị được chỉ định</span></span></a></div> </td> <td>Trả về một con trỏ cho đối tượng được quản lý<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="auto_ptr/operator*" title="cpp/memory/auto ptr/operator*"> <span class="t-lines"><span>toán tử/=</span><span>toán tử-&gt;</span></span></a></div> </td> <td>};<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr> <td colspan="2"> <h5 id="Modifiers">Sửa đổi</h5> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="auto_ptr/reset" title="cpp/memory/auto ptr/reset"> <span class="t-lines"><span>cài lại</span></span></a></div> </td> <td>Thay thế đối tượng được quản lý<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="auto_ptr/release" title="cpp/memory/auto ptr/release"> <span class="t-lines"><span>giải phóng</span></span></a></div> </td> <td>Phát hành quyền sở hữu đối tượng được quản lý<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/memory/auto_ptr">https://en.cppreference.com/w/cpp/memory/auto_ptr</a>
</p>
</div>
