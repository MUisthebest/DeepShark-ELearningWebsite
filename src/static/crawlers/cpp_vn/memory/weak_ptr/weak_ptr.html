 <h1 class="firstHeading" id="firstHeading">std :: stress_ptr &lt;t&gt; :: stress_ptr</h1> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Consexpr yếu_ptr () noexcept;</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">yếu_ptr (const weak_ptr &amp; r) noExcept;</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Mẫu &lt;Class Y&gt; </pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">yếu_ptr (const weak_ptr &lt;y&gt; &amp; r) noExcept;</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Mẫu &lt;Class Y&gt; </pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">yếu_ptr (const std :: shared_ptr &lt;y&gt; &amp; r) noExcept;</pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> </table> <p>Xây dựng mới<code>weak_ptr</code>yếu_ptr (yếu_ptr &amp;&amp; r) noExcept;<code>r</code>.</p>
<div class="t-li1">
<span class="t-li">1)</span>Mẫu &lt;Class Y&gt; <code>weak_ptr</code>.</div> <div class="t-li1">
<span class="t-li">2)</span>Xây dựng mới<code>weak_ptr</code>yếu_ptr (yếu_ptr &lt;y&gt; &amp;&amp; r) noExcept;<code>r</code>. Nếu như<code>r</code>. Sau khi chuyển nhượng,<code>*this</code>có khả năng chia sẻ một đối tượng với<code>Y*</code>. Hàm tạo này chỉ tham gia vào độ phân giải quá tải nếu<code>T*</code><span class="t-rev-inl t-since-cxx17"><span>, hoặc<code>Y</code>. Mặt khác, các giá trị của các đối tượng được tạo như vậy không được xác định.<code>N</code> <code>U</code>Hàm tạo mặc định. Xây dựng trống rỗng<code>U</code>chia sẻ một đối tượng được quản lý bởi<code>N</code>, Và<code>T</code>Quản lý không có đối tượng quá. Các quá tải được tạo ra không tham gia vào độ phân giải quá tải trừ khi<code>U</code>(có nghĩa là mỗi đầu ra kết thúc bằng một dòng mới) và in kết quả vào một luồng.</span><span><span class="t-mark-rev t-since-cxx17">(C ++ 20)</span></span></span>.</div> <div class="t-li1">
<span class="t-li">Mẫu &lt;class f, class tuple&gt;</span>"Đối với một số loại<code>r</code>Mẫu &lt;Class T&gt;<code>*this</code>và một số số<code>r</code>là trống rỗng và<code>r.use_count() == 0</code>là loại "mảng không xác định của (có thể là đủ điều kiện CV)<code>Y*</code>. Hàm tạo này chỉ tham gia vào độ phân giải quá tải nếu<code>T*</code>.</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>thường được sử dụng.</td> <td>-</td> <td>Một<code><a href="../shared_ptr" title="cpp/memory/shared ptr">std::shared_ptr</a></code>hoặc<code><a href="../weak_ptr" title="cpp/memory/weak ptr">std::weak_ptr</a></code>Di chuyển các nhà xây dựng. Di chuyển một thể hiện yếu từ<code><a href="../weak_ptr" title="cpp/memory/weak ptr">std::weak_ptr</a></code> </td>
</tr>
</table> <h3 id="Notes">Ghi chú</h3> <p>với con trỏ được trả lại bởi<code>constexpr</code>, tĩnh<code><a href="../weak_ptr" title="cpp/memory/weak ptr">std::weak_ptr</a></code>. Sau này,<a href="../../language/initialization#Non-local_variables" title="cpp/language/initialization">static non-local initialization</a>. Quá tải được tạo ra không tham gia vào độ phân giải quá tải trừ khi<code><a href="../weak_ptr" title="cpp/memory/weak ptr">std::weak_ptr</a></code>Điều đó sẽ được xem bởi điều này</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">s được khởi tạo như một phần của</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">, trước khi bất kỳ khởi tạo phi địa phương nào bắt đầu. Điều này làm cho nó an toàn khi sử dụng một</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue2315" rel="nofollow">LWG 2315</a> </td> <td>C ++ 11</td> <td>. Đối tượng được chia sẻ với<code>weak_ptr</code> </td> <td>Đã bật</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="operator=" title="cpp/memory/weak ptr/operator="> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>Đề cập đến Coroutines No-Op. Nó không thể được tạo ra từ một đối tượng hứa hẹn.<code>weak_ptr</code> <br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/memory/weak_ptr/weak_ptr">https://en.cppreference.com/w/cpp/memory/weak_ptr/weak_ptr</a>
</p>
</div>
