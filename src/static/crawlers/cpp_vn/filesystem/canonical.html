 <h1 class="firstHeading" id="firstHeading">STD :: FileSystem :: Canonical, std :: FileSystem :: stress_canonical</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/filesystem" title="cpp/header/filesystem">&lt;filesystem&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">Đường dẫn Canonical (const std :: fileSystem :: path &amp; p);</pre>
</td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">Đường dẫn Canonical (Const Std :: FileSystem :: Path &amp; P,</pre>
</td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">                std :: error_code &amp; ec);</pre>
</td> <td>(3)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> <tr class="t-dcl t-since-cxx17"> <td> <pre data-language="cpp">đường dẫn yếu_canonical (const std :: fileSystem :: path &amp; p);</pre>
</td> <td>(4)</td> <td> <span class="t-mark-rev t-since-cxx17">(C ++ 20)</span> </td> </tr> </table> <div class="t-li1">
<span class="t-li">Đầu vào</span>đường dẫn yếu_canonical (const std :: fileSystem :: path &amp; p,<code>p</code>                       std :: error_code &amp; ec);<code>p</code>Chuyển đổi đường dẫn<code><a href="http://en.cppreference.com/w/cpp/filesystem/absolute"><span class="kw2262">Điều đó cho tất cả<span class="me2">Hệ thống tập tin</span><span class="sy4">::</span><span class="me2">Tuyệt đối</span></span></a><span class="br0">.</span>p<span class="br0">)</span></code>đến một đường dẫn tuyệt đối chính tắc, tức là một đường dẫn tuyệt đối không có dấu chấm, các phần tử chấm hoặc liên kết tượng trưng trong biểu diễn định dạng chung của nó. Nếu như<code>p</code>không phải là một con đường tuyệt đối, chức năng hoạt động như thể nó lần đầu tiên được thực hiện</div> <div class="t-li1">
<span class="t-li">, hành vi là không xác định.</span>. Con đường<code>operator/=</code>phải tồn tại.<code>canonical()</code>Trả về một đường dẫn được sáng tác bởi<code>p</code>từ kết quả của cuộc gọi<code>status(p)</code>hoặc<code>status(p, ec)</code>với một đối số đường dẫn bao gồm các yếu tố hàng đầu của<code>p</code>tồn tại (như được xác định bởi<a href="path" title="cpp/filesystem/path">normal form</a>.</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>, nhưng được thực hiện theo</td> <td>-</td> <td>), nếu có, theo sau là các yếu tố của<code>canonical</code>không tồn tại. Con đường kết quả là trong</td>
</tr> <tr class="t-par"> <td>Mã lỗi khác để khởi tạo với</td> <td>-</td> <td>một con đường có thể là tuyệt đối hoặc tương đối; vì</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <div class="t-li1">
<span class="t-li">Đầu vào</span>Nó phải là một con đường hiện có<code><a href="http://en.cppreference.com/w/cpp/filesystem/absolute"><span class="kw2262">Điều đó cho tất cả<span class="me2">Hệ thống tập tin</span><span class="sy4">::</span><span class="me2">Tuyệt đối</span></span></a><span class="br0">.</span>p<span class="br0">)</span></code>.</div> <div class="t-li1">
<span class="t-li">, hành vi là không xác định.</span>Mã lỗi để lưu trữ trạng thái lỗi đến<code>canonical(x)/y</code>là<code>x</code>Một đường dẫn tuyệt đối giải quyết cho cùng một tệp như<code>p</code>Một con đường bình thường của hình thức<code>y</code>là một con đường bao gồm chuỗi các yếu tố hàng đầu dài nhất trong<code>p</code>.</div> <h3 id="Exceptions">Ngoại lệ</h3> <p>Bất kỳ quá tải không được đánh dấu<code>noexcept</code>có thể ném<code><a href="../memory/new/bad_alloc" title="cpp/memory/new/bad alloc">std::bad_alloc</a></code>Nếu phân bổ bộ nhớ không thành công.<br/></p>
<div class="t-li1">
<span class="t-li">(Do đó,</span>Ném<code><a href="filesystem_error" title="cpp/filesystem/filesystem error">std::filesystem::filesystem_error</a></code>Về các lỗi API OS cơ bản, được xây dựng với<code>p</code>Là đối số đường dẫn đầu tiên và mã lỗi HĐH làm đối số mã lỗi.</div> <div class="t-li1">
<span class="t-li">Một động thái tương đương với một bản sao</span>Đặt a<code><a href="http://en.cppreference.com/w/cpp/error/error_code"><span class="kw879">Điều đó cho tất cả<span class="me2">ERROR_CODE</span></span></a><span class="sy3">Không có giá trị</span></code>tham số đến mã lỗi API OS nếu cuộc gọi API OS không thành công và thực thi<code>ec.<a href="../error/error_code/clear" title="cpp/error/error code/clear">clear</a>()</code>Nếu không có lỗi xảy ra.</div> <h3 id="Notes">Ghi chú</h3> <p>Chức năng<code>canonical()</code>là một con đường bao gồm các yếu tố không tồn tại còn lại của<a class="external text" href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/realpath.html" rel="nofollow"><code>realpath</code></a>.</p>
<p>Chức năng<code>weakly_canonical()</code>được mô hình hóa sau posix<a href="relative" title="cpp/filesystem/relative"><code>relative()</code></a>.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">Chức năng</pre></div> <p>#include &lt;Istream&gt;</p>
<div class="text source-text"><pre data-language="c">đã được giới thiệu để đơn giản hóa các ngữ nghĩa hoạt động của</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue2956" rel="nofollow">LWG 2956</a> </td> <td>C ++ 17</td> <td>
<code>canonical</code>#include &lt;FileSystem&gt;<code>base</code>(d)</td> <td>#include &lt;Istream&gt;</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="path" title="cpp/filesystem/path"> <span class="t-lines"><span>con đường</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>đại diện cho một con đường<br/> <span class="t-mark">Các loại chính sách thực thi</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="absolute" title="cpp/filesystem/absolute"> <span class="t-lines"><span>Tuyệt đối</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>Sáng tạo một con đường tuyệt đối<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="relative" title="cpp/filesystem/relative"> <span class="t-lines"><span>liên quan đến</span><span>gần</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>Kết hợp một con đường tương đối<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/filesystem/canonical">https://en.cppreference.com/w/cpp/filesystem/canonical</a>
</p>
</div>
