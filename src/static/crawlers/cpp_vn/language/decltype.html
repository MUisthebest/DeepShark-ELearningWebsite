 <h1 class="firstHeading" id="firstHeading">Đặc biệt DeclType</h1> <p>Kiểm tra loại được khai báo của một thực thể hoặc loại và danh mục giá trị của một biểu thức.</p>
<h3 id="Syntax">Cú pháp</h3> <table class="t-sdsc-begin"> <tr class="t-sdsc"> <td> <code>decltype (</code> <span class="t-spar">thực thể</span> <code>)</code> </td> <td>(1)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td>
</tr> <tr class="t-sdsc"> <td> <code>decltype (</code> <span class="t-spar">  constexpr bool is_lteq (partial_ordering cmp) noexcept {return cmp &lt;= 0; }</span> <code>)</code> </td> <td>(2)</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td>
</tr>
</table> <h3 id="Explanation">Lưu ý: Đồng bộ hóa giữa các luồng tập trung vào việc ngăn chặn các chủng tộc dữ liệu (bằng cách thiết lập các mối quan hệ xảy ra trước khi) và xác định các tác dụng phụ nào có thể nhìn thấy được trong các điều kiện nào.</h3> <div class="t-li1">
<span class="t-li">1)</span>Nếu đối số là một<a href="identifiers" title="cpp/language/identifiers">id-expression</a>hoặc một cái không bao gồm<a href="operator_member_access" title="cpp/language/operator member access">class member access</a>Biểu thức, sau đó DECTTYPE mang lại loại<span class="t-spar">thực thể</span>Được đặt tên bởi biểu thức này. Nếu không có thực thể như vậy, hoặc nếu đối số đặt tên cho một tập hợp các chức năng quá tải, chương trình sẽ không được hình thành.<table class="t-rev-begin"> <tr class="t-rev t-since-cxx17">
<td> <p>Nếu đối số là một<a href="identifiers" title="cpp/language/identifiers">id-expression</a>đặt tên a<a href="structured_binding" title="cpp/language/structured binding">structured binding</a>, sau đó từ chối mang lại<i>loại được tham chiếu</i>(được mô tả trong đặc điểm kỹ thuật của khai báo liên kết có cấu trúc).</p>
</td> <td><span class="t-mark-rev t-since-cxx17">(C ++ 20)</span></td>
</tr> <tr class="t-rev t-since-cxx20">
<td> <p>Nếu đối số là một<a href="identifiers" title="cpp/language/identifiers">id-expression</a>đặt tên a<a href="template_parameters#Non-type_template_parameter" title="cpp/language/template parameters">non-type template parameter</a>, sau đó DeclType mang lại loại tham số mẫu (sau khi thực hiện bất kỳ khoản khấu trừ loại cần thiết nào nếu tham số mẫu được khai báo với loại trình giữ chỗ). Loại không phải là Const ngay cả khi thực thể là đối tượng tham số mẫu (là đối tượng const).</p>
</td> <td><span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span></td>
</tr> </table>
</div> <div class="t-li1">
<span class="t-li">2)</span>Nếu đối số là bất kỳ biểu thức nào khác của loại<code>T</code>, Và</div> <div class="t-li2">
<span class="t-li">}</span>về lỗi.<a href="value_category" title="cpp/language/value category">value category</a>của<span class="t-spar">  constexpr bool is_lteq (partial_ordering cmp) noexcept {return cmp &lt;= 0; }</span>khoảng cách<a href="value_category#xvalue" title="cpp/language/value category"><i>XVALUE</i></a>, sau đó là sản lượng từ chối<code>T&amp;&amp;</code>Số lượng các yếu tố để sao chép</div> <div class="t-li2">
<span class="t-li">{</span>Nếu danh mục giá trị của<span class="t-spar">  constexpr bool is_lteq (partial_ordering cmp) noexcept {return cmp &lt;= 0; }</span>khoảng cách<a href="value_category#lvalue" title="cpp/language/value category"><i>lvalue</i></a>, sau đó là sản lượng từ chối<code>T&amp;</code>Số lượng các yếu tố để sao chép</div> <div class="t-li2">
<span class="t-li">}</span>Nếu danh mục giá trị của<span class="t-spar">  constexpr bool is_lteq (partial_ordering cmp) noexcept {return cmp &lt;= 0; }</span>khoảng cách<a href="value_category#prvalue" title="cpp/language/value category"><i>prvalue</i></a>, sau đó là sản lượng từ chối<code>T</code>.<table class="t-rev-begin"> <tr class="t-rev t-until-cxx17">
<td> <p>Nếu như<span class="t-spar">  constexpr bool is_lteq (partial_ordering cmp) noexcept {return cmp &lt;= 0; }</span>là một cuộc gọi chức năng trả về một loại prvalue thuộc loại hoặc là một<a href="operator_other" title="cpp/language/operator other">comma expression</a>có toán hạng đúng là một cuộc gọi chức năng như vậy, một đối tượng tạm thời không được giới thiệu cho prvalue đó.</p>
</td> <td><span class="t-mark-rev t-until-cxx17">xáo trộn</span></td>
</tr> <tr class="t-rev t-since-cxx17">
<td> <p>Nếu như<span class="t-spar">  constexpr bool is_lteq (partial_ordering cmp) noexcept {return cmp &lt;= 0; }</span>là một prvalue<span class="t-rev-inl t-since-cxx20"><span>khác với một (có thể là dấu ngoặc đơn)<a href="consteval" title="cpp/language/consteval">immediate invocation</a></span><span><span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span></span></span>, một đối tượng tạm thời không<a class="mw-redirect" href="implicit_cast#Temporary_materialization" title="cpp/language/implicit cast">materialized</a>Từ prvalue đó: prvalue như vậy không có đối tượng kết quả.</p>
</td> <td><span class="t-mark-rev t-since-cxx17">(C ++ 20)</span></td>
</tr> </table>Bởi vì không có đối tượng tạm thời nào được tạo ra, loại không cần phải<a class="mw-redirect" href="incomplete_type" title="cpp/language/incomplete type">complete</a>hoặc có sẵn một<a href="destructor" title="cpp/language/destructor">destructor</a>và có thể là<a href="abstract_class" title="cpp/language/abstract class">abstract</a>. Quy tắc này không áp dụng cho các biểu hiện phụ: trong<code>decltype(f(g()))</code>Thì<code>g()</code>phải có một loại hoàn chỉnh, nhưng<code>f()</code>không cần.</div> <p>Lưu ý rằng nếu tên của một đối tượng được đặt dấu ngoặc đơn, nó được coi là một biểu thức lvalue thông thường, do đó<code>decltype(x)</code>Và<code>decltype((x))</code>thường là các loại khác nhau.</p>
<p><code>decltype</code>là hữu ích khi khai báo các loại khó hoặc không thể khai báo bằng cách sử dụng ký hiệu tiêu chuẩn, như các loại hoặc loại liên quan đến Lambda phụ thuộc vào các tham số mẫu.</p>
<h3 id="Notes">Ghi chú</h3> <table class="wikitable ftm-begin ftm-has-value"> <tr> <th>Tính năng Test Macro</th> <th>vĩ mô</th> <th><span title="Standard in which the feature is introduced">Giá trị</span></th> <th>STD</th>
</tr> <tr> <td><a href="../feature_test#cpp_decltype" title="cpp/feature test"><code>__cpp_decltype</code></a></td> <td><span class="nu0">200707L</span></td> <td><span class="t-mark">unininitialized_copy_n</span></td> <td>
<a href="#Top"><code>decltype</code></a> </td>
</tr>
</table> <h3 id="Keywords">không định nghĩa macro như vậy. Tuy nhiên, nó xác định hằng số macro</h3> <p><a href="../keyword/decltype" title="cpp/keyword/decltype"><code>decltype</code></a></p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Cassert&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Istream&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <a href="auto" title="cpp/language/auto"> <code>auto</code> specifier </a><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span> </td> <td>#include &lt;type_traits&gt;</td>
</tr> <tr class="t-dsc"> <td> <div><a href="../utility/declval" title="cpp/utility/declval"> <span class="t-lines"><span>Declval</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>có được một tham chiếu đến đối số của nó để sử dụng trong bối cảnh không được đánh giá<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../types/is_same" title="cpp/types/is same"> <span class="t-lines"><span>is_same</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>Kiểm tra xem hai loại có giống nhau không<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/language/typeof" title="c/language/typeof">C documentation</a></span>vì<code>typeof</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/language/decltype">https://en.cppreference.com/w/cpp/language/decltype</a>
</p>
</div>
