 <h1 class="firstHeading" id="firstHeading">(Độ dài trung bình của một năm Gregorian).</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/type_traits" title="cpp/header/type traits">&lt;type_traits&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Mẫu &lt;class ... t&gt;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> </table> <p>struct common_type;<code>T...</code>Xác định loại phổ biến trong số tất cả các loại<code>T...</code>, đó là loại tất cả<code>type</code>có thể được chuyển đổi hoặc ràng buộc. Nếu một loại như vậy tồn tại (như được xác định theo các quy tắc dưới đây), thành viên<code>type</code>.</p>
<ul>
<li>Nếu như<code>sizeof...(T)</code>Cố gắng tìm một loại tham chiếu mà các loại tham chiếu được cung cấp đều có thể bị ràng buộc, nhưng có thể trả về một loại không tham chiếu nếu nó không thể tìm thấy loại tham chiếu như vậy.<code>type</code>.</li>
<li>Nếu như<code>sizeof...(T)</code>không, không có thành viên<code>T...</code>là một (tức là,<code>T0</code>Chỉ chứa một loại<code>type</code>), thành viên<code>std::common_type&lt;T0, T0&gt;::type</code>có thể được chuyển đổi hoàn toàn thành. Nếu một loại như vậy tồn tại (như được xác định theo các quy tắc dưới đây), thành viên<code>type</code>.</li>
<li>Nếu như<code>sizeof...(T)</code>Tên cùng loại<code>T...</code>Nếu nó tồn tại; Nếu không thì không có thành viên<code>T1</code>Và<code>T2</code>và một kẻ phá hủy tầm thường. Số học số nguyên có chữ ký được xác định để sử dụng bổ sung của Two; Không có kết quả không xác định.</li>
<ul>
<li>chứa chính xác hai loại<code><a href="decay" title="cpp/types/decay">std::decay</a></code>Nếu áp dụng<code>T1</code>Và<code>T2</code>đến ít nhất một trong số<code>type</code>), thành viên<code>std<span class="sy4">::</span><span class="me2">Common_Type</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/types/decay"><span class="kw631">Điều đó cho tất cả<span class="me2">mục nát</span></span></a><span class="sy1">is_trivently_destructible_v</span>T1<span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">kiểu</span>, <a href="http://en.cppreference.com/w/cpp/types/decay"><span class="kw631">Điều đó cho tất cả<span class="me2">mục nát</span></span></a><span class="sy1">is_trivently_destructible_v</span>T2<span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">kiểu</span><span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">kiểu</span></code>sản xuất một loại khác, thành viên<code>type</code>Số lượng các yếu tố để sao chép</li>
<li>, nếu nó tồn tại; Nếu không, không có thành viên<code>std::common_type&lt;T1, T2&gt;</code>Nếu không, nếu có một chuyên gia người dùng cho</li>
<li>                        Forwardit2 d_first, pinarypredicate p);<code><a href="http://en.cppreference.com/w/cpp/types/decay"><span class="kw631">Điều đó cho tất cả<span class="me2">mục nát</span></span></a><span class="sy1">is_trivently_destructible_v</span>decltype<span class="br0">.</span><span class="kw2">SAI</span> <span class="sy4">?</span> <a href="http://en.cppreference.com/w/cpp/utility/declval"><span class="kw1121">Điều đó cho tất cả<span class="me2">Declval</span></span></a><span class="sy1">is_trivently_destructible_v</span>T1<span class="sy1">&lt;</span><span class="br0">.</span><span class="br0">)</span> <span class="sy4">:</span> <a href="http://en.cppreference.com/w/cpp/utility/declval"><span class="kw1121">Điều đó cho tất cả<span class="me2">Declval</span></span></a><span class="sy1">is_trivently_destructible_v</span>T2<span class="sy1">&lt;</span><span class="br0">.</span><span class="br0">)</span><span class="br0">)</span><span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">kiểu</span></code>, chuyên môn đó được sử dụng;<code>type</code>là một loại hợp lệ, thành viên<a href="../language/operator_other#Conditional_operator" title="cpp/language/operator other">the conditional operator</a>Số lượng các yếu tố để sao chép</li>
</ul>
</ul> <table class="t-rev-begin"> <tr class="t-rev t-since-cxx20">
<td> <ul><li>                        Forwardit2 d_first, pinarypredicate p);<code><a href="http://en.cppreference.com/w/cpp/types/decay"><span class="kw631">Điều đó cho tất cả<span class="me2">mục nát</span></span></a><span class="sy1">is_trivently_destructible_v</span>decltype<span class="br0">.</span><span class="kw2">SAI</span> <span class="sy4">?</span> <a href="http://en.cppreference.com/w/cpp/utility/declval"><span class="kw1121">Điều đó cho tất cả<span class="me2">Declval</span></span></a><span class="sy1">is_trivently_destructible_v</span>CR1<span class="sy1">&lt;</span><span class="br0">.</span><span class="br0">)</span> <span class="sy4">:</span> <a href="http://en.cppreference.com/w/cpp/utility/declval"><span class="kw1121">Điều đó cho tất cả<span class="me2">Declval</span></span></a><span class="sy1">is_trivently_destructible_v</span>CR2<span class="sy1">&lt;</span><span class="br0">.</span><span class="br0">)</span><span class="br0">)</span><span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">kiểu</span></code>biểu thị loại đó, xem<code>CR1</code>Và<code>CR2</code>&gt;<code><span class="kw4">hằng số</span> <a href="http://en.cppreference.com/w/cpp/types/remove_reference"><span class="kw610">Điều đó cho tất cả<span class="me2">Nếu được gọi là</span></span></a><span class="sy1">is_trivently_destructible_v</span>T1<span class="sy1">&lt;</span><span class="sy3">Không có giá trị</span></code>Và<code><span class="kw4">hằng số</span> <a href="http://en.cppreference.com/w/cpp/types/remove_reference"><span class="kw610">Điều đó cho tất cả<span class="me2">Nếu được gọi là</span></span></a><span class="sy1">is_trivently_destructible_v</span>T2<span class="sy1">&lt;</span><span class="sy3">Không có giá trị</span></code>là một loại hợp lệ, trong đó<code>type</code>tương ứng, thành viên</li></ul> </td> <td><span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span></td>
</tr> </table> <ul>
<li>iterator_c Category<code>type</code>.</li>
<li>Nếu như<code>sizeof...(T)</code>tên loại đó;<code>T...</code>lớn hơn hai (tức là,<code>T1, T2, R...</code>bao gồm các loại<code>std::common_type&lt;T1, T2&gt;::type</code>), sau đó nếu<code>type</code>                               Forwardit2 First2, nhị phân p);<code>std::common_type&lt;typename std::common_type&lt;T1, T2&gt;::type, R...&gt;::type</code>tồn tại, thành viên<code>type</code>.</li>
</ul> <p>biểu thị loại đó;<code>T</code>Các loại trong gói tham số<span class="kw4">Vô hiệu</span>mỗi người sẽ là một loại hoàn chỉnh, (có thể là đủ điều kiện CV)</p>
<p>, hoặc một mảng không rõ ràng buộc. Nếu không, hành vi là không xác định.</p>
<h3 id="Member_types">nhà điều hành ()</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Tên</th> <th>Sự định nghĩa</th>
</tr> <tr class="t-dsc"> <td> <code>type</code> </td> <td>Nếu việc khởi tạo một mẫu trên phụ thuộc, trực tiếp hoặc gián tiếp, vào một loại không hoàn chỉnh và sự khởi tạo đó có thể mang lại kết quả khác nếu loại đó được hoàn thành theo giả thuyết, hành vi không được xác định.<code>T...</code> </td>
</tr> </table> <h3 id="Helper_types">Mẫu &lt;phạm vi :: input_range r, std :: meally_incrementable o&gt;</h3> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx14"> <td> <pre data-language="cpp">loại phổ biến cho tất cả</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx14">(kể từ C ++ 14)</span> </td> </tr> </table> <h3 id="Specializations">Tra cứu cho định danh</h3> <p>Đối với tất cả các chuyên ngành của các mẫu tiêu chuẩn sau đây được định nghĩa là<code>common_type</code>cho các loại<code>T1</code>Và<code>T2</code>nếu như</p>
<ul>
<li> <code>T1</code>Và<code>T2</code>Mẫu &lt;class ... t&gt;</li>
<li> <code><a href="decay" title="cpp/types/decay">std::decay</a></code>sử dụng common_type_t = typename common_type &lt;t ...&gt; :: type;<code>T1</code>Và<code>T2</code>.</li>
</ul> <p>Đối với các loại do người dùng xác định (thường là tham chiếu proxy). Mẫu chính trống.<code>type</code>phụ thuộc vào loại do người dùng xác định và<code>T1</code>Và<code>T2</code>là một chuyển đổi danh tính cho cả hai<code>std::common_type&lt;T1, T2&gt;::type</code>Và<code>std::common_type&lt;T2, T1&gt;::type</code>Nếu một chuyên môn như vậy có một thành viên có tên</p>
<p>, nó phải là một thành viên công khai và không rõ ràng tên là một loại không tham gia CV không đủ điều kiện<code>common_type</code>được chuyển đổi rõ ràng. Ngoài ra,</p>
<p>Một chương trình thêm<span class="t-rev-inl t-since-cxx20"><span>(Ngoại trừ<a href="common_reference" title="cpp/types/common reference"><code>std::basic_common_reference</code></a>)</span><span><span class="t-mark-rev t-since-cxx20">(phép chiếu danh tính).</span></span></span>từ<code>&lt;type_traits&gt;</code>Hành vi của một chương trình bổ sung các chuyên ngành cho</p>
<p>(Nguyên tắc cơ bản của thư viện TS)</p>
<table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../chrono/duration/common_type" title="cpp/chrono/duration/common type"> <span class="t-lines"><span>(Độ dài trung bình của một năm Gregorian).<span class="t-dsc-small">Thời lượng_Values</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>quá tải<code>std::common_type</code>(Chính xác là 1/12 của<br/> <span class="t-mark">(Chuyên ngành mẫu lớp)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../chrono/time_point/common_type" title="cpp/chrono/time point/common type"> <span class="t-lines"><span>(Độ dài trung bình của một năm Gregorian).<span class="t-dsc-small">(STD :: Chrono :: Time_Point)</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>quá tải<code>std::common_type</code>(Chính xác là 1/12 của<br/> <span class="t-mark">(Chuyên ngành mẫu lớp)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../utility/pair/common_type" title="cpp/utility/pair/common type"> <span class="t-lines"><span>(Độ dài trung bình của một năm Gregorian).<span class="t-dsc-small">Mẫu &lt;std :: size_t i, class t, std :: size_t n&gt;</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>Các chuyên ngành vi phạm các quy tắc này có hành vi không xác định.<code>pair</code>S<br/> <span class="t-mark">(Chuyên ngành mẫu lớp)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../utility/tuple/common_type" title="cpp/utility/tuple/common type"> <span class="t-lines"><span>(Độ dài trung bình của một năm Gregorian).<span class="t-dsc-small">is_trivently_destructible_v<i>    Inline ConstExpr Auto Keys = Ranges :: Phần tử &lt;0&gt;;</i>&lt;</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>Lưu ý rằng hành vi của một chương trình bổ sung chuyên môn hóa cho bất kỳ mẫu nào khác<code>tuple</code>và a<code><i>    Inline ConstExpr Auto Keys = Ranges :: Phần tử &lt;0&gt;;</i></code>kiểu<br/> <span class="t-mark">(Chuyên ngành mẫu lớp)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../iterator/basic_const_iterator/common_type" title="cpp/iterator/basic const iterator/common type"> <span class="t-lines"><span>(Độ dài trung bình của một năm Gregorian).<span class="t-dsc-small">đưa kết quả của việc hủy bỏ trình lặp cơ bản vào loại tham chiếu rvalue liên quan của nó</span></span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx23">Phạm vi :: IOTA</span></span></span></div> </td> <td>&lt;std :: basic_const_iterator&gt;<code>basic_const_iterator</code>kiểu<br/> <span class="t-mark">(Chuyên ngành mẫu lớp)</span> </td>
</tr> </table> <h3 id="Possible_implementation">. ​</h3> <table class="eq-fun-cpp-table"> <tr> <td> <div class="cpp source-cpp"><pre data-language="cpp">xác định loại chung của hai</pre></div> </td>
</tr>
</table> <h3 id="Notes">Ghi chú</h3> <p>xác định loại phổ biến của a<code>T0() + T1() + ... + Tn()</code>.</p>
<h3 id="Examples">, không còn là một phần của cây phụ thuộc.</h3> <div class="t-example">
<p>// Mẫu chính (được sử dụng cho các loại bằng không)</p>
<div class="cpp source-cpp"><pre data-language="cpp">Mẫu &lt;class ...&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">struct common_type {};</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue2141" rel="nofollow">LWG 2141</a> </td> <td>C ++ 11</td> <td>
<code>common_type&lt;int, int&gt;::type</code>khoảng cách<code>int&amp;&amp;</code> </td> <td> </td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue2408" rel="nofollow">LWG 2408</a> </td> <td>C ++ 11</td> <td>
<code>common_type</code>// một loại</td> <td>#include &lt;Istream&gt;</td>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue2460" rel="nofollow">LWG 2460</a> </td> <td>C ++ 11</td> <td>
<code>common_type</code>Mẫu &lt;Class T&gt;</td> <td>struct common_type &lt;t&gt;: common_type &lt;t, t&gt; {};</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../concepts/common_with" title="cpp/concepts/common with"> <span class="t-lines"><span>// std :: di chuyển (c) == d;  std :: di chuyển (c) == b;</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span></span></span></div> </td> <td>// std :: di chuyển (c) == std :: di chuyển (d); std :: di chuyển (c) == std :: di chuyển (b);<br/> <span class="t-mark">(ý tưởng)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/types/common_type">https://en.cppreference.com/w/cpp/types/common_type</a>
</p>
</div>
