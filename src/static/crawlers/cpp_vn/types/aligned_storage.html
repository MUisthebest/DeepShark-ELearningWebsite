 <h1 class="firstHeading" id="firstHeading">std :: align_storage</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/type_traits" title="cpp/header/type traits">&lt;type_traits&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">Mẫu &lt;std :: size_t len, std :: size_t align = / * mặc định-alborment * /&gt;</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> <br/><span class="t-mark">(Không dùng nữa trong C ++ 23)</span> </td> </tr> </table> <p>struct căn chỉnh_storage;<i><code>type</code></i>Cung cấp loại lồng nhau<a href="../named_req/trivialtype" title="cpp/named req/TrivialType">TrivialType</a>Và<a href="../named_req/standardlayouttype" title="cpp/named req/StandardLayoutType">StandardLayoutType</a>, mà thỏa mãn<code>Len</code>và phù hợp để sử dụng làm bộ nhớ không được hưởng cho bất kỳ đối tượng nào có kích thước nhiều nhất<a href="../language/object#Alignment" title="cpp/language/object">alignment requirement</a>và ai<code>Align</code>.</p>
<p>là một ước số của<code>Align</code>Giá trị mặc định của<code>Len</code>là yêu cầu căn chỉnh nghiêm ngặt nhất (lớn nhất) cho bất kỳ đối tượng nào có kích thước nhất<code>Align</code>. Nếu giá trị mặc định không được sử dụng,<code>alignof(T)</code>Hằng số chỉ giải thích<code>T</code>Phải là giá trị của</p>
<p>đến một phạm vi khác kết thúc tại<code>Len == 0</code>.</p>
<p>, hoặc hành vi là không xác định.<a href="../language/object#Alignment" title="cpp/language/object">extended alignment</a>Nó được xác định theo xác định cho dù có bất kỳ</p>
<p>bằng nhau<code>std::aligned_storage</code>Hành vi của một chương trình bổ sung các chuyên ngành cho</p>
<h3 id="Member_types">nhà điều hành ()</h3> <table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Tên</th> <th>Sự định nghĩa</th>
</tr> <tr class="t-dsc"> <td> <code>type</code> </td> <td>Một<a href="../named_req/trivialtype" title="cpp/named req/TrivialType">trivial</a>Và<a href="../named_req/standardlayouttype" title="cpp/named req/StandardLayoutType">standard-layout</a>được hỗ trợ.<code>Len</code>loại kích thước ít nhất<code>Align</code> </td>
</tr> </table> <h3 id="Helper_types">Mẫu &lt;phạm vi :: input_range r, std :: meally_incrementable o&gt;</h3> <table class="t-dcl-begin"> <tr class="t-dcl t-since-cxx14"> <td> <pre data-language="cpp">với yêu cầu liên kết</pre>
</td> <td class="t-dcl-nopad"> </td> <td> <span class="t-mark-rev t-since-cxx14">(kể từ C ++ 14)</span> <br/><span class="t-mark">(Không dùng nữa trong C ++ 23)</span> </td> </tr> </table> <h3 id="Notes">Ghi chú</h3> <p>Mẫu &lt;std :: size_t len, std :: size_t align = / * mặc định-alborment * /&gt;<code>std::aligned_storage&lt;&gt;::type</code>sử dụng Aligned_Storage_T = typename Aligned_Storage &lt;len, align&gt; :: type;</p>
<p>Loại được xác định bởi<a href="../language/new" title="cpp/language/new">placement new</a>Có thể được sử dụng để tạo các khối bộ nhớ không được chỉ định phù hợp để giữ các đối tượng thuộc loại đã cho, được căn chỉnh tùy chọn hơn so với yêu cầu căn chỉnh tự nhiên của chúng, ví dụ như trên bộ đệm hoặc ranh giới trang.</p>
<h3 id="Possible_implementation">. ​</h3> <p>Như với bất kỳ lưu trữ không chính thức nào khác, các đối tượng được tạo bằng cách sử dụng</p>
<table class="eq-fun-cpp-table"> <tr> <td> <div class="cpp source-cpp"><pre data-language="cpp">và bị phá hủy với các cuộc gọi phá hủy rõ ràng.</pre></div> </td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <div class="t-example">
<p>Ngoại trừ đối số mặc định, Aligned_Storage có thể thể hiện theo các điều khoản của Alignas:</p>
<div class="cpp source-cpp"><pre data-language="cpp">Mẫu &lt;std :: size_t len, std :: size_t align = / * căn chỉnh mặc định không được triển khai * /&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">struct căn chỉnh_storage</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <a href="../language/alignas" title="cpp/language/alignas"> <code>alignas</code> specifier</a><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span> </td> <td>// `alignas (gấp đôi dài)` Nếu muốn.</td>
</tr> <tr class="t-dsc"> <td> <div><a href="alignment_of" title="cpp/types/alignment of"> <span class="t-lines"><span>Căn chỉnh_of</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>có được các yêu cầu căn chỉnh của loại<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../memory/c/aligned_alloc" title="cpp/memory/c/aligned alloc"> <span class="t-lines"><span>căn chỉnh_alloc</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>Phân bổ bộ nhớ căn chỉnh<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="aligned_union" title="cpp/types/aligned union"> <span class="t-lines"><span>căn chỉnh_union</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span><span class="t-mark-rev t-deprecated-cxx23">(Không dùng nữa trong C ++ 23)</span></span></span></div> </td> <td>Xác định loại phù hợp để sử dụng là lưu trữ không chính thức cho tất cả các loại đã cho<br/> <span class="t-mark">Kiểm tra xem một lớp có đại diện cho chính sách thực thi không</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="max_align_t" title="cpp/types/max align t"> <span class="t-lines"><span>MAX_ALIGN_T</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span></span></span></div> </td> <td>loại tầm thường với yêu cầu căn chỉnh cũng tuyệt vời như bất kỳ loại vô hướng nào khác<br/> <span class="t-mark">(typedef)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../utility/launder" title="cpp/utility/launder"> <span class="t-lines"><span>giặt là</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>Rào cản tối ưu hóa con trỏ<br/> <span class="t-mark">tạo một đối tượng tại một địa chỉ nhất định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/types/aligned_storage">https://en.cppreference.com/w/cpp/types/aligned_storage</a>
</p>
</div>
