 <h1 class="firstHeading" id="firstHeading">C ++ Yêu cầu được đặt tên: FormattedInputFunction</h1> <h3 id="Requirements">Sắp xếp và các hoạt động liên quan</h3> <p>FormatedInputFunction là một hàm đầu vào luồng thực hiện các mục sau:</p>
<ul>
<li>void cấu trúc (u* p, args &amp;&amp; ... args);<a href="../io/basic_istream/sentry" title="cpp/io/basic istream/sentry"><code>basic_istream::sentry</code></a>với thời lượng lưu trữ tự động và với<code>noskipws</code>Đối số được đặt thành<code>false</code>, thực hiện như sau:</li>
<li>nếu như<a href="../io/ios_base/iostate" title="cpp/io/ios base/iostate"><code>eofbit</code></a>hoặc<a href="../io/ios_base/iostate" title="cpp/io/ios base/iostate"><code>badbit</code></a>được đặt trên luồng đầu vào, đặt<code>failbit</code>cũng như vậy, và nếu các ngoại lệ trên<code>failbit</code>được bật trong luồng đầu vào này<a href="../io/basic_ios/exceptions" title="cpp/io/basic ios/exceptions">exception mask</a>.<code>(exceptions() &amp; failbit) != 0</code>), ném<a href="../io/ios_base/failure" title="cpp/io/ios base/failure"><code>ios_base::failure</code></a>.</li>
<li>Flushes tie () 'd dòng đầu ra, nếu có.</li>
<li>nếu như<code>ios_base::skipws</code>Cờ được đặt trên luồng đầu vào này, trích xuất và loại bỏ các ký tự khỏi luồng đầu vào cho đến khi một trong những điều sau đây trở thành đúng:</li>
<ul>
<li>ký tự có sẵn tiếp theo trên luồng đầu vào không phải là ký tự khoảng trắng, như được kiểm tra bởi<code><a href="../locale/ctype" title="cpp/locale/ctype">std::ctype</a></code>Facet of the Locale hiện đang thấm nhuần trong luồng đầu vào này. Các ký tự không phải là màu không được trích xuất.</li>
<li>kết thúc của luồng đã đạt đến, trong trường hợp đó<code>failbit</code>Và<code>eofbit</code>được đặt và nếu luồng được bật cho các ngoại lệ trên một trong các bit này,<a href="../io/ios_base/failure" title="cpp/io/ios base/failure"><code>ios_base::failure</code></a>có thể được chuyển đổi hoàn toàn thành cả hai. Loại</li>
</ul>
<li>Kiểm tra trạng thái của Sentry bằng cách gọi<code>sentry::operator bool()</code>, tương đương với<a href="../io/basic_ios/good" title="cpp/io/basic ios/good"><code>basic_ios::good</code></a>.</li>
<li>Nếu lính gác trở về<code>false</code>hoặc nhà xây dựng của Sentry đã ném một ngoại lệ, không có đầu vào nào diễn ra.</li>
<li>Nếu lính gác trở về<code>true</code>, thực hiện đầu vào như thể bằng cách gọi<code>rdbuf()-&gt;sbumpc()</code>hoặc<code>rdbuf()-&gt;sgetc()</code>.</li>
<ul>
<li>Nếu đạt đến cuối của luồng (cuộc gọi đến<code>rdbuf()-&gt;sbumpc()</code>hoặc<code>rdbuf()-&gt;sgetc()</code>(C ++ 20)<code>Traits::eof()</code>), bộ<code>eofbit</code>. Nếu ngoại lệ trên<code>eofbit</code>được bật trong luồng này<a href="../io/basic_ios/exceptions" title="cpp/io/basic ios/exceptions">exception mask</a>.<code>(exceptions() &amp; eofbit) != 0</code>), ném<a href="../io/ios_base/failure" title="cpp/io/ios base/failure"><code>ios_base::failure</code></a>.</li>
<li>Nếu một ngoại lệ được ném trong quá trình đầu vào, các bộ<code>badbit</code>trong luồng đầu vào. Nếu ngoại lệ trên<code>badbit</code>được bật trong luồng này<a href="../io/basic_ios/exceptions" title="cpp/io/basic ios/exceptions">exception mask</a>.<code>(exceptions() &amp; badbit) != 0</code>), ngoại lệ cũng được tái sinh.</li>
<li>Nếu không có ngoại lệ nào bị ném, trở lại<code>*this</code>.</li>
</ul>
<li>Trong mọi trường hợp, cho dù kết thúc bằng ngoại lệ hay quay trở lại, bộ hủy của Sentry được gọi trước khi rời khỏi chức năng này.</li>
</ul> <h3 id="Standard_library">Mẫu &lt;Class I2&gt;</h3> <p>Các chức năng thư viện tiêu chuẩn sau đây là<strong class="selflink">FormatedInputFifts</strong>.</p>
<ul>
<li> <a href="../io/basic_istream/operator_gtgt" title="cpp/io/basic istream/operator gtgt"><code>basic_istream::operator&gt;&gt;(int, long, double, void*, bool)</code></a> </li>
<li> <a href="../io/basic_istream/operator_gtgt2" title="cpp/io/basic istream/operator gtgt2"><code>operator&gt;&gt;(std::basic_istream, char&amp;)</code></a> </li>
<li> <a href="../io/basic_istream/operator_gtgt2" title="cpp/io/basic istream/operator gtgt2"><code>operator&gt;&gt;(std::basic_istream, char*)</code></a> </li>
<li> <a href="../utility/bitset/operator_ltltgtgt2" title="cpp/utility/bitset/operator ltltgtgt2"><code>operator&gt;&gt;(std::basic_istream, std::bitset)</code></a> </li>
<li> <a href="../string/basic_string/operator_ltltgtgt" title="cpp/string/basic string/operator ltltgtgt"><code>operator&gt;&gt;(std::basic_istream, std::string)</code></a> </li>
<li> <code>operator&gt;&gt;</code>, khi được gọi trên giá trị trả lại của<code><a href="../io/manip/get_money" title="cpp/io/manip/get money">std::get_money</a></code> </li>
</ul> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue160" rel="nofollow">LWG 160</a> </td> <td>C ++ 98</td> <td>quá trình xác định xem ngoại lệ có bị bắt không<br/>Rethrown có đề cập đến một chức năng không tồn tại không<code>exception()</code> </td> <td>, số lượng tăng số lặp là tuyến tính. Đáng chú ý,<a href="../io/basic_ios/exceptions" title="cpp/io/basic ios/exceptions"><code>exceptions()</code></a> </td>
</tr>
</table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/named_req/FormattedInputFunction">https://en.cppreference.com/w/cpp/named_req/FormattedInputFunction</a>
</p>
</div>
