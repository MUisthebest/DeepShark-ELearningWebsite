 <h1 class="firstHeading" id="firstHeading">STD :: FPOS</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/ios" title="cpp/header/ios">&lt;ios&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">Mẫu &lt;Class State&gt;</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Lớp FPO;<code>std::fpos</code>Chuyên môn của mẫu lớp<code>fpos</code>Xác định các vị trí tuyệt đối trong một luồng hoặc trong một tệp. Mỗi đối tượng của loại<code><a href="streamoff" title="cpp/io/streamoff">std::streamoff</a></code>giữ vị trí byte trong luồng (thường là thành viên riêng của loại<code>State</code>(tiêu biểu<code><a href="../string/multibyte/mbstate_t" title="cpp/string/multibyte/mbstate t">std::mbstate_t</a></code>).</p>
<p>) và trạng thái dịch chuyển hiện tại, giá trị của loại<span class="sy4">::</span><span class="me2">FPO</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/string/multibyte/mbstate_t"><span class="kw1182">Điều đó cho tất cả<span class="me2">mbstate_t</span></span></a><span class="sy1">&lt;</span>Tên typedef sau đây cho STD</p>
<table class="t-dsc-begin"> <tr class="t-dsc-header"> <th colspan="2">C Thư viện<code><a href="../header/iosfwd" title="cpp/header/iosfwd">&lt;iosfwd&gt;</a></code> </th>
</tr> <tr class="t-dsc-hitem"> <th>Kiểu</th> <th>Sự định nghĩa</th>
</tr> <tr class="t-dsc"> <td> <code>std::streampos</code> </td> <td>STD<span class="sy4">::</span><span class="me2">FPO</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/string/char_traits"><span class="kw1270">Điều đó cho tất cả<span class="me2">char_traits</span></span></a><span class="sy1">is_trivently_destructible_v</span><span class="kw4">char</span><span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">State_Type</span><span class="sy1">&lt;</span> </td>
</tr> <tr class="t-dsc"> <td> <code>std::wstreampos</code> </td> <td>STD<span class="sy4">::</span><span class="me2">FPO</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/string/char_traits"><span class="kw1270">Điều đó cho tất cả<span class="me2">char_traits</span></span></a><span class="sy1">is_trivently_destructible_v</span><span class="kw4">wchar_t</span><span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">State_Type</span><span class="sy1">&lt;</span> </td>
</tr> <tr class="t-dsc"> <td> <code>std::u8streampos</code><span class="t-mark-rev t-since-cxx20">Phạm vi :: Construct_at</span> </td> <td>STD<span class="sy4">::</span><span class="me2">FPO</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/string/char_traits"><span class="kw1270">Điều đó cho tất cả<span class="me2">char_traits</span></span></a><span class="sy1">is_trivently_destructible_v</span>char8_t<span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">State_Type</span><span class="sy1">&lt;</span> </td>
</tr> <tr class="t-dsc"> <td> <code>std::u16streampos</code> <span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span> </td> <td>STD<span class="sy4">::</span><span class="me2">FPO</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/string/char_traits"><span class="kw1270">Điều đó cho tất cả<span class="me2">char_traits</span></span></a><span class="sy1">is_trivently_destructible_v</span><span class="kw4">char16_t</span><span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">State_Type</span><span class="sy1">&lt;</span> </td>
</tr> <tr class="t-dsc"> <td> <code>std::u32streampos</code> <span class="t-mark-rev t-since-cxx11">unininitialized_copy_n</span> </td> <td>STD<span class="sy4">::</span><span class="me2">FPO</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/string/char_traits"><span class="kw1270">Điều đó cho tất cả<span class="me2">char_traits</span></span></a><span class="sy1">is_trivently_destructible_v</span><span class="kw4">char32_t</span><span class="sy1">&lt;</span><span class="sy4">::</span><span class="me2">State_Type</span><span class="sy1">&lt;</span> </td>
</tr> </table> <p>được cung cấp (mặc dù chúng được đánh vần khác nhau trong tiêu chuẩn, chúng biểu thị cùng một loại):<code>fpos</code>Tất cả các chuyên ngành của<a href="../named_req/defaultconstructible" title="cpp/named req/DefaultConstructible">DefaultConstructible</a>Thì<a href="../named_req/copyconstructible" title="cpp/named req/CopyConstructible">CopyConstructible</a>Thì<a href="../named_req/copyassignable" title="cpp/named req/CopyAssignable">CopyAssignable</a>Thì<a href="../named_req/destructible" title="cpp/named req/Destructible">Destructible</a>, Và<a href="../named_req/equalitycomparable" title="cpp/named req/EqualityComparable">EqualityComparable</a>yêu cầu.</p>
<p>Nếu như<code>State</code>Gặp gỡ<code>fpos</code>có thể sao chép tầm thường có thể xây dựng,<code>State</code>Có một hàm tạo bản sao tầm thường. Nếu như<code>fpos</code>có thể sao chép tầm thường có thể được gán,<code>State</code>Có một toán tử phân công bản sao tầm thường. Nếu như<code>fpos</code>có thể phá hủy tầm thường,</p>
<h3 id="Template_parameter">có một kẻ phá hủy tầm thường.</h3> <table class="t-par-begin"> <tr class="t-par"> <td>Tham số mẫu</td> <td>-</td> <td>Tình trạng</td>
</tr> <tr class="t-par-hitem"> <td colspan="3">Chữ ký của hàm phải tương đương với các điều sau:</td>
</tr> <tr class="t-par-req"> <td colspan="3">-<code>State</code>Loại loại 1 phải sao cho một đối tượng loại T có thể được chuyển đổi hoàn toàn thành Type1. Loại loại2 phải sao cho một đối tượng loại đầu vào có thể được bỏ qua và sau đó được chuyển đổi hoàn toàn thành type2. Loại<a href="../named_req/destructible" title="cpp/named req/Destructible">Destructible</a>Thì<a href="../named_req/copyassignable" title="cpp/named req/CopyAssignable">CopyAssignable</a>Thì<a href="../named_req/copyconstructible" title="cpp/named req/CopyConstructible">CopyConstructible</a>Và<a href="../named_req/defaultconstructible" title="cpp/named req/DefaultConstructible">DefaultConstructible</a>.</td>
</tr>
</table> <h3 id="Member_functions">nếu không thì</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="fpos/state" title="cpp/io/fpos/state"> <span class="t-lines"><span>Loại đại diện cho trạng thái thay đổi</span></span></a></div> </td> <td>tình trạng<br/> <span class="t-mark">(chức năng thành viên công cộng)</span> </td>
</tr> </table> <p>Nhận/đặt giá trị của trạng thái dịch chuyển</p>
<ul>
<li>Ngoài ra, các chức năng thành viên và phi thành viên được cung cấp để hỗ trợ các hoạt động sau:</li>
<li>Một hàm tạo mặc định lưu trữ một phần bù 0 và giá trị-khởi đầu cho đối tượng trạng thái.<code><a href="streamoff" title="cpp/io/streamoff">std::streamoff</a></code>Một hàm tạo không tiết lộ chấp nhận một đối số loại (có thể là const)<code><a href="http://en.cppreference.com/w/cpp/io/streamoff"><span class="kw1807">Điều đó cho tất cả<span class="me2">phát trực tuyến</span></span></a><span class="br0">.</span><span class="sy2">-</span><span class="nu0">, nếu như</span><span class="br0">)</span></code>: The<code>std::fpos</code>, nơi lưu trữ đó bù và giá trị-khởi đầu đối tượng trạng thái. Hàm tạo này cũng phải chấp nhận giá trị đặc biệt</li>
<li>Được xây dựng theo cách này được trả về bởi một số hoạt động luồng để chỉ ra lỗi.<code>fpos</code>ĐẾN<code><a href="streamoff" title="cpp/io/streamoff">std::streamoff</a></code>Chuyển đổi rõ ràng từ (có thể là const)</li>
<li>nhà điều hành<span class="sy1">==</span>và vận hành<span class="sy3">Nếu tồn tại một</span><span class="sy1">Đầu của phạm vi được sắp xếp đầu tiên</span>. Kết quả là phần bù được lưu trữ.<code>std::fpos</code>so sánh hai đối tượng loại (có thể là const)<span class="kw4">bool</span>.<code>p != q</code>Mẫu &lt;class T, class so sánh&gt;<code>!(p == q)</code>.</li>
<li>nhà điều hành<span class="sy2">gọi</span>và vận hành<span class="sy2">-</span>và trả về giá trị của loại chuyển đổi thành<code>p</code>Đối với tất cả các yếu tố trong phạm vi<code>fpos&lt;State&gt;</code>Điều đó, đối với một đối tượng<code>o</code>Đối với tất cả các yếu tố trong phạm vi<code><a href="streamoff" title="cpp/io/streamoff">std::streamoff</a></code> </li>
<ul>
<li> <code>p + o</code>và kết quả của việc chuyển đổi bằng<code>fpos&lt;State&gt;</code>có loại<code>o</code>và lưu trữ một phần bù là kết quả của việc thêm<code>p</code>.</li>
<li> <code>o + p</code>đến phần bù của<code>fpos&lt;State&gt;</code>có một loại chuyển đổi để<code>p + o</code>.</li>
<li> <code>p - o</code>và kết quả của việc chuyển đổi bằng<code>fpos&lt;State&gt;</code>có loại<code>o</code>và lưu trữ một phần bù là kết quả của việc trừ đi<code>p</code>.</li>
</ul>
<li>nhà điều hành<span class="sy2">gọi</span><span class="sy1">Đầu của phạm vi được sắp xếp đầu tiên</span>và vận hành<span class="sy2">-</span><span class="sy1">Đầu của phạm vi được sắp xếp đầu tiên</span>từ phần bù của<code><a href="streamoff" title="cpp/io/streamoff">std::streamoff</a></code>có thể chấp nhận một (có thể là const)</li>
<li>nhà điều hành<span class="sy2">-</span>và thêm/trừ nó từ phần bù được lưu trữ, tương ứng.<code>std::fpos</code>có thể trừ hai đối tượng loại (có thể là const)<code><a href="streamoff" title="cpp/io/streamoff">std::streamoff</a></code>sản xuất một<code>p</code>Và<code>q</code>Thì<code>p == q + (p - q)</code>.</li>
</ul> <h3 id="Notes">Ghi chú</h3> <p>, sao cho đối với hai đối tượng như vậy<a href="../io" title="cpp/io">I/O streams member functions</a>Một số của<code>pos_type</code>trả lại và thao túng các đối tượng của thành viên typedef<code>Traits</code>. Đối với các luồng, các typedef thành viên này được cung cấp bởi tham số mẫu<code><a href="../string/char_traits" title="cpp/string/char traits">std::char_traits</a></code>, mặc định nào<code>pos_type</code>, xác định của họ<code>std::fpos</code>s là chuyên môn của<code>Traits::pos_type</code>. Hành vi của thư viện luồng I/O được xác định khi thực hiện khi<span class="sy4">::</span><span class="me2">FPO</span><span class="sy1">is_trivently_destructible_v</span><a href="http://en.cppreference.com/w/cpp/string/multibyte/mbstate_t"><span class="kw1182">Điều đó cho tất cả<span class="me2">mbstate_t</span></span></a><span class="sy1">&lt;</span>          lớp proj1 = std :: danh tính,<code>std::streampos</code>Thì<code>std::wstreampos</code>không phải là std</p>
<h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue57" rel="nofollow">LWG 57</a> </td> <td>C ++ 98</td> <td>
<code>streampos</code>Và<code>wstreampos</code>, vân vân.).<br/>đã mâu thuẫn</td> <td>được phép khác nhau trong khi bắt buộc phải giống nhau<br/>làm rõ</td>
</tr> <tr> <td>
<a class="external text" href="https://wg21.link/P0759R1" rel="nofollow">P0759R1</a> </td> <td>C ++ 98</td> <td>giống nhau</td> <td>Đặc điểm kỹ thuật không rõ ràng và không đầy đủ</td>
</tr> <tr> <td>
<a class="external text" href="https://wg21.link/P1148R0" rel="nofollow">P1148R0</a> </td> <td>C ++ 11</td> <td>dọn dẹp<br/>không rõ cái gì và trong đó tiêu đề nào<code>u16streampos</code>Và<code>u32streampos</code>&gt;</td> <td>hơn thứ hai, nếu không</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="streamoff" title="cpp/io/streamoff"> <span class="t-lines"><span>phát trực tuyến</span></span></a></div> </td> <td>biểu thị vị trí tệp/luồng tương đối (bù từ fpos), đủ để biểu diễn bất kỳ kích thước tệp nào<br/> <span class="t-mark">(typedef)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="basic_ostream/tellp" title="cpp/io/basic ostream/tellp"> <span class="t-lines"><span>đặt</span></span></a></div> </td> <td>chèn một ký tự<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_ostream&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="basic_ostream/seekp" title="cpp/io/basic ostream/seekp"> <span class="t-lines"><span>Chèn các khối ký tự</span></span></a></div> </td> <td>Tellp<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::basic_ostream&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="c/fgetpos" title="cpp/io/c/fgetpos"> <span class="t-lines"><span>FGETPOS</span></span></a></div> </td> <td>Nhận chỉ báo vị trí tệp<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/fpos">https://en.cppreference.com/w/cpp/io/fpos</a>
</p>
</div>
