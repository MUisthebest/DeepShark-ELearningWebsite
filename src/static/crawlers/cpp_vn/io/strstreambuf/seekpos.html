 <h1 class="firstHeading" id="firstHeading">STD :: Strstreambuf :: Seekpos</h1> <table class="t-dcl-begin"> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">được bảo vệ:</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Tái định vị<code><a href="../basic_streambuf/gptr" title="cpp/io/basic streambuf/gptr">std::basic_streambuf::gptr</a></code>và/hoặc<code><a href="../basic_streambuf/pptr" title="cpp/io/basic streambuf/pptr">std::basic_streambuf::pptr</a></code>, nếu có thể, đến vị trí được chỉ định bởi<code>sp</code>.</p>
<p>Nếu như<code><a href="../ios_base/openmode" title="cpp/io/ios base/openmode">std::ios_base::in</a></code>có mặt trong<code>which</code>, cố gắng định vị lại<code>gptr()</code>(Con trỏ tiếp theo trong khu vực Get). Nếu như<code><a href="../ios_base/openmode" title="cpp/io/ios base/openmode">std::ios_base::out</a></code>có mặt trong<code>which</code>, cố gắng định vị lại<code>pptr()</code>(Con trỏ tiếp theo trong khu vực đặt). Nếu không bit được đặt trong<code>which</code>, hoạt động thất bại.</p>
<p>Mỗi con trỏ tiếp theo được định vị lại như sau:</p>
<ul>
<li>Nếu con trỏ tiếp theo là NULL, hoạt động không thành công.</li>
<li>Nếu không, phần bù mới<code>newoff</code>) với giá trị ban đầu<code>off_type</code>) được xác định bằng cách gọi<code>sp.offset()</code>. Nếu như<code>newoff</code>là âm, ngoài giới hạn của bộ đệm, hoặc không hợp lệ, hoạt động không thành công.</li>
<li>Nếu không, con trỏ tiếp theo được gán như thể<code>gptr() = eback() + newoff</code>hoặc<code>pptr() = pbase() + newoff</code>.</li>
</ul> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>không có được bằng cách gọi</td> <td>-</td> <td>Định vị lại con trỏ tiếp theo để nhận và/hoặc đặt khu vực, nếu có thể, đến vị trí được chỉ định bởi<code><a href="seekoff" title="cpp/io/strstreambuf/seekoff">seekoff()</a></code>hoặc<code>seekpos()</code> </td>
</tr> <tr class="t-par"> <td>              &lt;&lt; (Thành công? "Thành công \ n": "thất bại \ n");</td> <td>-</td> <td>PBUF<table class="t-dsc-begin"> <tr class="t-dsc-hitem"> <th>Đặc điểm kỹ thuật:</th> <th>Lưu ý: Đồng bộ hóa giữa các luồng tập trung vào việc ngăn chặn các chủng tộc dữ liệu (bằng cách thiết lập các mối quan hệ xảy ra trước khi) và xác định các tác dụng phụ nào có thể nhìn thấy được trong các điều kiện nào.</th>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/openmode" title="cpp/io/ios base/openmode"><code>in</code></a> </td> <td>Dir</td>
</tr> <tr class="t-dsc"> <td> <a href="../ios_base/openmode" title="cpp/io/ios base/openmode"><code>out</code></a> </td> <td>Xác định vị trí cơ sở để áp dụng bù tương đối. Nó có thể là một trong những hằng số sau:</td>
</tr> </table> </td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Phần bù kết quả được chuyển đổi thành<code>pos_type</code>Vị trí tệp có được bởi<code>pos_type(off_type(-1))</code>, trong trường hợp đó</p>
<h3 id="Notes">Ghi chú</h3> <p><code>seekpos()</code>ảnh hưởng đến trình tự đầu ra<code><a href="../basic_streambuf/pubseekpos" title="cpp/io/basic streambuf/pubseekpos">std::basic_streambuf::pubseekpos()</a></code>được gọi sớm hơn trên cùng một tệp<code><a href="../basic_istream/seekg" title="cpp/io/basic istream/seekg">std::basic_istream::seekg()</a></code>Và<code><a href="../basic_ostream/seekp" title="cpp/io/basic ostream/seekp">std::basic_ostream::seekp()</a></code>.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;cstring&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Istream&gt;</pre></div> </div> <h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://cplusplus.github.io/LWG/issue55" rel="nofollow">LWG 55</a> </td> <td>C ++ 98</td> <td>
<code>seekpos</code>, được gọi bởi<br/>#include &lt;Fstream&gt;</td> <td>
<code>pos_type(off_type(-1))</code><br/>#include &lt;Istream&gt;</td>
</tr>
</table> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="seekoff" title="cpp/io/strstreambuf/seekoff"> <span class="t-lines"><span>Định vị</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Thay thế bộ đệm bằng mảng do người dùng xác định, nếu được phép<br/> <span class="t-mark">(Hàm thành viên được bảo vệ ảo)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_streambuf/pubseekpos" title="cpp/io/basic streambuf/pubseekpos"> <span class="t-lines"><span>tìm kiếm</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Tái định vị con trỏ tiếp theo trong chuỗi đầu vào, trình tự đầu ra hoặc cả hai, sử dụng địa chỉ tương đối<br/> <span class="t-mark">Putback<code>std::basic_streambuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_stringbuf/seekpos" title="cpp/io/basic stringbuf/seekpos"> <span class="t-lines"><span>tìm kiếm</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Tái định vị con trỏ tiếp theo trong chuỗi đầu vào, trình tự đầu ra hoặc cả hai, sử dụng địa chỉ tương đối<br/> <span class="t-mark">Putback<code>std::basic_stringbuf&lt;CharT,Traits,Allocator&gt;</code>)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../basic_filebuf/seekpos" title="cpp/io/basic filebuf/seekpos"> <span class="t-lines"><span>tìm kiếm</span></span></a></div>
<div><span class="t-lines"><span><span class="t-cmark">. Con trỏ được đảm bảo là hợp lệ ít nhất là cho đến khi đối tượng ngoại lệ mà nó thu được bị phá hủy hoặc cho đến khi hàm thành viên không phải là const (ví dụ: toán tử gán bản sao) trên đối tượng ngoại lệ được gọi.</span></span></span></div> </td> <td>Tái định vị vị trí tệp, sử dụng địa chỉ tương đối<br/> <span class="t-mark">Putback<code>std::basic_filebuf&lt;CharT,Traits&gt;</code>)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/strstreambuf/seekpos">https://en.cppreference.com/w/cpp/io/strstreambuf/seekpos</a>
</p>
</div>
