 <h1 class="firstHeading" id="firstHeading">std :: strstreambuf :: strstreambuf</h1> <table class="t-dcl-begin"> <tr class="t-dcl-rev-aux"> <td></td> <td rowspan="3">(1)</td> <td></td> </tr> <tr class="t-dcl t-until-cxx11"> <td><pre data-language="cpp">Strstreambuf (STD :: StreamSize alsize = 0);</pre></td> <td><span class="t-mark-rev t-until-cxx11">(Cho đến C ++ 11)</span></td> </tr> <tr class="t-dcl t-since-cxx11"> <td> <pre data-language="cpp">strstreambuf (): strstreambuf (0) {}</pre>
</td> <td> <span class="t-mark-rev t-since-cxx11">(kể từ C ++ 11)</span> </td> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">Strstreambuf rõ ràng (STD :: StreamSize alsize);</pre>
</td> <td>(2)</td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">strstreambuf (void*(*palloc) (std :: size_t), void (*pfree) (void*));</pre>
</td> <td>(3)</td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">strstreambuf (char* gnext, std :: streamsize n, char* pbeg = 0);</pre>
</td> <td>(4)</td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">strstreambuf (đã ký char* gnext, std :: streamsize n, đã ký char* pbeg = 0);</pre>
</td> <td>             Không có p);</td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">strstreambuf (char không dấu* gnext, std :: streamsize n, không dấu char* pbeg = 0);</pre>
</td> <td>Consexpr bool any_of (đầu vào đầu tiên, đầu vào cuối cùng, không được tính p);</td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">strstreambuf (const char* gnext, std :: streamsize n);</pre>
</td> <td>            Chuyển tiếp 2 First2);</td> <td class="t-dcl-nopad"> </td> </tr> <tr class="t-dcl"> <td> <pre data-language="cpp">strstreambuf (const đã ký char* gnext, std :: streamsize n);</pre>
</td> <td>            Nhị phân p);</td> <td class="t-dcl-nopad"> </td> </tr> </table> <div class="t-li1">
<span class="t-li">1)</span>Mẫu &lt;Class Randomit, Class So sánh&gt;<code>std::strstreambuf</code>, Khởi tạo phân bổ và các chức năng giải quyết thành NULL (sẽ sử dụng<code><a href="../basic_streambuf" title="cpp/io/basic streambuf">std::streambuf</a></code>Đối tượng: Khởi tạo lớp cơ sở bằng cách gọi hàm xây dựng mặc định của<code>alsize</code>, khởi tạo trạng thái bộ đệm thành "động" (bộ đệm sẽ được phân bổ khi cần thiết), khởi tạo kích thước được phân bổ cho bộ phận được cung cấp<code>new[]</code>Và<code>delete[]</code>).</div> <div class="t-li1">
<span class="t-li">2)</span>Mẫu &lt;Class Randomit, Class So sánh&gt;<code>std::strstreambuf</code>, Khởi tạo phân bổ và các chức năng giải quyết thành NULL (sẽ sử dụng<code><a href="../basic_streambuf" title="cpp/io/basic streambuf">std::streambuf</a></code>Đối tượng: Khởi tạo lớp cơ sở bằng cách gọi hàm xây dựng mặc định của<code>palloc</code>, khởi tạo trạng thái bộ đệm thành "động" (bộ đệm sẽ được phân bổ khi cần), khởi tạo kích thước được phân bổ thành giá trị không xác định, khởi tạo chức năng phân bổ thành<code>pfree</code>.</div> <div class="t-li1">
<span class="t-li">và chức năng giải quyết để</span>Mẫu &lt;Class Randomit, Class So sánh&gt;<code>std::strstreambuf</code>3-5)</div> <div class="t-li2">
<span class="t-li">}</span>Đối tượng trong các bước sau:<code><a href="../basic_streambuf" title="cpp/io/basic streambuf">std::streambuf</a></code>.</div> <div class="t-li2">
<span class="t-li">{</span>Khởi tạo lớp cơ sở bằng cách gọi hàm xây dựng mặc định của</div> <div class="t-li2">
<span class="t-li">}</span>Khởi tạo trạng thái bộ đệm thành "hằng số" (bộ đệm là bộ đệm có kích thước cố định do người dùng cung cấp).<code>n</code>basic_istream &lt;char, đặc điểm&gt; &amp;<code>n</code>Xác định số lượng phần tử trong mảng do người dùng cung cấp như sau: nếu<code>n</code>là không,<code><a href="http://en.cppreference.com/w/cpp/string/byte/strlen"><span class="kw1148">Điều đó cho tất cả<span class="me2">Strlen</span></span></a><span class="br0">.</span>gnext<span class="br0">)</span></code>được sử dụng. Nếu như<code>n</code>là tiêu cực,<code><a href="../../types/climits" title="cpp/types/climits">INT_MAX</a></code>Đề cập đến 4 giờ 30 phút sau UTC. Nếu phần bù bằng không,</div> <div class="t-li2">
<span class="t-li">tải trong luồng B.</span>được thực hiện để xác định kích thước bộ đệm. Nếu như<code><a href="../basic_streambuf" title="cpp/io/basic streambuf">std::basic_streambuf</a></code>Cấu hình<code>pbeg</code>Con trỏ như sau: Nếu<code>setg(gnext, gnext, gnext + N)</code>. Nếu như<code>pbeg</code>là một con trỏ null, cuộc gọi<code>setg(gnext, gnext, pbeg)</code>Và<code>setp(pbeg, pbeg+N)</code>không phải là một con trỏ null, thực thi</div> <div class="t-li1">
<span class="t-li">unetered_map (std :: initizer_list &lt;value_type&gt; init,</span>                                   Nhị phân p);<code>strstreambuf((char*)gnext, n)</code>, trong đó n là số lượng các phần tử trong mảng như được xác định trước đó.</div> <h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>, ngoại trừ bit "hằng số" được đặt trong trạng thái bộ đệm Bitmask (đầu ra cho bộ đệm này không được phép).</td> <td>-</td> <td>alsize</td>
</tr> <tr class="t-par"> <td>Kích thước ban đầu của bộ đệm được phân bổ động</td> <td>-</td> <td>Con trỏ đến chức năng phân bổ do người dùng cung cấp</td>
</tr> <tr class="t-par"> <td>Palloc</td> <td>-</td> <td>pfree</td>
</tr> <tr class="t-par"> <td>Con trỏ đến chức năng giải quyết do người dùng cung cấp</td> <td>-</td> <td>gnext</td>
</tr> <tr class="t-par"> <td>Đặt các giá trị của các con trỏ xác định khu vực đặt. Cụ thể, sau cuộc gọi</td> <td>-</td> <td>Con trỏ đến đầu khu vực Get trong mảng do người dùng cung cấp</td>
</tr> <tr class="t-par"> <td>Trả về một kết quả, kết quả được bỏ qua. Nếu như</td> <td>-</td> <td>Con trỏ đến đầu khu vực đặt trong mảng do người dùng cung cấp</td>
</tr>
</table> <h3 id="Notes">Ghi chú</h3> <p>tham chiếu bộ đệm cơ bản<code><a href="http://en.cppreference.com/w/cpp/io/strstream"><span class="kw1759">Điều đó cho tất cả<span class="me2">Strstream</span></span></a></code>.</p>
<h3 id="Defect_reports">Báo cáo khiếm khuyết</h3> <p>Các báo cáo khiếm khuyết thay đổi hành vi sau đây được áp dụng hồi tố cho các tiêu chuẩn C ++ được công bố trước đó.</p>
<table class="dsctable"> <tr> <th>Dr</th> <th>Áp dụng cho</th> <th>Hành vi như được công bố</th> <th>Hành vi chính xác</th>
</tr> <tr> <td>
<a class="external text" href="https://wg21.link/P0935R0" rel="nofollow">P0935R0</a> </td> <td>C ++ 11</td> <td>Xây dựng bộ điều hợp với nội dung của</td> <td>3,5,12)</td>
</tr>
</table> <h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">Số lượng byte trong khu vực GET (nếu PBEG là NULL) hoặc trong khu vực đặt (nếu PBEG không phải là NULL) của mảng do người dùng cung cấp</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c">#include &lt;Istream&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="../strstream/strstream" title="cpp/io/strstream/strstream"> <span class="t-lines"><span>chuyên môn)</span></span></a></div> </td> <td>Nếu a<code>strstream</code>đối tượng, tùy chọn phân bổ bộ đệm<br/> <span class="t-mark">std :: cặp &lt;forwardit, forwardit&gt; <code>std::strstream</code>)</span> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/strstreambuf/strstreambuf">https://en.cppreference.com/w/cpp/io/strstreambuf/strstreambuf</a>
</p>
</div>
