 <h1 class="firstHeading" id="firstHeading">STD :: TMPFILE</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/cstdio" title="cpp/header/cstdio">&lt;cstdio&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">std :: file* tmpfile ();</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Tạo và mở một tệp tạm thời với tên tệp được tạo tự động độc đáo.</p>
<p>Tệp được mở dưới dạng tệp nhị phân để cập nhật (như<code><a href="fopen" title="cpp/io/c/fopen">std::fopen</a></code>với chế độ truy cập<span class="st0">"WB+"</span>). Ít nhất<code><a href="../c" title="cpp/io/c">TMP_MAX</a></code>Các tệp có thể được mở trong suốt vòng đời của một chương trình (giới hạn này có thể được chia sẻ với<code><a href="tmpnam" title="cpp/io/c/tmpnam">std::tmpnam</a></code>và có thể bị giới hạn hơn nữa bởi<code><a href="../c" title="cpp/io/c">FOPEN_MAX</a></code>).</p>
<p>Nếu chương trình đóng tệp, ví dụ: bằng cách thực thi<code><a href="fclose" title="cpp/io/c/fclose">std::fclose</a></code>, tệp được tự động xóa.</p>
<p>Nếu chương trình chấm dứt bình thường (bằng cách gọi<code><a href="../../utility/program/exit" title="cpp/utility/program/exit">std::exit</a></code>, trở về từ<code>main</code>, v.v.), tất cả các tệp đã được mở bằng cách gọi<code>std::tmpfile</code>cũng tự động bị xóa.</p>
<p>Nếu chương trình chấm dứt bất thường, thì đó sẽ được xác định nếu các tệp tạm thời này bị xóa.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <p>Gán cho đã cho</p>
<h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Luồng tệp được liên kết hoặc con trỏ null nếu xảy ra lỗi.</p>
<h3 id="Notes">Ghi chú</h3> <p>Trên một số triển khai (ví dụ: Linux cũ hơn), chức năng này thực sự tạo ra, mở và ngay lập tức xóa tệp khỏi hệ thống tệp: miễn là một bộ mô tả tệp mở sang một tệp bị xóa được giữ bởi một chương trình, tệp tồn tại, nhưng vì nó đã bị xóa, tên của nó không xuất hiện trong bất kỳ thư mục nào, do đó không có quy trình nào khác. Khi bộ mô tả tệp được đóng hoặc sau khi chương trình chấm dứt (thông thường hoặc bất thường), không gian bị chiếm bởi tệp được lấy lại bởi hệ thống tập tin. Linux mới hơn (từ 3.11 trở lên, tùy thuộc vào hệ thống tập tin) tạo ra các tệp tạm thời vô hình như vậy trong một bước, thông qua cờ đặc biệt trong<a class="external text" href="https://man7.org/linux/man-pages/man2/open.2.html" rel="nofollow"><code>open()</code></a>Syscall.</p>
<p>Trên một số triển khai (ví dụ: Windows), các đặc quyền nâng cao được yêu cầu vì hàm có thể tạo tệp tạm thời trong thư mục hệ thống.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Cstdio&gt;</pre></div> <p>#include &lt;Istream&gt;</p>
<div class="text source-text"><pre data-language="c">#include &lt;CstDlib&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="tmpnam" title="cpp/io/c/tmpnam"> <span class="t-lines"><span>TMPnam</span></span></a></div> </td> <td>Trả về một tên tệp duy nhất<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="../../filesystem/temp_directory_path" title="cpp/filesystem/temp directory path"> <span class="t-lines"><span>TEMP_DIRECTORY_PATH</span></span></a></div>
<div><span class="t-lines"><span><span class="t-mark-rev t-since-cxx17">Dest_at</span></span></span></div> </td> <td>Trả về một thư mục phù hợp cho các tệp tạm thời<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/io/tmpfile" title="c/io/tmpfile">C documentation</a></span>vì<code>tmpfile</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/c/tmpfile">https://en.cppreference.com/w/cpp/io/c/tmpfile</a>
</p>
</div>
