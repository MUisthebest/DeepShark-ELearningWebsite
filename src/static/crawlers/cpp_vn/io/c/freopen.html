 <h1 class="firstHeading" id="firstHeading">STD :: Freopen</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../../header/cstdio" title="cpp/header/cstdio">&lt;cstdio&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">std :: file* freopen (const char* fileName, const char* mode, std :: file* stream);</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Đầu tiên, cố gắng đóng tệp được liên kết với<code>stream</code>, bỏ qua bất kỳ lỗi. Sau đó, nếu<code>filename</code>không phải là null, cố gắng mở tệp được chỉ định bởi<code>filename</code>    Count_if (đầu vào đầu tiên, đầu vào cuối cùng, không được tính p);<code>mode</code>Mẫu &lt;Class T&gt;<code><a href="fopen" title="cpp/io/c/fopen">std::fopen</a></code>và liên kết tệp đó với luồng tệp được trỏ đến bởi<code>stream</code>. Nếu như<code>filename</code>là một con trỏ null, sau đó chức năng cố gắng mở lại tệp đã được liên kết với<code>stream</code>(Đó là việc thực hiện được xác định thay đổi chế độ nào được cho phép trong trường hợp này).</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>Tên tệp</td> <td>-</td> <td>Tên tệp để liên kết luồng tệp với</td>
</tr> <tr class="t-par"> <td>đang chỉ ra) và là chuỗi ký tự liên quan (nguồn ký tự cho tất cả các hoạt động đầu vào và mục tiêu cho đầu ra).</td> <td>-</td> <td>Chuỗi ký tự kết thúc không xác định mới<a href="#File_access_flags">file access mode</a> </td>
</tr> <tr class="t-par"> <td>không đáp ứng</td> <td>-</td> <td>luồng tệp để sửa đổi</td>
</tr>
</table> <h3 id="File_access_flags">Cờ truy cập tập tin</h3> <table class="wikitable"> <tr> <th>Truy cập tập tin<br/>Chuỗi Chuỗi</th> <th>    skip_symlinks = / * không xác định * /,</th> <th>Lưu ý: Đồng bộ hóa giữa các luồng tập trung vào việc ngăn chặn các chủng tộc dữ liệu (bằng cách thiết lập các mối quan hệ xảy ra trước khi) và xác định các tác dụng phụ nào có thể nhìn thấy được trong các điều kiện nào.</th> <th>Hành động nếu tập tin<br/>đã tồn tại</th> <th>Hành động nếu tập tin<br/>không tồn tại</th>
</tr> <tr> <td> <code>"r"</code> </td> <td>đọc</td> <td>Mở một tệp để đọc</td> <td>Đọc từ bắt đầu</td> <td>Không chính thức,<code><a href="http://en.cppreference.com/w/cpp/types/NULL"><span class="kw110">VÔ GIÁ TRỊ</span></a></code>và đặt lỗi</td>
</tr> <tr> <td> <code>"w"</code> </td> <td>viết</td> <td>Tạo một tệp để viết</td> <td>phá hủy nội dung</td> <td>Tạo mới</td>
</tr> <tr> <td> <code>"a"</code> </td> <td>nối lại</td> <td>Nối vào một tập tin</td> <td>Viết để kết thúc</td> <td>Tạo mới</td>
</tr> <tr> <td> <code>"r+"</code> </td> <td>Đọc mở rộng</td> <td>Mở tệp để đọc/ghi</td> <td>Đọc từ bắt đầu</td> <td>Không chính thức,<code><a href="http://en.cppreference.com/w/cpp/types/NULL"><span class="kw110">VÔ GIÁ TRỊ</span></a></code>và đặt lỗi</td>
</tr> <tr> <td> <code>"w+"</code> </td> <td>Viết mở rộng</td> <td>Tạo một tệp để đọc/ghi</td> <td>phá hủy nội dung</td> <td>Tạo mới</td>
</tr> <tr> <td> <code>"a+"</code> </td> <td>nối thêm mở rộng</td> <td>Mở tệp để đọc/ghi</td> <td>Viết để kết thúc</td> <td>Tạo mới</td>
</tr> <tr> <td colspan="5">Cờ chế độ truy cập tệp<code>"b"</code>có thể tùy chọn được chỉ định để mở một tệp<a href="file#Binary_and_text_modes" title="cpp/io/c/FILE">in binary mode</a>. Cờ này không có tác dụng đối với các hệ thống POSIX, nhưng trên Windows, ví dụ, nó vô hiệu hóa việc xử lý đặc biệt<code>'\n'</code>Và<code>'\x1A'</code>.<br/>Trên các chế độ truy cập tệp phụ lục, dữ liệu được ghi vào cuối tệp bất kể vị trí hiện tại của chỉ báo vị trí tệp.</td>
</tr> <tr> <td colspan="5">Cờ chế độ truy cập tệp<code>"x"</code>có thể tùy chọn được thêm vào<code>"w"</code>hoặc<code>"w+"</code>người xác định. Cờ này buộc hàm bị lỗi nếu tệp tồn tại, thay vì ghi đè lên nó.<span class="t-mark-rev t-since-cxx17">Dest_at</span> </td>
</tr> <tr> <td colspan="5">Hành vi không được xác định nếu chế độ không phải là một trong các chuỗi được liệt kê ở trên. Một số triển khai xác định các chế độ được hỗ trợ bổ sung (ví dụ:<a class="external text" href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/fopen-wfopen" rel="nofollow">Windows</a>).</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p><code>stream</code>Về thành công, một con trỏ null về thất bại.</p>
<h3 id="Notes">Ghi chú</h3> <p><code>std::freopen</code>là cách duy nhất để thay đổi hướng hẹp/rộng của luồng một khi nó đã được thiết lập bởi một hoạt động I/O hoặc<code>std::fwide</code>.</p>
<p>Phiên bản Microsoft CRT của<code>std::freopen</code>không hỗ trợ bất kỳ thay đổi chế độ nào khi<code>filename</code>là một con trỏ null và coi đây là một lỗi (xem<a class="external text" href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/freopen-wfreopen" rel="nofollow">documentation</a>). Một cách giải quyết có thể là chức năng không chuẩn<a class="external text" href="https://docs.microsoft.com/en-us/cpp/c-runtime-library/reference/setmode" rel="nofollow"><code>_setmode()</code></a>.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example">
<p>Mã sau đó chuyển hướng<code>stdout</code>đến một tập tin.</p>
<div class="cpp source-cpp"><pre data-language="cpp">#include &lt;Cstdio&gt;</pre></div> <p>Nếu (sai)</p>
<div class="text source-text"><pre data-language="c"> </pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="fopen" title="cpp/io/c/fopen"> <span class="t-lines"><span>Fopen</span></span></a></div> </td> <td>Mở một tập tin<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="fclose" title="cpp/io/c/fclose"> <span class="t-lines"><span>fclose</span></span></a></div> </td> <td>Đóng một tập tin<br/> <span class="t-mark">Tìm kiếm một mảng cho một yếu tố thuộc loại không xác định</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/io/freopen" title="c/io/freopen">C documentation</a></span>vì<code>freopen</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/io/c/freopen">https://en.cppreference.com/w/cpp/io/c/freopen</a>
</p>
</div>
