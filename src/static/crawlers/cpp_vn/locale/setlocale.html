 <h1 class="firstHeading" id="firstHeading">STD :: Setlocale</h1> <table class="t-dcl-begin"> <tr class="t-dsc-header"> <th>C Thư viện<code><a href="../header/clocale" title="cpp/header/clocale">&lt;clocale&gt;</a></code> </th> <th> </th> <th> </th> </tr> <tr class="t-dcl"> <td class="t-dcl-nopad"> <pre data-language="cpp">char* setlocale (danh mục int, const char* locale);</pre>
</td> <td class="t-dcl-nopad"> </td> <td class="t-dcl-nopad"> </td> </tr> </table> <p>Các<code>setlocale</code>Chức năng cài đặt locale hệ thống được chỉ định hoặc phần của nó là ngôn ngữ C mới. Các sửa đổi vẫn có hiệu lực và ảnh hưởng đến việc thực hiện tất cả các chức năng thư viện C nhạy cảm với địa phương cho đến khi cuộc gọi tiếp theo đến<code>setlocale</code>. Nếu như<code>locale</code>là một con trỏ null,<code>setlocale</code>Truy vấn ngôn ngữ C hiện tại mà không cần sửa đổi nó.</p>
<h3 id="Parameters">) với giá trị ban đầu</h3> <table class="t-par-begin"> <tr class="t-par"> <td>loại</td> <td>-</td> <td>Định danh danh mục địa phương, một trong những<a href="lc_categories" title="cpp/locale/LC categories"><code>LC_xxx</code></a>macro. Có lẽ<code>​0​</code>.</td>
</tr> <tr class="t-par"> <td>địa phương</td> <td>-</td> <td>Định danh địa phương dành riêng cho hệ thống. Có thể được<code>""</code>cho địa phương được ưu tiên của người dùng hoặc<code>"C"</code>Đối với địa điểm tối thiểu</td>
</tr>
</table> <h3 id="Return_value">phải sao cho một đối tượng thuộc loại</h3> <p>Con trỏ tới một chuỗi kết thúc null hẹp xác định cục c sau khi áp dụng các thay đổi, nếu có, hoặc con trỏ null về lỗi.</p>
<p>Một bản sao của chuỗi được trả về cùng với danh mục được sử dụng trong cuộc gọi này đến<code>std::setlocale</code>Có thể được sử dụng sau đó trong chương trình để khôi phục địa điểm trở lại Bang khi kết thúc cuộc gọi này.</p>
<h3 id="Notes">Ghi chú</h3> <p>Trong quá trình khởi động chương trình, tương đương với<code>std<span class="sy4">::</span><span class="me2">setlocale</span><span class="br0">.</span><a href="http://en.cppreference.com/w/cpp/locale/LC_categories"><span class="kw1996">Lc_all</span></a>, <span class="st0">"C"</span><span class="br0">)</span><span class="sy4">Số lượng các yếu tố để sao chép</span></code>được thực thi trước khi bất kỳ mã người dùng được chạy.</p>
<p>Mặc dù loại trả lại là<code>char*</code>, Sửa đổi các ký tự nhọn là hành vi không xác định.</p>
<p>container tiêu chuẩn<code>setlocale</code>Sửa đổi trạng thái toàn cầu ảnh hưởng đến việc thực thi các chức năng phụ thuộc vào địa phương, hành vi không xác định là gọi nó từ một luồng, trong khi một luồng khác đang thực hiện bất kỳ chức năng nào sau đây:<code><a href="../io/c/fprintf" title="cpp/io/c/fprintf">std::fprintf</a></code>Thì<code>std::isprint</code>Thì<code><a href="../string/wide/iswdigit" title="cpp/string/wide/iswdigit">std::iswdigit</a></code>Thì<code><a href="localeconv" title="cpp/locale/localeconv">std::localeconv</a></code>Thì<code>std::tolower</code>Thì<code><a href="../io/c/fscanf" title="cpp/io/c/fscanf">std::fscanf</a></code>Thì<code>std::ispunct</code>Thì<code><a href="../string/wide/iswgraph" title="cpp/string/wide/iswgraph">std::iswgraph</a></code>Thì<code><a href="../string/multibyte/mblen" title="cpp/string/multibyte/mblen">std::mblen</a></code>Thì<code>std::toupper</code>Thì<code>std::isalnum</code>Thì<code>std::isspace</code>Thì<code><a href="../string/wide/iswlower" title="cpp/string/wide/iswlower">std::iswlower</a></code>Thì<code><a href="../string/multibyte/mbstowcs" title="cpp/string/multibyte/mbstowcs">std::mbstowcs</a></code>Thì<code><a href="../string/wide/towlower" title="cpp/string/wide/towlower">std::towlower</a></code>Thì<code>std::isalpha</code>Thì<code>std::isupper</code>Thì<code><a href="../string/wide/iswprint" title="cpp/string/wide/iswprint">std::iswprint</a></code>Thì<code><a href="../string/multibyte/mbtowc" title="cpp/string/multibyte/mbtowc">std::mbtowc</a></code>Thì<code><a href="../string/wide/towupper" title="cpp/string/wide/towupper">std::towupper</a></code>Thì<code>std::isblank</code>Thì<code><a href="../string/wide/iswalnum" title="cpp/string/wide/iswalnum">std::iswalnum</a></code>Thì<code><a href="../string/wide/iswpunct" title="cpp/string/wide/iswpunct">std::iswpunct</a></code>Thì<code>std::setlocale</code>Thì<code><a href="../string/wide/wcscoll" title="cpp/string/wide/wcscoll">std::wcscoll</a></code>Thì<code>std::iscntrl</code>Thì<code><a href="../string/wide/iswalpha" title="cpp/string/wide/iswalpha">std::iswalpha</a></code>Thì<code><a href="../string/wide/iswspace" title="cpp/string/wide/iswspace">std::iswspace</a></code>Thì<code><a href="../string/byte/strcoll" title="cpp/string/byte/strcoll">std::strcoll</a></code>Thì<code><a href="../string/wide/wcstof" title="cpp/string/wide/wcstof">std::wcstod</a></code>Thì<code>std::isdigit</code>Thì<code><a href="../string/wide/iswblank" title="cpp/string/wide/iswblank">std::iswblank</a></code>Thì<code><a href="../string/wide/iswupper" title="cpp/string/wide/iswupper">std::iswupper</a></code>Thì<code><a href="../string/byte/strerror" title="cpp/string/byte/strerror">std::strerror</a></code>Thì<code><a href="../string/multibyte/wcstombs" title="cpp/string/multibyte/wcstombs">std::wcstombs</a></code>Thì<code>std::isgraph</code>Thì<code><a href="../string/wide/iswcntrl" title="cpp/string/wide/iswcntrl">std::iswcntrl</a></code>Thì<code><a href="../string/wide/iswxdigit" title="cpp/string/wide/iswxdigit">std::iswxdigit</a></code>Thì<code><a href="../string/byte/strtof" title="cpp/string/byte/strtof">std::strtod</a></code>Thì<code><a href="../string/wide/wcsxfrm" title="cpp/string/wide/wcsxfrm">std::wcsxfrm</a></code>Thì<code>std::islower</code>Thì<code><a href="../string/wide/iswctype" title="cpp/string/wide/iswctype">std::iswctype</a></code>Thì<code>std::isxdigit</code>.</p>
<p>Posix cũng định nghĩa một địa phương có tên<code>"POSIX"</code>, luôn luôn có thể truy cập và tương đương với mức tối thiểu mặc định<code>"C"</code>địa phương.</p>
<p>Posix cũng chỉ định rằng con trỏ được trả về, không chỉ nội dung của chuỗi nhọn, có thể bị vô hiệu hóa bởi các cuộc gọi tiếp theo đến<code>setlocale</code>.</p>
<h3 id="Example">Ví dụ</h3> <div class="t-example"> <div class="cpp source-cpp"><pre data-language="cpp">#include &lt;clocale&gt;</pre></div> <p>#include &lt;Istream&gt;</p>
<div class="text source-text"><pre data-language="c">#include &lt;Cstdio&gt;</pre></div> </div> <h3 id="See_also">(chức năng)</h3> <table class="t-dsc-begin"> <tr class="t-dsc"> <td> <div><a href="lc_categories" title="cpp/locale/LC categories"> <span class="t-lines"><span>Lc_all</span><span>LC_Collate</span><span>LC_CTYPE</span><span>LC_monetary</span><span>Lc_numeric</span><span>LC_TIME</span></span></a></div> </td> <td>Thể loại địa phương cho<code>std::setlocale</code> <br/> <span class="t-mark">(Hằng số vĩ mô)</span> </td>
</tr> <tr class="t-dsc"> <td> <div><a href="locale" title="cpp/locale/locale"> <span class="t-lines"><span>địa phương</span></span></a></div> </td> <td>tập hợp các khía cạnh đa hình đóng gói sự khác biệt về văn hóa<br/> <span class="t-mark">Các loại chính sách thực thi</span> </td>
</tr> <tr class="t-dsc"> <td colspan="2"> <span><a href="https://en.cppreference.com/w/c/locale/setlocale" title="c/locale/setlocale">C documentation</a></span>vì<code>setlocale</code> </td>
</tr> </table> <div class="_attribution">
<p class="_attribution-p">© CPPReference.com<br/>Được cấp phép theo giấy phép Creative Commons Attribution-Sharealike không được chứng minh v3.0.<br/>
<a class="_attribution-link" href="https://en.cppreference.com/w/cpp/locale/setlocale">https://en.cppreference.com/w/cpp/locale/setlocale</a>
</p>
</div>
